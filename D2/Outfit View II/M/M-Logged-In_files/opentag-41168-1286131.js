/*
 * OpenTag, a tag deployment platform
 * Copyright 2011-2012, QuBit Group
 * http://opentag.qubitproducts.com
 */

try{(function(){(function(){function q(){}q.getUrl=function(){return document.location.href};q.getQueryParam=function(y){var t,u,x,s,w,r,v;s=q.getUrl();if(s.indexOf("?")>0){r=s.substring(s.indexOf("?")+1).split("&");for(t=0,u=r.length;t<u;t+=1){w=r[t];if(w.indexOf("=")>0){v=w.split("=");if((v.length===2)&&(v[0]===y)){return v[1]}}}}return null};q.variableExists=function(r){return(r!==undefined)&&(r!==null)};q.getElementValue=function(r){var s=document.getElementById(r);if(s){return s.textContent||s.innerText}return null};q.substituteArray=function(v,u,w){var x,r,t,s;t=v.value.indexOf("[#]");x=v.value.substring(0,t);r=v.value.substring(t+3);w=w.replace(new RegExp(u+"\\.length","g"),x+".length");w=w.replace(new RegExp(u+"(\\[.*?\\])","g"),x+"$1"+r);return w};q.prepareQuotedString=function(r){if(typeof(r)==="string"){return'"'+(r.replace(/\"/g,'\\"'))+'"'}else{return r}};q.namespace=function(x,r){var v=x.split(".");var w=(function(){return eval("this")}());var u=null,s=null;for(var t=0;t<v.length;t++){u=w;s=v[t];w[s]=w[s]||{};w=w[s]}if(r){u[s]=r}return u[s]};q.namespace("qubit.qtag");qubit.qtag.Utils=qubit.qtag.Utils||q;window.qubit.qtag=window.qubit.qtag||qubit.qtag}());var b={};b.html={};b.html.fileLoader={};b.html.fileLoader.load=function(q,z,B,x,u,v){var r,s,y,t,w;w=false;t=function(C){return function(){if(!w){w=true;if(C&&!y){y={url:document.location.href}}B(q,y,C)}}};try{if(z){s=z(q)}}catch(A){s=false;B(q,"Exception loading pre",true)}finally{if(s!==false){r=b.html.fileLoader.createScriptEl(q,u,false,v);if(B){r.onload=t(false);r.onerror=t(true);r.onreadystatechange=function(){if((this.readyState==="complete")||(this.readyState==="loaded")){setTimeout(function(){t(false)()},1)}}}if(!x){x=window.document.getElementsByTagName("head")[0]}x.appendChild(r)}}};b.html.fileLoader.createScriptEl=function(u,t,v,q){var r,s=document.createElement("script");s.type="text/javascript";s.src=b.html.fileLoader.tidyUrl(u)+(v?("?"+new Date().getTime()):"");if(t!==false){s.async="true";s.defer="true"}else{s.async="false";if(s.async!==false){s.async=false}s.defer="false"}for(r in q){if(q.hasOwnProperty(r)){s.setAttribute(r,q[r])}}return s};b.html.fileLoader.tidyUrl=function(q){if(q.substring(0,5)==="http:"){return q}if(q.substring(0,6)==="https:"){return q}return"//"+q};b.html.PostData=function(t,x,z){var y,v,B,u,s,A,w,r,C,q;q=2;C=5000;w=false;r=function(){if(q>0){setTimeout(function(){if(!w){q-=1;y()}},C)}};v=navigator.userAgent.toLowerCase();B=v.indexOf("msie")!==-1;u=v.indexOf("msie 9")!==-1;s=((v.indexOf("msie 7")!==-1)||(v.indexOf("msie 6")!==-1));A=("https:"===document.location.protocol?"https:":"http:")+t;z=z||"POST";y=function(){var I;try{I=null;try{I=new XMLHttpRequest()}catch(H){}if(I&&!B){I.open(z,A,true)}else{if(typeof XDomainRequest!=="undefined"){I=new XDomainRequest();I.open(z,A)}else{I=null}}try{I.withCredentials=false}catch(G){}if(I.setRequestHeader){I.setRequestHeader("Content-Type","text/plain;charset=UTF-8")}I.onload=function(){w=true};I.onreadystatechange=function(){};I.ontimeout=function(){};I.onerror=function(){};I.onprogress=function(){};I.send(x)}catch(E){try{try{b.html.fileLoader.load(A)}catch(D){if(window.console&&window.console.log){window.console.log(E)}}}catch(F){}}r()};if(s){b.html.fileLoader.load(A);return}else{y()}};b.html.GlobalEval={};b.html.GlobalEval.globalEval=function(r){if(window.execScript){window.execScript(r)}else{var q=function(){window["eval"].call(window,r)};q()}};b.html.HtmlInjector={};b.html.HtmlInjector.inject=function(q,z,y,t,w){var v,C,x,B,u,A,r;if(y.toLowerCase().indexOf("<script")>=0){x=document.createElement("div");x.innerHTML="a"+y;B=x.getElementsByTagName("script");u=[];for(v=0,C=B.length;v<C;v+=1){u.push(B[v])}r=[];for(v=0,C=u.length;v<C;v+=1){A=u[v];var D={attributes:b.html.HtmlInjector.getAttributes(A)};if(A.src){D.src=A.src}else{D.script=A.innerHTML}r.push(D);A.parentNode.removeChild(A)}if(x.innerHTML){if(x.innerHTML.length>0){x.innerHTML=x.innerHTML.substring(1)}}b.html.HtmlInjector.doInject(q,z,x);b.html.HtmlInjector.loadScripts(r,0,t,q)}else{x=document.createElement("div");x.innerHTML=y;b.html.HtmlInjector.doInject(q,z,x);if(t){t()}}};b.html.HtmlInjector.doInject=function(s,r,t){if(t.childNodes.length>0){var q=document.createDocumentFragment();while(t.childNodes.length>0){q.appendChild(t.removeChild(t.childNodes[0]))}if(r){b.html.HtmlInjector.injectAtStart(s,q)}else{b.html.HtmlInjector.injectAtEnd(s,q)}}};b.html.HtmlInjector.injectAtStart=function(r,q){if(r.childNodes.length===0){r.appendChild(q)}else{r.insertBefore(q,r.childNodes[0])}};b.html.HtmlInjector.injectAtEnd=function(s,r,q){if(!q){q=1}if((s===document.body)&&(document.readyState!=="complete")&&(q<50)){setTimeout(function(){b.html.HtmlInjector.injectAtEnd(s,r,q+1)},100)}else{s.appendChild(r)}};b.html.HtmlInjector.loadScripts=function(u,s,r,q){var t,w,v=false;for(t=u.length;s<t;s+=1){w=u[s];if(w.src){v=true;break}else{b.html.GlobalEval.globalEval(w.script)}}if(v){b.html.fileLoader.load(w.src,null,function(){b.html.HtmlInjector.loadScripts(u,s+1,r,q)},q,false,w.attributes)}if(r&&(s===t)){r()}};b.html.HtmlInjector.getAttributes=function(u){var q,t,r,w,s,v={};if(u){r=u.attributes;t=r.length;for(q=0;q<t;q++){w=r[q].value;s=r[q].name.toLowerCase();if((w!=="")&&((s==="id")||(s==="class")||(s==="charset")||(s.substr(0,5)==="data-"))){v[s]=w}}return v}};(function(){var s,u=false,w=1,v,r,t,q;r=function(y){var x;if(y===true){w-=1}if(!w||(y!==true&&!u)){if(!document.body){return setTimeout(r,1)}u=true;if(y!==true){w-=1;if(w>0){return}}while(v.length>0){x=v.shift();x()}}};q=function(){if(u){return}try{document.documentElement.doScroll("left")}catch(x){setTimeout(q,1);return}r()};t=function(){if(v){return}v=[];if(document.readyState==="complete"){return setTimeout(r,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",s,false);window.addEventListener("load",r,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",s);window.attachEvent("onload",r);var x=false;try{x=(window.frameElement===null)||(window.frameElement===undefined)}catch(y){}if(document.documentElement.doScroll&&x){q()}}}};b.html.ready=function(x){t();if(u){setTimeout(x,1)}else{v.push(x)}};if(document.addEventListener){s=function(){document.removeEventListener("DOMContentLoaded",s,false);r()}}else{if(document.attachEvent){s=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",s);r()}}}}}());b.cookie={};b.cookie.PageView={};b.cookie.PageView.update=function(){var q,t;t=function s(){return(Math.floor(1+Math.random()*65536)).toString(36).substring(1)};if(!window.__pageViewId__){q=new Date().getTime().toString(36);window.__pageViewId__=q+t()+t()+t()}return window.__pageViewId__};b.html.simplecookie={};b.html.simplecookie.readCookie=function(q){var w,t,x,v,y,s,u;y=q+"=";v=document.cookie.split(";");w=/^\s+|\s+$/g;for(s=0,u=v.length;s<u;s+=1){t=v[s].replace(w,"");if(t.indexOf(y)===0){x=unescape(t.substring(y.length));if(x.length===0){return null}return x}}return null};b.html.simplecookie.readAllCookies=function(s){var q,t,v,x,z,u,y,w;z=s+"=";x=document.cookie.split(";");q=/^\s+|\s+$/g;w=[];for(u=0,y=x.length;u<y;u+=1){t=x[u].replace(q,"");if(t.indexOf(z)===0){v=unescape(t.substring(z.length));if(v.length>0){w.push(v)}}}return w};b.html.simplecookie.writeCookie=function(s,v,w,u){var r,q,t;if(w){r=new Date();r.setTime(r.getTime()+(w*86400000));q="; expires="+r.toGMTString()}else{q=""}t=escape(s)+"="+escape(v)+q+"; path=/;";if(u){t+=" domain="+u}document.cookie=t};var p={};(function(){function u(A){return A<10?"0"+A:A}var s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,w=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,x,r,z={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},y;function q(A){w.lastIndex=0;return w.test(A)?'"'+A.replace(w,function(B){var C=z[B];return typeof C==="string"?C:"\\u"+("0000"+B.charCodeAt(0).toString(16)).slice(-4)
})+'"':'"'+A+'"'}function t(A){return isFinite(A.valueOf())?A.getUTCFullYear()+"-"+u(A.getUTCMonth()+1)+"-"+u(A.getUTCDate())+"T"+u(A.getUTCHours())+":"+u(A.getUTCMinutes())+":"+u(A.getUTCSeconds())+"Z":null}function v(H,E){var C,B,I,A,F=x,D,G=E[H];if(G instanceof Date){G=t(G)}else{if((G instanceof String)||(G instanceof Number)||(G instanceof Boolean)){G=G.valueOf()}}if(typeof y==="function"){G=y.call(E,H,G)}switch(typeof G){case"string":return q(G);case"number":return isFinite(G)?String(G):"null";case"boolean":case"null":return String(G);case"object":if(!G){return"null"}x+=r;D=[];if(Object.prototype.toString.apply(G)==="[object Array]"){A=G.length;for(C=0;C<A;C+=1){D[C]=v(C,G)||"null"}I=D.length===0?"[]":x?"[\n"+x+D.join(",\n"+x)+"\n"+F+"]":"["+D.join(",")+"]";x=F;return I}if(y&&typeof y==="object"){A=y.length;for(C=0;C<A;C+=1){if(typeof y[C]==="string"){B=y[C];I=v(B,G);if(I){D.push(q(B)+(x?": ":":")+I)}}}}else{for(B in G){if(Object.prototype.hasOwnProperty.call(G,B)){I=v(B,G);if(I){D.push(q(B)+(x?": ":":")+I)}}}}I=D.length===0?"{}":x?"{\n"+x+D.join(",\n"+x)+"\n"+F+"}":"{"+D.join(",")+"}";x=F;return I}}if(typeof p.stringify!=="function"){p.stringify=function(D,B,C){var A;x="";r="";if(typeof C==="number"){for(A=0;A<C;A+=1){r+=" "}}else{if(typeof C==="string"){r=C}}y=B;if(B&&typeof B!=="function"&&(typeof B!=="object"||typeof B.length!=="number")){throw new Error("JSON.stringify")}return v("",{"":D})}}if(typeof p.parse!=="function"){p.parse=function(D,A){var C;function B(H,G){var F,E,I=H[G];if(I&&typeof I==="object"){for(F in I){if(Object.prototype.hasOwnProperty.call(I,F)){E=B(I,F);if(E!==undefined){I[F]=E}else{delete I[F]}}}}return A.call(H,G,I)}D=String(D);s.lastIndex=0;if(s.test(D)){D=D.replace(s,function(E){return"\\u"+("0000"+E.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(D.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){C=eval("("+D+")");return typeof A==="function"?B({"":C},""):C}throw new SyntaxError("JSON.parse")}}}());(function(){function q(x){return x.replace(/^\s+/,"").replace(/\s+$/,"")}var u={callbacks:{},unfired_events:[],early_callbacks:null,currentUV:null},s,t="universal_variable",r=0,w=500,v;u._isArray=function(x){return(Object.prototype.toString.call(x)==="[object Array]")};u._targetChanged=function(y,x,z){var C,A,B;if(z===null){if(x==="null"){return false}else{return true}}else{if(z===undefined){if(x===z){return false}else{return true}}else{C=p.parse(x);A=u._getNested(C,y);B=u._getNested(z,y);return !u._jsonIsEqual(A,B)}}};u._processCallbacks=function(){var x;if(u.early_callbacks&&u.early_callbacks.length>0){for(x=0;x<u.early_callbacks.length;x+=1){u.push(u.early_callbacks[x])}u.early_callbacks=null}};u._keyStringToArr=function(x){x=q(x);if(x===""){return[]}else{x=x.replace(/\[(\w+)\]/g,".$1");x=x.replace(/^\./,"");return x.split(".")}};u._getNested=function(z,y){var x=u._keyStringToArr(y),A;while(x.length>0){A=x.shift();if(z.hasOwnProperty(A)){z=z[A]}else{return}}return z};u._jsonIsEqual=function(y,x){if(typeof y!=="string"){y=p.stringify(y,u._stripEvents)}if(typeof x!=="string"){x=p.stringify(x,u._stripEvents)}return y===x};u._stripEvents=function(x,y){if(x!=="events"){return y}else{return undefined}};u._on=function(y,z){var A,x;A=y.split(":");y=A[0];x=A[1];u.callbacks[y]=u.callbacks[y]||[];if(x){u.callbacks[y].push({keyString:x,func:z})}else{u.callbacks[y].push({func:z})}};u._trigger=function(z,A){var y,x;if(u.callbacks[z]){for(y=0;y<u.callbacks[z].length;y+=1){if(typeof u.callbacks[z][y].func==="function"){x=u.callbacks[z][y].keyString;if(x){if(z==="change"&&u._targetChanged(x,u.currentUV,s)){u.callbacks[z][y].func(A)}}else{u.callbacks[z][y].func(A)}}}}};u._eventsPush=function(x){var y,z;s.events[s.events.length]=x;x.time=x.time||(new Date()).getTime();if(u.callbacks.event){y=0;z=u.callbacks.event.length;for(y;y<z;y+=1){u.callbacks.event[y].func(x)}}x.has_fired=true};u._getUnfiredEvents=function(){var x=0;for(x=0;x<s.events.length;x+=1){if(!s.events[x].has_fired){u.unfired_events.push(s.events.splice(x,1)[0]);x-=1}}};u._fireEvents=function(){while(u.unfired_events.length>0){s.events.push(u.unfired_events.shift())}};u._resetEventsPush=function(){s.events=s.events||[];if(s.events.push.toString().indexOf("[native code]")!==-1){s.events.push=u._eventsPush;u._getUnfiredEvents();u._fireEvents()}};u._checkForChanges=function(){if(u.callbacks.change&&u.callbacks.change.length>0){if(!u._jsonIsEqual(u.currentUV,s)){u._trigger("change",s);u.currentUV=p.stringify(s,u._stripEvents)}}};u._setUVLocation=function(x){t=x;u._initUV()};u._initUV=function(){window[t]=window[t]||{events:[]};s=window[t];if(!s.events){s.events=[]}};u.push=function(x){if(!u._isArray(x)){return}if(x[0]==="on"){u._on(x[1],x[2])}else{if(x[0]==="trigger"&&x[1]){u._trigger(x[1])}}};u.init=function(y,x){if(x){t=x}u._initUV();if(!window.uv_listener||u._isArray(window.uv_listener)){u.early_callbacks=window.uv_listener||null;window.uv_listener=u;if(!y){u.start()}}else{if(x){window.uv_listener._setUVLocation(t)}}};u.start=function(){u.currentUV=p.stringify(s,u._stripEvents);v=setInterval(function(){u._initUV();u._resetEventsPush();u._checkForChanges()},w);u._processCallbacks()};b.html.UVListener=u}());(function(){function q(r){this.tagManager=r}q.prototype.sendLoadTimes=function(s){var u,t,r,w,v;if(!this.tagManager.isTellingLoadTimes){return}t="c="+s.qTagClientId+"&p="+s.profileName+"&l="+(s.tellLoadTimesProbability)+"&pv="+b.cookie.PageView.update()+"&d=";r=[];v=this.tagManager.loadTimes;for(u in v){if(v.hasOwnProperty(u)){w=this.tagManager.loadTimes[u];r.push('"'+u+'":'+(w.end-w.start));delete this.tagManager.loadTimes[u]}}t+=encodeURIComponent("{"+r.join(",")+"}");if(s.pingServerUrl){b.html.PostData("//"+s.pingServerUrl+"/tag2?"+t,null,"GET")}this.sendErrors(s)};q.prototype.sendErrors=function(r){if(!window.openTag_sendErrors){return}var u,t,v,s=[];for(u in this.tagManager.errors){if(this.tagManager.errors.hasOwnProperty(u)){t=this.tagManager.errors[u];s.push("{r: '"+t.reason+"',u:'"+t.url+"',l:'"+t.lineNumber+"'}")}}if(s.length>0){if(window.console&&window.console.log){window.console.log(s.join(","))}v="c="+r.qTagClientId+"&p="+r.profileName+"&pv="+b.cookie.PageView.update()+"&e="+("["+s.join(",")+"]");if(r.pingServerUrl){b.html.PostData("//"+r.pingServerUrl+"/tag_err?"+v,null,"GET")}}};q.prototype.handleDedupe=function(r,s){this.sendDedupePings(this.determineDedupeLoaders(r),s)};q.prototype.determineDedupeLoaders=function(w,v){var s,t,u,r;s=[];for(t in w){if(w.hasOwnProperty(t)){r=w[t];if((r.dedupe===this.tagManager.DEDUPE_URL_FILTER)&&(r.state===this.tagManager.NOT_LOADED)){s.push(r)}}}return s};q.prototype.sendDedupePings=function(t,u){var v,w,s,x,r;if(this.tagManager.isTellingLoadTimes){x="c="+u.qTagClientId+"&p="+u.profileName+"&l="+(u.tellLoadTimesProbability)+"&pv="+b.cookie.PageView.update()+"&dd=";r=[];for(v=0,w=t.length;v<w;v+=1){s=t[v];r.push(s.id)}x+=encodeURIComponent("["+r.join(",")+"]");if(u.pingServerUrl&&r.length>0){b.html.PostData("//"+u.pingServerUrl+"/tag2?"+x,null,"GET")}}};qubit.qtag.Ping=qubit.qtag.Ping||q}());b.cookie.SimpleSessionCounter={};b.cookie.SimpleSessionCounter._cookieName="_qst_s";b.cookie.SimpleSessionCounter._sessionCookie="_qsst_s";b.cookie.SimpleSessionCounter.update=function(t){var v,q,u,r=30;v=b.html.simplecookie.readCookie(b.cookie.SimpleSessionCounter._cookieName);q=b.html.simplecookie.readCookie(b.cookie.SimpleSessionCounter._sessionCookie);if(!v){v=1}else{v=parseInt(v,10);if(!q||(parseInt(q,10)<(new Date().getTime()-r*60*1000))){v+=1}}b.html.simplecookie.writeCookie(b.cookie.SimpleSessionCounter._cookieName,v,365,t);b.html.simplecookie.writeCookie(b.cookie.SimpleSessionCounter._sessionCookie,new Date().getTime().toString(),null,t);return v};(function(){function r(){}var q=b.html.simplecookie,s=qubit.qtag.Utils;r.setupSession=function(u){var z,w,v,x,A,t;z={};z.sessionCount=b.cookie.SimpleSessionCounter.update(u.qtag_domain);
A="qtag_"+u.profileName;v=q.readCookie(A);if(v){try{v=p.parse(v)}catch(y){v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}}}}else{v={sc:0,sessionCount:0,pageViews:0,sessionStartTime:0,referrer:[],sessionLandingPage:"",__v:{}}}t=new Date().getTime();if(z.sessionCount!==parseInt(v.sc,10)){v.sessionStartTime=t;v.sc=z.sessionCount;v.sessionCount+=1;v.referrer.push({url:r.getReferrer(),landing:s.getUrl().substring(0,300),time:t});v.sessionLandingPage=s.getUrl().substring(0,300)}else{if(r.isReferrerDifferent()){if(!r.referrerIsSameAsPrevious(v.referrer,t,30*60*1000)){v.referrer.push({url:r.getReferrer(),landing:s.getUrl().substring(0,300),time:t});v.sessionLandingPage=s.getUrl().substring(0,300);v.sessionStartTime=t;v.sessionCount+=1}}}z.sessionCount=v.sessionCount;z.sessionStartTime=v.sessionStartTime;z.pageStartTime=t;v.pageViews+=1;z.pageViews=v.pageViews;z.sessionLandingPage=v.sessionLandingPage;z.referrer=v.referrer;if(z.referrer.length>5){z.referrer.splice(2,z.referrer.length-5)}x=p.stringify(v);w=0;while((x.length>u.maxCookieLength)&&(w<5)){if(v.referrer.length>=3){v.referrer.splice(2,1)}else{if(v.referrer.length===2){v.referrer=[v.referrer[0]]}else{if(v.referrer.length===1){v.referrer=[]}}}x=p.stringify(v);w+=1}z.referrer=v.referrer;q.writeCookie(A,x,-100,"");q.writeCookie(A,x,365,u.qtag_domain);z.setVariable=function(C,D,E){var B=(!!E)?E:0;v.__v[C]=[D,B];q.writeCookie(A,p.stringify(v),365,u.qtag_domain)};z.getCookie=q.readCookie;z.getVariable=function(E){var B,D,C;B=v.__v[E];if(B){D=B[1];if((D===0)||(D>new Date().getTime())){return B[0]}}return null};z.on=function(D,C,B){if(C.attachEvent){C.attachEvent("on"+D,B)}else{if(C.addEventListener){C.addEventListener(D,B,false)}}};z.getTagCookie=function(){return q.readCookie(A)};r.lastSession=z;return z};r.referrerIsSameAsPrevious=function(u,w,y){var v,t,x;if(u.length>0){v=r.getReferrer();t=s.getUrl().substring(0,300);x=u[u.length-1];return(x.url===v)&&(x.landing===t)&&((x.time+y)>w)}return false};r.isReferrerDifferent=function(){var w,t,v;v=r.getReferrer();w=v.indexOf("://");if(w===-1){return true}w+=3;try{if(v.substring(w).indexOf(r.getDomain())!==0){return true}return false}catch(u){return true}};r.getReferrer=function(){if(document.referrer){return document.referrer.substring(0,300)}return"direct"};r.getDomain=function(){return document.location.host};qubit.qtag.Session=qubit.qtag.Session||r}());(function(){var q={},s=qubit.qtag.Utils,r={};q.registerTag=function(t){var u=t.getConfig().profileName;if(r[u]){}r[u]=t};q.getTag=function(t){return r[t]};q.getAllTags=function(){return r};q.getVariableValue=function(v,t,w){try{var B=r[v];var u=B.getConfig();var z=u.scriptLoaders[t];var A=u.pageVars[w];if(s.variableExists(A.pageValue)){return A.pageValue}var x=String(z.pageVars[w].defaultValue);return x}catch(y){}};qubit.Tags=qubit.Tags||q})();var f=[],h={},l={},n=false,g="",c="Opentag",a="",m=0,j=3000,k=null,d=false,i="",o=null;d=true;var g="41168";var a="1286131";var f=[{filterType:"2",name:"Has qt_debug cookie",patternType:"100",pattern:function(q){return(((q.getCookie("qt_debug")||"")))},priority:1,id:39240611,scriptLoaderKeys:["26875986"]},{filterType:"1",name:"All",patternType:"1",pattern:"",priority:2,id:39240620,scriptLoaderKeys:["26875986"]},{filterType:"1",name:"Default filter: Match all",patternType:"1",pattern:"",priority:1,id:39240630,scriptLoaderKeys:["26876515"]},{filterType:"1",name:"Default filter: Match all",patternType:"1",pattern:"",priority:1,id:39240632,scriptLoaderKeys:["26881365"]},{filterType:"1",name:"only in Debug Mode",patternType:"100",pattern:function(q){return((document.cookie.indexOf("opentag_debug_tool")!==-1)||/opentag_debug/i.test(window.location.href))},starter:function(r,q){q()},priority:1,id:39240635,scriptLoaderKeys:["26881735"]},{filterType:"1",name:"Wait for jquery",patternType:"100",pattern:function(q){return(true)},starter:function(t,r){var q=0;var s=function(u){q+=1;if(q>20){return}if(window.jQuery){u()}else{setTimeout(function(){s(u)},100)}};s(r)},priority:1,id:39240649,scriptLoaderKeys:["26881740"]},{filterType:"1",name:"Only on Confirmation Page",patternType:"100",pattern:function(q){return true},starter:function(s,q){var r=setInterval(function(){if(window.qubit_universal_variable&&qubit_universal_variable.transaction){clearInterval(r);q()}},100);setTimeout(function(){clearInterval(r)},5000)},priority:1,id:39240656,scriptLoaderKeys:["29494805"]},{filterType:"1",name:"Default filter: Match all",patternType:"100",pattern:function(q){return(true)},starter:function(s,q){var r=function(v){v=v||50;var u=window.jQuery;var t=window.qubit_universal_variable;if(u&&t&&t.transaction&&t.transaction.line_items[0]){u.each(t.transaction.line_items,function(w,x){if(x.Product.category=="Jumpers & Cardigans"){q()}});q()}else{setTimeout(function(){r(v*2)},v)}};r()},priority:1,id:39240657,scriptLoaderKeys:["29494894"]},{filterType:"1",name:"Default filter: Match all",patternType:"100",pattern:function(q){return(true)},starter:function(s,q){var r=function(t){t=t||50;if(window.qubit_universal_variable&&qubit_universal_variable.page&&qubit_universal_variable.page.category=="confirmation"&&qubit_universal_variable.transaction&&qubit_universal_variable.transaction.order_id){q()}else{setTimeout(function(){r(t*2)},t)}};r()},priority:1,id:39240659,scriptLoaderKeys:["29574018"]},{filterType:"1",name:"Default filter: Match all",patternType:"100",pattern:function(q){return(true)},starter:function(s,q){var r=function(v){v=v||50;var u=window.jQuery;var t=window.qubit_universal_variable;if(u&&t&&t.transaction&&t.transaction.line_items){q()}else{setTimeout(function(){r(v*2)},v)}};r()},priority:1,id:39240672,scriptLoaderKeys:["29670156"]},{filterType:"1",name:"Has qt_debug cookie",patternType:"100",pattern:function(q){return(((q.getCookie("qt_debug")||"")))},priority:1,id:39240679,scriptLoaderKeys:["29977567"]},{filterType:"1",name:"Default filter: Match all",patternType:"100",pattern:function(q){return(true)},starter:function(s,q){function r(){try{return"localStorage" in window&&window.localStorage!==null}catch(t){return false}}if(r()){q()}},priority:1,id:39240687,scriptLoaderKeys:["29989316"]},{filterType:"1",name:"Default filter: Match all",patternType:"1",pattern:"",priority:1,id:39240691,scriptLoaderKeys:["31317733"]},{filterType:"1",name:"Default filter: Match all",patternType:"1",pattern:"",priority:1,id:39240697,scriptLoaderKeys:["32198184"]}];var h={};var l={26875986:{id:"26875986",name:"QuBit QTracker",scriptTimeout:5000,pre:"window._qtd = window._qtd || [];\x0A      window._qtd.push({\x0A        options: {\x0A          \x0A          domain: \x22.m.direct.asda.com\x22,\x0A          serverUrl: \x22pong.qubitproducts.com/t2\x22,\x0A          clientId: \x22asda_mobile\x22,\x0A          uvLocation: \x22qubit_universal_variable\x22,\x0A          usePingQueue: false\x0A        }\x0A      });",url:"dtxtngytz5im1.cloudfront.net/qtracker-v3-min.js",post:"(function () {\x0A  try {\x0A    if (!_qtd.orig_push) {\x0A      _qtd.orig_push = _qtd.push;\x0A    }\x0A    _qtd.push = function (data) {\x0A      if (data && data.resendUniversalVariables) {\x0A        if (window.universal_variable && window.universal_variable.qb && \x0A            window.universal_variable.qb.qb_etc_data) {\x0A          if (window.qubit_universal_variable) {\x0A            if (!window.qubit_universal_variable.qb) {\x0A              window.qubit_universal_variable.qb = {};\x0A            }\x0A            window.qubit_universal_variable.qb.qb_etc_data = window.universal_variable.qb.qb_etc_data;\x0A          }\x0A        }\x0A      }\x0A      _qtd.orig_push.apply(this, arguments);\x0A    };\x0A  	} catch (e) {\x0A    if (window.console) {\x0A      window.console.log(e)\x0A    }\x0A  }\x0A})()",html:"",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},26876515:{id:"26876515",name:"QuBit - Smartserve",scriptTimeout:5000,pre:"",url:"dd6zx4ibq538k.cloudfront.net/smartserve-3364.js",post:"",html:"",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},26881365:{id:"26881365",name:"UV Mapping",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A(function() {\x0A  \x0A  \x0A  var uvPolling = (function() {\x0A  \x0A    var uvCallbacks = [], timer;\x0A    \x0A    /** Change listener to detect changes in UV. **/\x0A    var when = function(key, cb) {\x0A      uvCallbacks.push({\x0A        key: key,\x0A        cb: cb\x0A      });\x0A      checkParameters();\x0A      if (!isChecking()) {\x0A        startChecking();\x0A      }\x0A    };\x0A    \x0A    var checkParameters = function() {\x0A      for (var i = 0; i < uvCallbacks.length; i++) {\x0A        var key = uvCallbacks[i].key;\x0A        if (window.universal_variable && window.universal_variable[key]) {\x0A          uvCallbacks[i].cb();\x0A          uvCallbacks.splice(i, 1);\x0A        }\x0A      }\x0A      if (shouldStopChecking()) {\x0A        stopChecking();\x0A      }\x0A    };\x0A  \x0A    var isChecking = function() {\x0A      return (timer !== undefined);\x0A    };\x0A    \x0A    var startChecking = function() {\x0A      timer = setInterval(function() {\x0A        checkParameters();\x0A      }, 100);\x0A    };\x0A  \x0A    var shouldStopChecking = function() {\x0A      return (uvCallbacks.length === 0);\x0A    };\x0A  \x0A    var stopChecking = function() {\x0A      clearInterval(timer);\x0A    };\x0A  \x0A  \x0A    return {\x0A      when: when,\x0A      stop: stopChecking,\x0A      start: startChecking\x0A    };\x0A  \x0A  }());\x0A  \x0A  var QueryString = function () {\x0A    // This function is anonymous, is executed immediately and \x0A    // the return value is assigned to QueryString!\x0A    var query_string = {};\x0A    var query = window.location.search.substring(1);\x0A    var vars = query.split(\x22&\x22);\x0A    for (var i=0;i<vars.length;i++) {\x0A      var pair = vars[i].split(\x22=\x22);\x0A        // If first entry with this name\x0A      if (typeof query_string[pair[0]] === \x22undefined\x22) {\x0A        query_string[pair[0]] = pair[1];\x0A        // If second entry with this name\x0A      } else if (typeof query_string[pair[0]] === \x22string\x22) {\x0A        var arr = [ query_string[pair[0]], pair[1] ];\x0A        query_string[pair[0]] = arr;\x0A        // If third or later entry with this name\x0A      } else {\x0A        query_string[pair[0]].push(pair[1]);\x0A      }\x0A    } \x0A      return query_string;\x0A  }();\x0A  \x0A  function setCookie(name, value, days) {\x0A    var expires;\x0A    if (days) {\x0A      var date = new Date();\x0A      date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\x0A      expires = \x22; expires=\x22 + date.toGMTString();\x0A    } else expires = \x22\x22;\x0A    document.cookie = name + \x22=\x22 + value + expires + \x22; path=/\x22;\x0A  }\x0A  \x0A  function getCookie(name) {\x0A    var nameEQ = name + \x22=\x22;\x0A    var ca = document.cookie.split(\x27;\x27);\x0A    for (var i = 0; i < ca.length; i++) {\x0A      var c = ca[i];\x0A      while (c.charAt(0) == \x27 \x27) c = c.substring(1, c.length);\x0A      if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length);\x0A    }\x0A    return null;\x0A  }\x0A\x0A  var newUV = window.qubit_universal_variable = window.qubit_universal_variable || {};\x0A\x0A\x0A  var fixProduct = function(product) {\x0A    product.unit_price = Number(product.unit_price);\x0A    product.unit_sale_price = Number(product.unit_sale_price);\x0A    return product;\x0A  };\x0A\x0A  // Takes the Product array and returns a listing variable\x0A  var fixProductToListing = function(product) {\x0A    var listing = {\x0A      items: []\x0A    };\x0A    for (var i = 0; i < product.length; i++) {\x0A      fixProduct(product[i]);\x0A      listing.items.push(product[i]);\x0A    }\x0A    return listing;\x0A  };\x0A\x0A  var fixUser = function(user) {\x0A    user.user_id = user.ID;\x0A    username = user.firstName + \x22 \x22 + user.lastName;\x0A    user.ID = null;\x0A    user.returning = !user.guestFlag;\x0A    return user;\x0A  };\x0A  \x0A  var fixListing = function(listing) {\x0A    var items = [];\x0A    for (var i = 0; i < listing.products.length; i++) {\x0A      var item = listing.products[i];\x0A      if (isArray(item)) {\x0A        for (var j = 0; j < item.length; j++) {\x0A          var subItem = item[i];\x0A          if (subItem) {\x0A            fixProduct(subItem);\x0A            items.push(subItem);\x0A          }\x0A        }\x0A      } else {\x0A        if (item) {\x0A          fixProduct(item);\x0A          items.push(item);\x0A        }\x0A      }\x0A      \x0A    }\x0A    listing.items = items;\x0A    listing.products = null; \x0A    return listing;\x0A  };\x0A\x0A  var fixBasket = function(basket) {\x0A    if (basket.total) basket.total = Number(basket.total);\x0A    if (basket.subtotal) basket.subtotal = Number(basket.subtotal);\x0A    if (basket.tax) basket.tax = Number(basket.tax);\x0A    basket.subtotal_include_tax = true;\x0A    if (basket.Shipments){\x0A      basket.line_items = basket.Shipments[0].ProductLineItems;\x0A      for (var i = 0; i < basket.line_items.length; i++) {\x0A        var lineItem = basket.line_items[i];\x0A        lineItem.subtotal = Number(lineItem.subTotal);\x0A        lineItem.subTotal = null;\x0A        fixProduct(lineItem.product);\x0A      }\x0A      basket.Shipments = null;\x0A    }\x0A    return basket;\x0A  };\x0A\x0A  var fixTransaction = function (transaction) {\x0A    if (transaction.total) transaction.total = Number(transaction.total);\x0A    if (transaction.subtotal) transaction.subtotal = Number(transaction.subtotal);\x0A    transaction.subtotal_include_tax = true;\x0A    if (transaction.tax) transaction.tax = Number(transaction.tax);\x0A    if (transaction.shipping_cost) transaction.shipping_cost = Number(transaction.shipping_cost);\x0A    if (transaction.shipments){\x0A      transaction.line_items = transaction.shipments[0].ProductLineItems;\x0A      for (var i = 0; i < transaction.line_items.length; i++) {\x0A        var lineItem = transaction.line_items[i];\x0A        lineItem.subtotal = Number(lineItem.subTotal);\x0A        lineItem.subTotal = null;\x0A        fixProduct(lineItem.product);\x0A      }\x0A      transaction.shipments = null;\x0A    }   \x0A    return transaction; \x0A  };\x0A\x0A    \x0A    var getPageCategory = function() {\x0A      var asdaCategory;\x0A      if (jQuery(\x22#page_name\x22).length) {\x0A        asdaCategory = jQuery(\x22#page_name\x22).val();\x0A      } else if (jQuery(\x22#visualCheckoutStepIndicator li.selected\x22).length){\x0A        asdaCategory = \x22checkout\x22;\x0A      }\x0A      var category;\x0A      if (asdaCategory === \x22landing\x22) {\x0A        category = \x22category\x22;\x0A      } else if (asdaCategory === \x22search_results\x22) {\x0A        category = \x22search\x22;\x0A      } else {\x0A        category = asdaCategory;\x0A      }\x0A      return category;\x0A    };\x0A\x0A    var getPageSubCategory = function() {\x0A      var breadCrumbs = getBreadCrumbs();\x0A      if (isArray(breadCrumbs) && breadCrumbs.length) {\x0A        if (breadCrumbs.length) {\x0A          var subcategory = breadCrumbs.join(\x22 - \x22);\x0A          return subcategory;\x0A        }\x0A      } else if (jQuery(\x22#visualCheckoutStepIndicator\x22).length) {\x0A        return jQuery(\x22#visualCheckoutStepIndicator li.selected\x22).text(); \x0A      }\x0A    };\x0A\x0A    var areBreadcrumbsShown = function() {\x0A      return !jQuery(\x22#pageheader\x22).hasClass(\x22hidden\x22);\x0A    };\x0A\x0A    var getBreadCrumbs = function() {\x0A      var breadCrumbs = [];\x0A      jQuery(\x22#navBread ol a\x22).each(function() {\x0A        breadCrumbs.push(getString(jQuery(this), jQuery));\x0A      });\x0A      breadCrumbs.splice(0, 1);\x0A      return breadCrumbs;\x0A    };\x0A\x0A    var listenForProductEvents = function() {\x0A      jQuery(\x22.buy_option_item h4 a\x22).click(function() {\x0A\x0A        var productName = jQuery(this)\x0A                            .clone()    //clone the element\x0A                            .children() //select all the children\x0A                            .remove()   //remove all the children\x0A                            .end()  //again go back to selected element\x0A                            .text();    //get the text of element\x0A        productName = jQuery.trim(productName);\x0A\x0A        var price = jQuery(this)\x0A                      .closest(\x22tr\x22)\x0A                      .find(\x22.productPrice .pounds\x22)\x0A                      .clone()\x0A                      .children()\x0A                      .remove()\x0A                      .end()\x0A                      .text();\x0A        price = Number(jQuery.trim(price));\x0A\x0A        // Track it\x0A        trackEvent({\x0A          category: \x22product_list_page_lightbox_open\x22,\x0A          action: \x22click\x22,\x0A          product_name: productName,\x0A          price: price\x0A        });\x0A      });\x0A    };\x0A\x0A    var trackEvent = function(data) {\x0A      newUV.events =  newUV.events || [];\x0A      newUV.events.push(data);\x0A    };\x0A\x0A    var setBasketFromCookie = function() {\x0A      if (window.location.href.indexOf(\x22Cart-Show\x22) !== -1 && window.location.protocol === \x22https:\x22) {\x0A        if (!newUV.basket) {\x0A          newUV.basket = {\x0A            total: Number(getCookie(\x22qubit_basket_total\x22))\x0A          };\x0A        }\x0A      }\x0A    };\x0A\x0A\x0A  /*** Generic helper functions ***/\x0A\x0A    var isArray = function(someVar) {\x0A      return ( Object.prototype.toString.call( someVar ) === \x22[object Array]\x22 );\x0A    };\x0A\x0A    // Get a string out of a jquery element or selector\x0A    var getString = function(selectorOrEl, jQuery) {\x0A\x0A      // Check jquery\x0A      if (!jQuery || !jQuery.fn || !jQuery.fn.jquery) {\x0A        return null;\x0A      }\x0A\x0A      // Get the $el out of selector, or just reference the $el\x0A      var $el;\x0A      if (selectorOrEl instanceof jQuery) {\x0A        $el = selectorOrEl;\x0A      } else {\x0A        $el = jQuery(selectorOrEl);\x0A      }\x0A\x0A      // Make sure it exists\x0A      if ($el.length === 0) {\x0A        return null;\x0A      }\x0A\x0A      // Get text\x0A      var text = $el.text();\x0A      text = jQuery.trim(text);\x0A      return text || \x22\x22;\x0A\x0A    };\x0A\x0A    var convertBreadcrumb = function(skipLast, u) {\x0A      if (!u.page.breadcrumb) return;\x0A      for (var i = 0; i < u.page.breadcrumb.length; i++) {\x0A        if (i === 0) {\x0A          u.page.subcategory = u.page.breadcrumb[i];\x0A        } else {\x0A          if (skipLast === true && (i+1) === u.page.breadcrumb.length) break;\x0A          u.page[\x22subcategory_l\x22+(i+1)] = u.page.breadcrumb[i];\x0A        }\x0A      }\x0A    };\x0A\x0A    var createBreadcrumbString = function(skipLast, u) {\x0A      if (!u.page.breadcrumb) return;\x0A      var arr = [];\x0A      for (var i = 0; i < u.page.breadcrumb.length; i++) {\x0A        if ((skipLast === true) && (i+1) === u.page.breadcrumb.length) break;\x0A        arr.push(u.page.breadcrumb[i].replace(\x22.\x22, \x22\x22));\x0A      }\x0A      u.page.breadcrumb_string = arr.join(\x22.\x22);\x0A    };\x0A\x0A  \x0A    var clone = function(oldObject) {\x0A      if (window.jQuery === undefined) return;\x0A      return window.jQuery.extend(true, {}, oldObject);\x0A    };\x0A\x0A\x0A\x0A  /*** I\x27nit ***/\x0A\x0A    var getData = function() {\x0A\x0A      newUV.page = newUV.page || {};\x0A\x0A      uvPolling.when(\x22Product\x22, function() {\x0A        var product = clone(window.universal_variable).Product;\x0A        if (!product) return;\x0A        if (isArray(product)) {\x0A          newUV.listing = fixProductToListing(product);\x0A          newUV.page.product_page_type = \x22product_list\x22;\x0A        } else {\x0A          newUV.product = fixProduct(product);\x0A          newUV.page.product_page_type = \x22product\x22;\x0A        }\x0A      });\x0A    \x0A      uvPolling.when(\x22Customer\x22, function() {\x0A        var user = clone(window.universal_variable).Customer;\x0A        if (!user) return;\x0A        newUV.user = fixUser(user);\x0A      });\x0A\x0A      uvPolling.when(\x22Search\x22, function() {\x0A        var listing = clone(window.universal_variable).Search;\x0A        if (!listing) return;\x0A        newUV.listing = fixListing(listing);\x0A        if (window.location.href.indexOf(\x22Search-Show\x22) !== -1) {\x0A          newUV.listing.query = QueryString.q;\x0A        }\x0A      });\x0A    \x0A      uvPolling.when(\x22Basket\x22, function() {\x0A        var basket = clone(window.universal_variable).Basket;\x0A        if (!basket) return;\x0A        newUV.basket = fixBasket(basket);\x0A        \x0A        // Save basket total in a cookie if on basket page (for use in checkout)\x0A        if (window.location.href.indexOf(\x22Cart-Show\x22) !== -1 && newUV.basket && newUV.basket.total) {\x0A          setCookie(\x22qubit_basket_total\x22, newUV.basket.total);\x0A        }\x0A        \x0A      });\x0A    \x0A      uvPolling.when(\x22Order\x22, function() {\x0A        var transaction = clone(window.universal_variable).Order;\x0A        \x0A        // get existing show creatives added by other script\x0A        var shownCreatives;\x0A        if (newUV.transaction && newUV.transaction.shown_creatives) {\x0A          shownCreatives = newUV.transaction.shown_creatives;\x0A        }\x0A            \x0A        if (!transaction);\x0A        newUV.transaction = fixTransaction(transaction);\x0A        if (shownCreatives) {\x0A          newUV.transaction.shown_creatives = shownCreatives;\x0A        }\x0A        newUV.basket = null;\x0A      });\x0A    \x0A      setTimeout(function() {\x0A        uvPolling.stop();\x0A      }, 15000);\x0A    \x0A\x0A      // Set basket total with the cookie value if it doesn\x27t already exist\x0A      setBasketFromCookie();\x0A\x0A\x0A      jQuery(function() {\x0A\x0A        newUV.page.category = getPageCategory();\x0A        newUV.page.breadcrumb = getBreadCrumbs();\x0A\x0A        if (getPageSubCategory()) {\x0A          newUV.page.subcategory = getPageSubCategory();\x0A        }\x0A\x0A        // Add additional subcategory & breadcrumb keys\x0A        convertBreadcrumb(false, newUV);\x0A        createBreadcrumbString(false, newUV);\x0A\x0A        // Listen for events\x0A        listenForProductEvents();\x0A\x0A      });\x0A\x0A    };\x0A\x0A    var waitCount = 0;\x0A    var waitForJquery = function(cb) {\x0A      waitCount += 1;\x0A      if (waitCount > 50) return;\x0A      if (window.jQuery) {\x0A        setTimeout(function(){\x0A          cb();\x0A        }, 1000);\x0A      } else {\x0A        setTimeout(function() {\x0A          waitForJquery(cb);\x0A        }, 100);\x0A      }\x0A    };\x0A\x0A    // Get going\x0A    waitForJquery(function() {\x0A      getData();\x0A    });\x0A\x0A\x0A}());\x0A  \x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},26881735:{id:"26881735",name:"Rule: Debug Mode",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>;<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},26881740:{id:"26881740",name:"Resend UV 1 second after document.ready",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  window.jQuery(function () {\x0A    setTimeout(function () {\x0A      window._qtd = window._qtd || [];\x0A      window._qtd.push({resendUniversalVariables: 1});\x0A    }, 1000);\x0A    \x0A    setTimeout(function() {\x0A      window._qtd = window._qtd || [];\x0A      window._qtd.push({resendUniversalVariables: 1});\x0A    }, 3000);\x0A    \x0A    setTimeout(function() {\x0A      window._qtd = window._qtd || [];\x0A      window._qtd.push({resendUniversalVariables: 1});\x0A    }, 5000);\x0A  });\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[26881365]},29494805:{id:"29494805",name:"Rule : Confirmation Page",pre:"",url:"",post:"",html:"<script><\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},29494894:{id:"29494894",name:"Qubit - J&C Transaction",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  var sendUVEvent = function(action) {\x0A    window.universal_variable = window.universal_variable || {};\x0A    universal_variable.events = universal_variable.events || [];\x0A    universal_variable.events.push({\x0A      \x22category\x22: \x22qubit-deliver\x22,\x0A      \x22action\x22: action\x0A    });\x0A  };\x0A  sendUVEvent(\x27jumpers_cardigans:transaction\x27);\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[26881735]},29574018:{id:"29574018",name:"Qubit: Resend UV Transaction",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  setTimeout(function () {\x0A    window._qtd = window._qtd || [];\x0A    window._qtd.push({resendUniversalVariables: 1});\x0A  }, 1000);\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},29670156:{id:"29670156",name:"Knitwear - D1M1G20C5_bought",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  (function(){\x0A    \x0A    var sendUVEvent = function(action, resend, id) {\x0A      window.qubit_universal_variable = window.qubit_universal_variable || {};\x0A      qubit_universal_variable.events = qubit_universal_variable.events || [];\x0A      qubit_universal_variable.events.push({\x0A        \x22category\x22: \x22qubit-deliver\x22,\x0A        \x22action\x22: action,\x0A        \x22experiment_name\x22: \x22T071 - Womens Jumper and Cardigans vs Knitwear\x22,\x0A        \x22experiment_id\x22: \x2217865\x22,\x0A        \x22creative_master\x22: \x22\x22 + id\x0A      });\x0A      if (resend) {\x0A        window._qtd = window._qtd || [];\x0A        window._qtd.push({\x0A          resendUniversalVariables: 1\x0A        });\x0A      }\x0A    };\x0A    \x0A    var quv = window.qubit_universal_variable;\x0A    \x0A    for(var index = 0; index < quv.transaction.line_items.length; index++){\x0A        if(quv.transaction.line_items[index].product.categoryID === \x27D1M1G20C5\x27){\x0A          sendUVEvent(\x27D1M1G20C5_bought\x27, true, 84233);\x0A        }\x0A    }\x0A\x0A  })();\x0A<\/script>",locationId:2,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[26881365,29494805]},29977567:{id:"29977567",name:"QTracker Debug",scriptTimeout:5000,pre:"window._qtd = window._qtd || [];\x0A      window._qtd.push({\x0A        options: {\x0A          \x0A          serverUrl: \x22pong.qubitproducts.com/t2\x22,\x0A          clientId: \x22asda_mobile\x22\x0A        }\x0A      });",url:"s3-eu-west-1.amazonaws.com/qubittracker/qtracker-v3.24.1.js",post:"",html:"",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},29989316:{id:"29989316",name:"Clear localStorage",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  if (localStorage.getItem(\x27__qubitPingQueue\x27) !== \x22{}\x22) {\x0A    localStorage.setItem(\x27__qubitPingQueue\x27, \x27{}\x27);\x0A  }\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},31317733:{id:"31317733",name:"Delete QTag cookie",pre:"",url:"",post:"",html:"<script>\x0A var pollForQTagCookie = function () {\x0A    var cookie = document.cookie.match(/qtag_([0-9]+)=[^;]+;/);\x0A    if (cookie) {\x0A      var containerID = cookie[1];\x0A      var cookieName = \x22qtag_\x22 + containerID;\x0A      document.cookie = cookieName + \x22=1;\x22 +\x0A        \x22expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/;\x22;\x0A    } else {\x0A      setTimeout(pollForQTagCookie, 50);\x0A    }\x0A  };\x0A  \x0A  pollForQTagCookie();\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[]},32198184:{id:"32198184",name:"Util: Remove old SS cookies",scriptTimeout:5000,pre:"",url:"",post:"",html:"<script>\x0A  (function () {\x0A    \x0A    function resetCookies(options) {\x0A      \x0A      var trackEvent = function (data) {\x0A        if (typeof data === \x22string\x22) {\x0A          data = {\x0A            _c_evt_cookie_state: data\x0A          };\x0A        }\x0A        window._qtd = window._qtd || [];\x0A        window._qtd.push({\x0A          data: data\x0A        });\x0A      };\x0A      \x0A      var cookieEvents = [];\x0A      \x0A      // Cookie utility\x0A      var cookies = {\x0A        set: function (name, value, options) {\x0A          var date, expires, cookieDomain;\x0A          var initialCookieLength = document.cookie.length;\x0A          \x0A          options.escape = options.escape !== undefined ?  options.escape : true;\x0A          \x0A          if (options.escape) {\x0A            value = escape(value);\x0A          }\x0A          \x0A          if (options.days) {\x0A            date = new Date();\x0A            date.setTime(date.getTime() + (options.days * 1000 * 60 * 60 * 24));\x0A            expires = \x22; expires=\x22  + date.toGMTString();\x0A          } else {\x0A            expires = \x22\x22;\x0A          }\x0A          cookieDomain = options.domain ? \x22; domain=\x22 + options.domain : \x22\x22;\x0A          document.cookie = name + \x22=\x22 + value + expires + \x22; path=/\x22 + cookieDomain;\x0A          \x0A          // Add set/remove cookie operation event\x0A          var type = \x22set\x22;\x0A          if (options && options.days === -1) {\x0A            type = \x22remove\x22;\x0A          }\x0A          \x0A          if (document.cookie.length !== initialCookieLength) {\x0A            cookieEvents.push({\x0A              name: name,\x0A              domain: (options && options.domain) || \x22\x22,\x0A              type: type\x0A            });\x0A          }\x0A        },\x0A        get: function (name) {\x0A          try {\x0A            var value, regex;\x0A            regex = new RegExp(name + \x22=([^;]*)\x22);\x0A            value = document.cookie.match(regex)[1];\x0A            return window.unescape(value);\x0A          } catch (e) {}\x0A        },\x0A        remove: function (name, cookieDomain) {\x0A          cookies.set(name, \x22\x22, {\x0A            days: -1,\x0A            domain: cookieDomain\x0A          });\x0A        }\x0A      };\x0A      \x0A      \x0A      options.domains.find = options.domains.find || [];\x0A      options.replaceDefaultDomain =\x0A        options.replaceDefaultDomain === true ? true : false;\x0A      options.removeUndefinedCookies = options.removeUndefinedCookies === false ? false : true;\x0A      \x0A      if (options.replaceDefaultDomain) {\x0A        options.domains.find.push(false);\x0A      }\x0A      \x0A      // Iterate over each cookie name\x0A      for (var i = 0, ii = options.cookies.length; i < ii; i++) {\x0A        var value, name, duration;\x0A        \x0A        name = options.cookies[i].name;\x0A        duration = options.cookies[i].expires;\x0A        \x0A        // Use any domain value as the cookie\x0A        value = cookies.get(name);\x0A        \x0A        if (value) {\x0A          // Remove for all other domains\x0A          for (var j = 0, jj = options.domains.find.length; j < jj; j++) {\x0A            cookies.remove(name, options.domains.find[j]);\x0A          }\x0A          \x0A          // If replaceWith is not supplied it will just delete the cookie and not replace it\x0A          if (options.domains.replaceWith) {\x0A            if (options.removeUndefinedCookies && value === \x22undefined\x22) {\x0A              cookies.remove(name, options.domains.replaceWith);\x0A            } else {\x0A              // Set the new cookie on the new domain\x0A              cookies.set(name, value, {\x0A                days: duration,\x0A                domain: options.domains.replaceWith\x0A              });\x0A            }\x0A          }\x0A        }\x0A        \x0A      }\x0A      \x0A      // Send cookie operation stats to servers\x0A      if (cookieEvents.length) {\x0A        trackEvent(cookieEvents);\x0A      }\x0A      \x0A    }\x0A    \x0A    // Initialize\x0A    resetCookies({\x0A      domains: {\x0A        find: [\x0A          \x22.asda.com\x22,\x0A          \x22m.direct.asda.com\x22\x0A        ],\x0A        replaceWith: \x22.m.direct.asda.com\x22\x0A      },\x0A      cookies: [\x0A        { name: \x22qb_ss_status\x22, expires: 365 },\x0A        { name: \x22ss_opts\x22, expires: 365 },\x0A        { name: \x22qbef\x22, expires: 365 },\x0A        { name: \x22_qst\x22, expires: 365 },\x0A        { name: \x22_qubitTracker\x22, expires: 365 },\x0A        {name: \x22_qb_se\x22, expires: 365}\x0A      ]\x0A    });\x0A    \x0A  })();\x0A<\/script>",locationId:1,positionId:1,locationDetail:"",async:true,needsConsent:false,usesDocWrite:false,pageVars:{},dependencies:[26876515,26881735]}};
var m=1;var k="pong.qubitproducts.com";var i="";var n=false;var j=3000;(function(){var t=qubit.Tags,x=qubit.qtag.Utils,C=b.html.simplecookie,y=b.html.GlobalEval,v=b.html.fileLoader,E=b.html.HtmlInjector,D=function(){},r=function(){},A=function(){},z=new qubit.qtag.Ping(B),u=qubit.qtag.Session;n=n||!!window.otDelayDocWrite;function w(F){if(window.console&&window.console.log){console.log(F)}}function B(H,G,F){f=H||f;l=G||l;h=F||h;t.registerTag(B);window["__ot_vars__"+a]=h;b.html.UVListener.init();B.isSync=B.determineIfSync();B.setup(f,l)}B.getConfig=function(){return{containerName:c,qTagClientId:g,profileName:a,delayDocWrite:n,tellLoadTimesProbability:m,pingServerUrl:k,maxCookieLength:j,qtag_domain:i,filters:f,scriptLoaders:l,pageVars:h,async:!B.isSync,scriptURL:o}};B.setup=function(I,H){var G,K,J={};if(d){J=u.setupSession(B.getConfig())}B.docWriteUsers=[];B.errors={};B.loadersAwaitingConsent=[];B.isTellingLoadTimes=m>Math.random();if(B.isTellingLoadTimes){B.loadTimes={}}G=B.getFilterStates(I,x.getUrl(),J);for(var F in H){if(!H[F].scriptTimeout||H[F].scriptTimeout<0){H[F].scriptTimeout=B.TAG_MAX_WAIT}}B.qTagLoaders=B.getLoaders(G,H);B.qTagLoaderCount=0;B.loadTimesSent=false;B.loadersStarted=0;B.loadersFinished=0;B.initialLoadFinished=false;B.canCallLoaded=false;B.hasCalledLoaded=false;B.loadedSomeSync=false;B.runStarters(G,J);B.initialLoadFinished=true;B.waitingForSyncWrites=false;z.handleDedupe(B.qTagLoaders,B.getConfig());if(n){b.html.ready(function(){B.sequentiallyLoadingDelayed=false;B.loadLoadersSequentially()})}else{if(B.loadedSomeSync){setTimeout(B.loadLoadersSequentially,100)}else{B.loadLoadersSequentially()}b.html.ready(function(){B.loadLoadersSequentially()})}B.flushLoadTimes();if(B.canCallLoaded){B.callAllLoaded()}window.opentag_consentCBs=window.opentag_consentCBs||[];window.opentag_consentGiven=window.opentag_consentGiven||function(){var M,N,L;for(M=0,N=window.opentag_consentCBs.length;M<N;M+=1){window.opentag_consentCBs[M]()}};window.opentag_consentCBs.push(B.consentGiven)};B.ALL="1";B.SUBSTRING="2";B.REGEX="3";B.EXACT_MATCH="4";B.FN="100";B.DEDUPE_FN="110";B.FILTER_TYPE_INCLUDE="1";B.FILTER_TYPE_EXCLUDE="2";B.NORMAL_FILTER="1";B.DEDUPE_URL_FILTER="2";B.DEDUPE_SESSION_FILTER="3";B.JS_VALUE="2";B.QUERY_PARAM="3";B.COOKIE_VALUE="4";B.ELEMENT_VALUE="5";B.NOT_LOADED=0;B.LOADING=1;B.LOAD_FAILURE=2;B.LOAD_SUCCESS=3;B.determineIfSync=function(){var H,I,G,F,J;F=document.getElementsByTagName("script");for(H=0,I=F.length;H<I;H+=1){G=F[H];J=G.getAttribute("src");if(!!J&&(J.indexOf(""+g+"-"+a+".js")>0)){return(G.getAttribute("async")===null&&(G.getAttribute("defer")===false||G.getAttribute("defer")===""||G.getAttribute("defer")===null))}}return true};B.getFilterStates=function(H,F,J){var I,M,G,N={},K=[],L;if((!H)||(!F)){return K}for(I=0,M=H.length;I<M;I+=1){G=H[I];L=B.doesFilterMatch(G,F,J);if(L){K.push(G)}else{}}K.sort(function(P,O){return O.priority-P.priority});return K};B.getLoaders=function(J,K,G){var H,I,L={},F={};for(H=0,I=J.length;H<I;H+=1){B.updateLoaders(J[H],L)}for(H in L){if(L.hasOwnProperty(H)){F[H]=K[H];F[H].dedupe=L[H];F[H].state=B.NOT_LOADED;F[H].nextLoaders={}}}return F};B.updateLoaders=function(J,K){var G,I,H,F=J.scriptLoaderKeys;if(J.filterType===B.FILTER_TYPE_INCLUDE){for(G=0,I=F.length;G<I;G+=1){H=B.getFilterType(J);if((H===B.NORMAL_FILTER)||(H===B.DEDUPE_URL_FILTER)||(K[F[G]]===B.DEDUPE_URL_FILTER)){K[F[G]]=H}}}else{if(J.filterType===B.FILTER_TYPE_EXCLUDE){for(G=0,I=F.length;G<I;G+=1){delete K[F[G]]}}}};B.getFilterType=function(G){var F=parseInt(G.patternType,10);if((F<10)||(F===100)){return B.NORMAL_FILTER}if((F>=10)&&(F<20)){return B.DEDUPE_URL_FILTER}if(F===110){return B.DEDUPE_SESSION_FILTER}};B.runStarters=function(J,K){var G,I,H;for(G=0,I=J.length;G<I;G+=1){H=J[G];try{H.starter(K,B.createStarterCb(H))}catch(F){}}};B.createStarterCb=function(F){return function(J){var I,K,H,G=[],L;for(I=0,K=F.scriptLoaderKeys.length;I<K;I+=1){H=B.qTagLoaders[F.scriptLoaderKeys[I]];if(H&&J===true){if(H.state===B.LOAD_SUCCESS){H.state=B.NOT_LOADED;H.counted=false}else{}}if(H&&(H.state===B.NOT_LOADED)&&(H.dedupe!==B.DEDUPE_URL_FILTER)){if(!((H.dedupe===B.DEDUPE_SESSION_FILTER)&&(F.patternType!==B.DEDUPE_FN))){if(!H.counted){H.counted=true;G.push(H)}}}}for(I=0,K=G.length;I<K;I+=1){H=G[I];if(B.hasConsent()||!B.needsConsent(H)){B.loadLoader(H)}else{B.loadersAwaitingConsent.push(H)}}}};B.hasConsent=function(){return C.readCookie("qubitconsent")==="Accepted"};B.needsConsent=function(F){return !!F.needsConsent};B.consentGiven=function(){var G,H,F=B.loadersAwaitingConsent;for(G=0,H=F.length;G<H;G+=1){B.loadLoader(F[G])}};B.doesFilterMatch=function(G,F,J){var H=false;switch(G.patternType){case B.FN:case B.DEDUPE_FN:try{H=G.pattern(J)}catch(I){H=false}break;case B.EXACT_MATCH:case"1"+B.EXACT_MATCH:if(F.toLowerCase()===G.pattern.toLowerCase()){H=true}break;case B.SUBSTRING:case"1"+B.SUBSTRING:if(F.toLowerCase().indexOf(G.pattern.toLowerCase())>=0){H=true}break;case B.REGEX:case"1"+B.REGEX:if(new RegExp(G.pattern).test(F)){H=true}break;case B.ALL:case"1"+B.ALL:H=true;break}if(H&&!G.starter){G.starter=B.defaultStarter}return H};B.defaultStarter=function(G,F){F()};B.TAG_MAX_WAIT=10*1000;B.loadCheckInterval=500;B.loadLoader=function(G){var H,F;if((G.state===B.NOT_LOADED)&&B.dependenciesExist(G)){try{G.state=B.LOADING;G.startTime=new Date().valueOf();if(G.usesDocWrite&&!(B.isSync&&!G.async)){B.docWriteUsers.push(G);B.loadLoadersSequentially()}else{B.doWhenReady(G,B.loadTagLoader,function(){})}}catch(I){G.state=B.LOAD_FAILURE;H={reason:"error parsing loader, "+G.id+": "+I.reason,url:document.location.href};B.errors[G.id]=H;w(H)}}};B.dependenciesExist=function(F){var H,I,J,G,K=true;J=F.dependencies;if(!J){return true}for(H=0,I=J.length;H<I;H+=1){G=B.qTagLoaders[J[H]];if(!G){K=false}else{if(G.state!==B.LOAD_SUCCESS){G.nextLoaders[F.id]=true;K=false}else{}}}return K};function q(G,F){B.qTagLoaderCount+=1;F(G)}B.doWhenReady=function(G,F,H){if(B.canLoad(G)){q(G,F)}else{var I=new Date().valueOf()-G.startTime;if(I<G.scriptTimeout){setTimeout(function(){B.doWhenReady(G,F,H)},B.loadCheckInterval)}else{G.DONE_LOADING=true;if(B.canLoad(G,true)){q(G,F)}else{H(G)}}}};B.isPageVarsTimedOut=function(F){return F.scriptTimeout<(new Date().valueOf()-F.startTime)};B.canLoad=function(F,G){var H=B.elementExists(F)&&B.pageVariablesExist(h,F,G);return H};B.elementExists=function(F){if(B.isSync&&!F.async){return true}else{if(F.locationId===2){return !!document.body}else{if(F.locationId===3){return !!document.getElementById(F.locationDetail)}}}return true};B.pageVariablesExist=function(I,F,H){var G,J,K,M;if(!F.pageVars){return true}for(G in F.pageVars){if(F.pageVars.hasOwnProperty(G)){try{K=I[G];J=B.pageVariableExists(K,F,G,H);if(!J){return false}}catch(L){return false}}}return true};function s(F,H){var R,K,J,G,M,P,I,L=false;var O=F.type;var Q=F.value;switch(O){case B.JS_VALUE:try{if(Q.indexOf("[#]")===-1){y.globalEval("window.__var_test = ("+Q+")");I=window.__var_test}else{I=B.getArrayPageVariableExists(F);if(I){y.globalEval("window.__var_test = ("+I+")");I=window.__var_test;L=true}}}catch(N){I=null}break;case B.QUERY_PARAM:I=x.getQueryParam(Q);break;case B.COOKIE_VALUE:I=C.readCookie(Q);break;case B.ELEMENT_VALUE:I=x.getElementValue(Q);break}return{pageValue:I,isArray:L}}B.pageVariableExists=function(K,F,G,H){var J=s(K,F);var I=x.variableExists(J.pageValue);if(I){K.pageValue=J.pageValue;K.isArray=J.isArray}else{if(H){I=x.variableExists(F.pageVars[G].defaultValue)}}return I};B.getArrayPageVariableExists=function(F){var G,M,K,L,J,N,H;L=true;J=false;N="";H=F.value.split("[#]");for(G=0,M=H.length-1;L&&(G<M);G+=1){N+=H[G];try{y.globalEval("window.__var_test = ("+N+")");K=window.__var_test}catch(I){L=false}L=L&&x.variableExists(K);if(L){if(K.length===0){J=true;break}N+="[0]"}}if(!L){return null}else{if(J){return N}else{return F.value.replace("[#]","[0]")}}};B.loadingSequentially=false;B.waitingForSyncWrites=true;B.sequentiallyLoadingDelayed=n;B.loadLoadersSequentially=function(){var G,H,I,F;
if(!B.waitingForSyncWrites&&!B.sequentiallyLoadingDelayed&&!B.loadingSequentially&&(B.docWriteUsers.length>0)){B.loadingSequentially=true;F=false;for(H=0,I=B.docWriteUsers.length;H<I;H+=1){G=B.docWriteUsers[H];if(B.canLoad(G)){B.docWriteUsers.splice(H,1);F=true;break}else{}}if(F){B.doWhenReady(G,B.loadLoaderSequentially,function(){B.loadLoadersSequentially()})}else{B.loadingSequentially=false}}else{}};B.loadLoaderSequentially=function(G){var I=[],H,F;document.write=function(J){I.push(J)};document.writeln=function(J){I.push(J)};H=function(){var J=B.getLocation(G);E.inject(J,G.positionId===1,I.join("\n"),function(){})};G.finishHandler=H;B.loadTagLoader(G)};B.loadTagLoader=function(F){B.substituteValues(h,F);var G=B.getTimerEnder(F);try{if(F.url){if(!F.async&&B.isSync){B.loadTagLoaderSync(F)}else{v.load(F.url,B.getTimerStarter(F),G,F.parentNode,F.async)}}else{if(F.html){B.injectHtml(F)}}}catch(H){G(null,H,true)}};B.substituteValues=function(G,F){B._substituteValues(G,F,"html");B._substituteValues(G,F,"pre");B._substituteValues(G,F,"post");B._substituteValues(G,F,"url")};B._substituteValues=function(K,H,O){var G,J,I,F="_"+O,M,P;if(!H[F]){H[F]=H[O]}M=H[F];if(M&&M.length>0){for(J in H.pageVars){if(H.pageVars.hasOwnProperty(J)){G=K[J];I="\\${"+H.pageVars[J].token+"}";var L=G.pageValue;if(G.pageValue===undefined){L=t.getVariableValue(a,H.id,J)}if(G.isArray){M=x.substituteArray(G,I,M)}else{if(L instanceof Array){var N="qubit.Tags.getVariableValue("+a+","+H.id+","+J+")";M=M.replace(new RegExp(I,"g"),N)}else{L=L;M=M.replace(new RegExp(I,"g"),L)}}}}H[O]=M}};B.loadTagLoaderSync=function(F){var G,I="scr",H;B.getTimerStarter(F)();G=v.tidyUrl(F.url);H="<"+I+"ipt type='text/javascript' src='"+G+"'></"+I+"ipt>";document.write(H);B.loadedSomeSync=true;B.getTimerEnder(F)()};B.injectHtml=function(F){var G=B.getLocation(F);B.getTimerStarter(F)();E.inject(G,F.positionId===1,F.html,B.getTimerEnder(F))};B.getLocation=function(F){var G;if(F.locationId===1){G=document.getElementsByTagName("head")[0]}else{if(F.locationId===2){G=document.body}else{if(F.locationId===3){G=document.getElementById(F.locationDetail)}else{G=document.body}}}return G};B.getTimerStarter=function(F){var G;if(B.isTellingLoadTimes){G=(new Date()).getTime();B.loadTimes[F.id]={start:G}}return B.createStatementEvaluator(F.url?F.pre:"",true)};B.getTimerEnder=function(G){var H=false,F;return function(K,J,L){if(H){return}H=true;try{var N,I,O;if(B.isTellingLoadTimes){I=(new Date()).getTime();B.loadTimes[G.id].end=I}if(G.finishHandler){G.finishHandler()}B.createStatementEvaluator((!L&&!!G.url)?G.post:"",false)();if(J){B.errors[G.id]=J;G.state=B.LOAD_FAILURE}else{G.state=B.LOAD_SUCCESS}if(B.loadingSequentially){B.loadingSequentially=false}B.loadLoadersSequentially();if(!L){B.loadDependentScripts(G)}}catch(M){w(M)}}};B.loadDependentScripts=function(F){var G;for(G in F.nextLoaders){if(F.nextLoaders.hasOwnProperty(G)){if(B.qTagLoaders[G]){B.loadLoader(B.qTagLoaders[G])}}}};B.createStatementEvaluator=function(F,G){if((!!F)&&(F.length>0)){return function(){B.incrementLoadCounter(G);y.globalEval(F)}}else{return function(){B.incrementLoadCounter(G)}}};B.incrementLoadCounter=function(F){if(F){B.loadersStarted+=1;B.canCallLoaded=false}else{B.loadersFinished+=1}B.flushLoadTimes()};B.flushLoadTimes=function(){if((B.initialLoadFinished&&(B.loadersFinished===B.qTagLoaderCount))||(B.loadTimesSent&&(B.loadersStarted===B.loadersFinished))){z.sendLoadTimes(B.getConfig());B.canCallLoaded=true;if(B.initialLoadFinished){B.callAllLoaded()}B.loadTimesSent=true}};B.callAllLoaded=function(){if(!B.hasCalledLoaded){B.hasCalledLoaded=true;if(window.qTag_allLoaded){window.qTag_allLoaded()}}};B.isDebugMode=function(){var F=false;if(C.readCookie("opentag_debug")||C.readCookie("opentag_debug_tool")||document.location.href.indexOf("opentag_debug")>=0){F=true}return F};B.start=function(){if(B.STARTED){return}B.STARTED=true;if(B.isDebugMode()){var F=document.createElement("script");if(o){F.src=o}else{F.src="//s3-eu-west-1.amazonaws.com/opentag/opentag-"+g+"-"+a+"-debug.js"}document.getElementsByTagName("head")[0].appendChild(F)}else{var G=function(){var H=new B(f,l,h)};G()}};B.start()}())}())}catch(e){try{if(window.debug){console.log(e)}}catch(ex){}};