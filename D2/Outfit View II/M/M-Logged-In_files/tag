BrightTag.instance.dbe('s.prop70', '(function(){\r\n\tif(bt_cookie(\x22bt_landingSite\x22) \x3d\x3d \x22\x22){\r\n\t\tvar bt_brandType \x3d (function(){\r\n\t\t\tvar bt_logoClass \x3d \x22Direct\x22;\r\n\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22Direct\x22;\r\n\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bt_logoClass;\r\n\t\t})();\r\n\t\tdocument.cookie \x3d \x22bt_landingSite\x3d\x22+bt_brandType+\x22;path\x3d/;\x22;\r\n\t\treturn bt_brandType;\r\n\t}\r\n})()', {pageId:20723});
BrightTag.instance.dbe('s.prop2', 'bt_cookie(\x22dwsid\x22)', {pageId:20723});
BrightTag.instance.dbe('s.evar48', 'location.search.match(/pmid\x3d([^\x26?#]+)/) ? \x22D\x3dc48\x22 : \x22\x22', {pageId:20723});
BrightTag.instance.dbe('s.prop52', 'location.pathname.indexOf(\x22/undefined\x22)\x3e-1 ? \x22undefined\x22 : \x22D\x3dg\x22', {pageId:20723});
BrightTag.instance.dbe('s.prop68', '(function(){\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22Direct\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Direct\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tif(brandType \x3d\x3d \x22Wine\x22){\r\n\t\treturn \x22AD12\x22;\r\n\t}else if(brandType \x3d\x3d \x22George\x22){\r\n\t\treturn \x2210\x22;\r\n\t}else{\r\n\t\treturn \x2299\x22;\r\n\t}\r\n})()', {pageId:20724});
BrightTag.instance.dbe('s.evar53', '\x22D\x3dg\x22', {pageId:20723});
BrightTag.instance.dbe('s.pagename', '(function(){\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22Direct\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Direct\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tif(brandType \x3d\x3d \x22Direct\x22){\r\n\t\treturn \x27direct:gm:mweb:homepage\x27\r\n\t}else if(brandType \x3d\x3d \x22George\x22){\r\n\t\treturn \x27direct:george:mweb:homepage\x27\r\n\t}else{\r\n\t\treturn \x27direct:wine:mweb:homepage\x27\r\n\t}\r\n})()', {pageId:20714});
BrightTag.instance.dbe('s.prop48', 'location.search.match(/pmid\x3d([^\x26?#]+)/) ? location.search.match(/pmid\x3d([^\x26?#]+)/)[1] : \x22\x22', {pageId:20723});
BrightTag.instance.dbe('error - h1 value', '(function(){\r\n\tvar h1val \x3d document.getElementsByTagName(\x27h1\x27)[0] ? document.getElementsByTagName(\x27h1\x27)[0].innerHTML : \x22\x22;\r\n\tif(location.pathname.indexOf(\x22demandware\x22)\x3e-1 \x26\x26 location.pathname.indexOf(\x22undefined\x22)\x3e-1){\r\n\t\treturn \x22undefined\x22;\r\n\t}else if(h1val.indexOf(\x27URL Not Found\x27) \x3e -1) {\r\n\t\treturn \x22404: \x22 + h1val;\r\n\t}else if(h1val.indexOf(\x27Transmission Problems\x27) \x3e -1) {\r\n\t\treturn \x22500: \x22 + h1val;\r\n\t}else if(h1val.indexOf(\x27Heavy Traffic\x27) \x3e -1) {\r\n\t\treturn \x22503: \x22 + h1val;\r\n\t}else if(location.pathname.indexOf(\x27default,pd.html\x27)\x3e-1 || location.pathname.indexOf(\x27/Product-NotFound\x27)\x3e-1) {\r\n\t\tif(jQuery(\x22#noResults\x22).length \x3e 0 || jQuery(\x22#generalError\x22).is(\x27:visible\x27)){\r\n\t\t\treturn \x22410: Product not found\x22;\r\n\t\t}\r\n\t}else if(jQuery(\x22#generalError\x22).is(\x27:visible\x27)){\r\n\t\treturn \x22410: Page not found\x22;\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();', {pageId:20723});
BrightTag.instance.dbe('s.evar4', '(function(){\r\n\tif(bt_cookie(\x22bt_pageViewsPerSession\x22) \x3d\x3d \x22\x22){\r\n\t\tdocument.cookie \x3d \x27bt_pageViewsPerSession\x3d1;path\x3d/;\x27;\r\n\t\treturn \x221\x22;\r\n\t}else{\r\n\t\tvar newCount \x3d Number(bt_cookie(\x22bt_pageViewsPerSession\x22))+1\r\n\t\tdocument.cookie \x3d \x27bt_pageViewsPerSession\x3d\x27+newCount+\x27;path\x3d/;\x27;\r\n\t\treturn newCount;\r\n\t}\r\n})()', {pageId:20723});
BrightTag.instance.dbe('s.evar3', '(function(){\r\n\tvar fullDate \x3d new Date();\r\n\tvar twoDigitMonth \x3d fullDate.getMonth()+1+\x22\x22;if(twoDigitMonth.length\x3d\x3d1)  twoDigitMonth\x3d\x220\x22 +twoDigitMonth;\r\n\tvar twoDigitDate \x3d fullDate.getDate()+\x22\x22;if(twoDigitDate.length\x3d\x3d1) twoDigitDate\x3d\x220\x22 +twoDigitDate;\r\n\treturn twoDigitDate + twoDigitMonth + fullDate.getFullYear();\r\n})()', {pageId:20723});
BrightTag.instance.dbe('s.evar72', '\x22+1\x22', {pageId:20723});
BrightTag.instance.dbe('random number', 'BrightTag.Random.integer(99999999999999)', {pageId:20723});
BrightTag.instance.dbe('s.evar70', '\x22D\x3dc70\x22', {pageId:20723});
BrightTag.instance.dbe('s.evar17', '(function(){\r\n    if(typeof universal_variable !\x3d \x27undefined\x27){\r\n\t\tvar basketModeVal \x3d universal_variable.Session ? universal_variable.Session.basketMode : \x22\x22;\r\n\t\tif(basketModeVal \x3d\x3d \x22GeorgeMode\x22){\r\n\t\t\treturn \x22George\x22;\r\n\t\t}else if(basketModeVal !\x3d \x22\x22){\r\n\t\t\treturn \x22Direct\x22;\r\n\t\t}else{ \r\n\t\t\tif(location.href.indexOf(\x22/george/\x22) \x3d\x3d -1){\r\n\t\t\t\treturn \x22Direct\x22;\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22George\x22;\r\n\t\t\t}\r\n\t\t}\r\n    }else{ \r\n\t\tif(location.href.indexOf(\x22/george/\x22) \x3d\x3d -1){\r\n\t\t\treturn \x22Direct\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22George\x22;\r\n\t\t}\r\n\t}\r\n})()', {pageId:20723});
BrightTag.instance.dbe('s.evar16', '(function(){\r\n\tif(bt_cookie(\x27BT_CampaignID\x27)){\r\n\t\treturn \x22D\x3dc13\x22;\r\n\t}else if(bt_parameter(\x27cm_sp\x27)){\r\n\t\treturn \x22D\x3dc13\x22;\r\n\t}else if(bt_parameter(\x27icid\x27)){\r\n\t\treturn \x22D\x3dc13\x22;\r\n\t}\r\n})();', {pageId:20723});
BrightTag.instance.dbe('s.evar14', '(function(){\r\n\tvar h1val \x3d document.getElementsByTagName(\x27h1\x27)[0] ? document.getElementsByTagName(\x27h1\x27)[0].innerHTML : \x22\x22;\r\n\tif(jQuery(\x22div[id\x3d\x27logo\x27]\x22).length \x3e 1){\r\n\t\treturn \x22D\x3dc10\x22;\r\n\t}else if(h1val.indexOf(\x27URL Not Found\x27) \x3e -1) {\r\n\t\treturn \x22D\x3dc10\x22;\r\n\t}else if(h1val.indexOf(\x27Transmission Problems\x27) \x3e -1) {\r\n\t\treturn \x22D\x3dc10\x22;\r\n\t}else if(h1val.indexOf(\x27Heavy Traffic\x27) \x3e -1) {\r\n\t\treturn \x22D\x3dc10\x22;\r\n\t}else if(location.pathname.indexOf(\x27default,pd.html\x27)\x3e-1 || location.pathname.indexOf(\x27/Product-NotFound\x27)\x3e-1) {\r\n\t\tif(jQuery(\x22#noResults\x22).length \x3e 0 || jQuery(\x22#generalError\x22).is(\x27:visible\x27)){\r\n\t\t\treturn \x22D\x3dc10\x22;\r\n\t\t}else if(!universal_variable.Product){\r\n\t\t\treturn \x22D\x3dc10\x22;\r\n\t\t}\r\n\t}else if(jQuery(\x22#generalError\x22).is(\x27:visible\x27)){\r\n\t\treturn \x22D\x3dc10\x22;\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();', {pageId:20723});
BrightTag.instance.dbe('s.evar18', 'universal_variable.Customer ? (universal_variable.Customer.customerID ?universal_variable.Customer.customerID : \x22Guest\x22) : \x22Guest\x22', {pageId:20723});
BrightTag.instance.dbe('external campaign id', 'bt_parameter(\x27cmpid\x27)', {pageId:20723});
BrightTag.instance.dbe('s.prop67', '\x22D\x3dch\x22', {pageId:20723});
BrightTag.instance.dbe('s.hier1', '(function(){\r\n\tvar bt_logoClass \x3d \x22Direct\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine Shop\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22Direct\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine Shop\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();', {pageId:20724});
BrightTag.instance.dbe('s.prop13', '(function(){\r\n\tif(bt_cookie(\x27BT_CampaignID\x27)){\r\n\t\tvar cmpId \x3d bt_cookie(\x27BT_CampaignID\x27);\r\n\t\treturn cmpId;\r\n\t}else if(bt_parameter(\x27cm_sp\x27)){\r\n\t\treturn bt_parameter(\x27cm_sp\x27);\r\n\t}else if(bt_parameter(\x27icid\x27)){\r\n\t\treturn bt_parameter(\x27icid\x27);\r\n\t}\r\n})();', {pageId:20723});
BrightTag.instance.dbe('day parting', '(function() {\r\n\treturn getDayOfWeek();\r\n})();', {pageId:20723});
BrightTag.instance.dbe('s.evar68', '\x22D\x3dc68\x22', {pageId:20724});
BrightTag.instance.dbe('s.evar67', '\x22+1\x22', {pageId:20723});
BrightTag.instance.dbe('s.evar66', '(function(){\r\n\tif(bt_cookie(\x22bt_notFirstPage\x22) !\x3d \x22\x22){\r\n\t\treturn \x22\x22;\r\n\t}else{\r\n\t\tdocument.cookie \x3d \x22bt_notFirstPage\x3dtrue;path\x3d/;\x22;\r\n\t\treturn (universal_variable.Basket.totalQuantity ? universal_variable.Basket.totalQuantity : \x220\x22);\r\n\t}\r\n})()', {pageId:20723});
BrightTag.instance.dbe('s.channel', '\x22Homepage\x22', {pageId:20724});
BrightTag.instance.dbe('s.pagetype', '(function(){\r\n\tif(jQuery(\x22#generalError\x22).is(\x27:visible\x27)){\r\n\t\treturn \x27errorPage\x27;\r\n\t}\r\n})();', {pageId:20723});
BrightTag.instance.dbe('time parting', '(function() {\r\n\treturn new Date().getHours();\r\n})();', {pageId:20723});
BrightTag.instance.dbe('s.evar42', '\x22Mobile\x22', {pageId:20713});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22\x3e\n        var s_account \x3d "wmiasdadirectprod";\n      \x3c/script\x3e\n      \x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//s.btstatic.com/lib/d7203aba7613e0dab0d296b29ed7f58605b2789c.js\x22\x3e\x3c/script\x3e\n      \x3cscript type\x3d\x22text/javascript\x22\x3e\n        var ch \x3d s.ch \x3d s.channel \x3d (""+bt_data(\x27s.channel\x27));\n        s.campaign \x3d (""+bt_data(\x27external campaign id\x27));\n        s.pageName \x3d (""+bt_data(\x27s.pagename\x27));\n        s.currencyCode \x3d "GBP";\n        s.events \x3d (""+bt_data(\x27s.events\x27));\n        s.products \x3d (""+bt_data(\x27s.products\x27));\n        BrightTag.each([{key:"eVar3",value:bt_data(\x27s.evar3\x27)},{key:"eVar4",value:bt_data(\x27s.evar4\x27)},{key:"eVar7",value:bt_data(\x27s.evar7\x27)},{key:"eVar9",value:bt_data(\x27s.evar9\x27)},{key:"eVar10",value:bt_data(\x27s.evar10\x27)},{key:"eVar11",value:bt_data(\x27site catalyst evar11\x27)},{key:"eVar12",value:bt_data(\x27site catalyst evar12\x27)},{key:"eVar13",value:bt_data(\x27site catalyst evar13\x27)},{key:"eVar14",value:bt_data(\x27s.evar14\x27)},{key:"eVar15",value:bt_data(\x27s.evar15\x27)},{key:"eVar16",value:bt_data(\x27s.evar16\x27)},{key:"eVar17",value:bt_data(\x27s.evar17\x27)},{key:"eVar18",value:bt_data(\x27s.evar18\x27)},{key:"eVar19",value:bt_data(\x27s.evar19\x27)},{key:"eVar20",value:bt_data(\x27s.evar20\x27)},{key:"eVar21",value:bt_data(\x27s.evar21\x27)},{key:"eVar22",value:bt_data(\x27s.evar22\x27)},{key:"eVar24",value:bt_data(\x27s.evar24\x27)},{key:"eVar25",value:bt_data(\x27s.evar25\x27)},{key:"eVar28",value:bt_data(\x27s.evar28\x27)},{key:"eVar32",value:bt_data(\x27s.evar32\x27)},{key:"eVar33",value:bt_data(\x27s.evar33\x27)},{key:"eVar34",value:bt_data(\x27s.evar34\x27)},{key:"eVar36",value:bt_data(\x27s.evar36\x27)},{key:"eVar37",value:bt_data(\x27site catalyst evar37\x27)},{key:"eVar38",value:bt_data(\x27site catalyst evar38\x27)},{key:"eVar39",value:bt_data(\x27site catalyst evar39\x27)},{key:"eVar40",value:bt_data(\x27s.evar40\x27)},{key:"eVar41",value:bt_data(\x27s.evar41\x27)},{key:"eVar42",value:bt_data(\x27s.evar42\x27)},{key:"eVar44",value:bt_data(\x27s.evar44\x27)},{key:"eVar48",value:bt_data(\x27s.evar48\x27)},{key:"eVar49",value:bt_data(\x27s.evar49\x27)},{key:"eVar50",value:bt_data(\x27s.evar50\x27)},{key:"eVar52",value:bt_data(\x27s.evar52\x27)},{key:"eVar53",value:bt_data(\x27s.evar53\x27)},{key:"eVar54",value:bt_data(\x27s.evar54\x27)},{key:"eVar55",value:bt_data(\x27s.evar55\x27)},{key:"eVar56",value:bt_data(\x27s.evar56\x27)},{key:"eVar66",value:bt_data(\x27s.evar66\x27)},{key:"eVar67",value:bt_data(\x27s.evar67\x27)},{key:"eVar68",value:bt_data(\x27s.evar68\x27)},{key:"eVar69",value:bt_data(\x27s.evar69\x27)},{key:"eVar70",value:bt_data(\x27s.evar70\x27)},{key:"eVar72",value:bt_data(\x27s.evar72\x27)},{key:"eVar73",value:bt_data(\x27s.evar73\x27)},{key:"pageType",value:bt_data(\x27s.pagetype\x27)},{key:"purchaseID",value:bt_data(\x27s.evar52\x27)},{key:"prop1",value:bt_data(\x27s.prop1\x27)},{key:"prop2",value:bt_data(\x27s.prop2\x27)},{key:"prop8",value:bt_data(\x27s.prop8\x27)},{key:"prop9",value:bt_data(\x27s.prop9\x27)},{key:"prop10",value:bt_data(\x27error - h1 value\x27)},{key:"prop14",value:bt_data(\x27day parting\x27)},{key:"prop13",value:bt_data(\x27s.prop13\x27)},{key:"prop15",value:bt_data(\x27time parting\x27)},{key:"prop18",value:bt_data(\x27s.prop18\x27)},{key:"prop20",value:bt_data(\x27site catalyst prop20\x27)},{key:"prop23",value:bt_data(\x27s.prop23\x27)},{key:"prop24",value:bt_data(\x27s.prop24\x27)},{key:"prop25",value:bt_data(\x27s.prop25\x27)},{key:"prop27",value:bt_data(\x27s.prop27\x27)},{key:"prop28",value:bt_data(\x27s.prop28\x27)},{key:"prop29",value:bt_data(\x27s.prop29\x27)},{key:"prop30",value:bt_data(\x27error - number of cookies\x27)},{key:"prop31",value:bt_data(\x27error - s_pers cookie length\x27)},{key:"prop32",value:bt_data(\x27error - largest cookie\x27)},{key:"prop38",value:bt_data(\x27s.prop38\x27)},{key:"prop39",value:bt_data(\x27s.prop39\x27)},{key:"prop43",value:bt_data(\x27s.prop43\x27)},{key:"prop44",value:bt_data(\x27s.prop44\x27)},{key:"prop46",value:bt_data(\x27s.prop46\x27)},{key:"prop47",value:bt_data(\x27s.prop47\x27)},{key:"prop48",value:bt_data(\x27s.prop48\x27)},{key:"prop52",value:bt_data(\x27s.prop52\x27)},{key:"prop65",value:bt_data(\x27s.prop65\x27)},{key:"prop67",value:bt_data(\x27s.prop67\x27)},{key:"prop68",value:bt_data(\x27s.prop68\x27)},{key:"prop69",value:bt_data(\x27s.prop69\x27)},{key:"prop70",value:bt_data(\x27s.prop70\x27)},{key:"hier1",value:bt_data(\x27s.hier1\x27)},{key:"list1",value:bt_data(\x27s.list1\x27)},{key:"list2",value:bt_data(\x27s.list2\x27)}], function (param) {\n          s[param.key] \x3d param.value;\n        });\n        BrightTag.eval();\n        var s_code \x3d s.t();\n        if (s_code) { document.write(s_code); }\n      \x3c/script\x3e',{tagId:53582});
BrightTag.instance.appendContent('\x3cscript\x3e\nif (document.referrer){\n    var ord \x3d Math.random()*1000000000000;\n\tdocument.write(\x27\x3cSCRIPT language\x3d\x22JavaScript1.1\x22 SRC\x3d\x22//ad.doubleclick.net/adj/N2121.nso.codesrv/B8010068;dcadv\x3d4360464;sz\x3d1x2;ord\x3d\x27 + ord + \x27?\x22\x3e\x3c\\/SCRIPT\x3e\x27);\n}\n\x3c/script\x3e',{tagId:451157});
BrightTag.instance.appendContent('\x3cscript type\x3d\x22text/javascript\x22 src\x3d\x22//www.ist-track.com/ContainerJavaScript.ashx?id\x3d2698bd23-149e-43d1-940b-8cc94f7ea571\x22\x3e\x3c/script\x3e\n\x3cscript\x3e\nvar bt_TimeStamp \x3d new Date().getTime();\ndocument.write(\x27\x3cimg src\x3d\x22//www.ist-track.com/ProcessClickImage.ashx?timeStamp\x3d\x27+bt_TimeStamp+\x27\x22 alt\x3d\x22\x22 width\x3d\x221\x22 height\x3d\x221\x22/\x3e\x27);\n\x3c/script\x3e',{tagId:462237});
BrightTag.instance.appendContent('\x3cscript type\x3d\x27text/javascript\x27\x3e\n        (function() {\n          var items \x3d [],\n            prdArr \x3d [],\n            varsString \x3d (";num\\x3d"+bt_data(\x27random number\x27)).replace(/\\s+/g, \x27%20\x27);\n\n          if (!BrightTag.Types.isArray(items)) {\n            items \x3d [items];\n          };\n\n          var addIfDefined \x3d function(fieldName, keyStr, indexStr) {\n            if (fieldName) {\n              prdArr.push(keyStr + indexStr + \x22:\x22 + fieldName);\n            }\n          }\n\n          BrightTag.Util.each(items, function(prod, index) {\n            var indexStr \x3d (index + 1);\n            addIfDefined(prod[\x22\x22], \x22i\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22p\x22, indexStr);\n            addIfDefined(prod[\x220\x22], \x22q\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22c\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22l\x22, indexStr);\n            addIfDefined(prod[\x22\x22], \x22a\x22, indexStr);\n          });\n\n          BrightTag.Content.iframe(\x22//1519932.fls.doubleclick.net/activityi;src\x3d1519932;type\x3dgeorge;cat\x3dasdag611\x22 + varsString + \x22;ord\x3d1;prd\x3d\x22 + prdArr.join(\x22|\x22), {display: \x27none\x27});\n        })();\n      \x3c/script\x3e',{tagId:462461});
BrightTag.EventBinding.when('update basket item').execute('if(bt_data(\x27event trigger\x27) \x3d\x3d \x22Checker\x22){\r\n\tif(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.quantity select\x22).val();\r\n\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.quantity select\x22).val();\r\n\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.quantity select\x22).val();\r\n\t}\r\n\tdocument.cookie \x3d \x22bt_\x22+prodSKURem+\x22\x3d\x22+prodQtyRem+\x22; path\x3d/;\x22;\r\n}else{\r\n\tif(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.quantity select\x22).val();\r\n\t\tvar revRem1 \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22.unitPrice\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t\tvar revRem2 \x3d (Number(revRem1)*Number(prodQtyRem)).toFixed(2);\r\n\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.quantity select\x22).val();\r\n\t\tvar revRem1 \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22.unitPrice\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t\tvar revRem2 \x3d (Number(revRem1)*Number(prodQtyRem)).toFixed(2);\r\n\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.quantity select\x22).val();\r\n\t\tvar revRem1 \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22.unitPrice\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t\tvar revRem2 \x3d (Number(revRem1)*Number(prodQtyRem)).toFixed(2);\r\n\t}\r\n\ts.events\x3d(Number(bt_cookie(\x22bt_\x22+prodSKURem)) \x3c Number(prodQtyRem) ? ((Number(prodQtyRem) - Number(bt_cookie(\x22bt_\x22+prodSKURem))) \x3e 1 ? \x27scAdd\x3d\x27+(Number(prodQtyRem) - Number(bt_cookie(\x22bt_\x22+prodSKURem))) : \x27scAdd\x27) : ((Number(bt_cookie(\x22bt_\x22+prodSKURem)) - Number(prodQtyRem)) \x3e 1 ? \x27scRemove\x3d\x27+(Number(bt_cookie(\x22bt_\x22+prodSKURem)) - Number(prodQtyRem)) : \x27scRemove\x27));\r\n\ts.products\x3d\x27;\x27+prodSKURem+\x27;\x27+prodQtyRem+\x27;\x27+revRem2;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.t();\r\n\tdocument.cookie \x3d \x22bt_\x22+prodSKURem+\x22\x3d; expires\x3dThu, 01-Jan-70 00:00:01 GMT; path\x3d/;\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - recently viewed items').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Others^\x22+((jQuery(eventObject.currentTarget).attr(\x22class\x22) ? jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22recentarrow\x22)\x3e-1 : false) ? \x22ClickedRVICarousel\x22 : \x22ClickedRVI\x22)+\x22^RecentlyViewedItems\x22);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('user logged in').execute('var ck \x3d function(param) { var c \x3d document.cookie; var s \x3d param+\x22\x3d\x22; return (c.indexOf(s) \x3d\x3d -1) ? \x22\x22 : c.substring(c.indexOf(s)+s.length,c.indexOf(\x22|\x22,c.indexOf(s))); }\r\nif(ck(\x22bt_loginE\x22) !\x3d \x22\x22 \x26\x26 bt_data(\x27s.evar18\x27).length \x3e 0){\r\ns.events \x3d \x22event27\x22;\r\ns.eVar18 \x3d bt_data(\x27s.evar18\x27);\r\ns.eVar19 \x3d ck(\x22bt_loginE\x22);\r\ns.eVar72\x3d\x22+1\x22;\r\ns.t();\r\ndocument.cookie \x3d \x22bt_loginE\x3d|;path\x3d/;\x22\r\n}',{tagId:53582});
BrightTag.EventBinding.when('checkout login').execute('if(eventObject.which\x3d\x3d13 || bt_data(\x27click event\x27) \x3d\x3d \x22Yes\x22){\r\ns.eVar19\x3djQuery(\x22#emailAddress\x22).val();\r\ns.eVar72\x3d\x22+1\x22;\r\ns.t();\r\n}',{tagId:53582});
BrightTag.EventBinding.when('sub-category box tracking').execute('var bt_catBoxName \x3d jQuery(eventObject.currentTarget).parents(\x22.hubCategory\x22).find(\x22a\x22).attr(\x22title\x22);\r\nvar bt_catBoxCategories \x3d (jQuery(\x22#navBreadcrumbs a\x22)[1].title+\x22-_-\x22+jQuery(\x22#navBreadcrumbs a\x22)[jQuery(\x22#navBreadcrumbs a\x22).length-1].title);\r\ns.linkTrackVars\x3d\x22channel,prop13,prop52,prop66,eVar72\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.prop13\x3d(\x22desktop-_-asdadirect-_-\x22+bt_catBoxCategories+\x22_-catbox-_-\x22+bt_catBoxName+\x22-\x22).toLowerCase();\r\ns.tl(true,\x27o\x27,\x27Sub-Category Box Tracking\x27);',{tagId:53582});
BrightTag.EventBinding.when('campaign id capture').execute('(function() {\r\n\teventObject.stopPropagation();\r\n\tvar campaignID \x3d bt_data(\x27internal campaign id\x27);\r\n\tdocument.cookie \x3d \x22BT_CampaignID\x3d\x22 + campaignID + \x22; path\x3d/\x22;\r\n})();',{tagId:53582});
BrightTag.EventBinding.when('product - legal information').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^BuyBlock^ClickedLegalInformation\x22);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('product - delivery toggle').execute('var bt_prodDelToggle \x3d (function(){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22open\x22){\r\n\t\treturn \x22ClickedAllOptionsExpandButton\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22close\x22){\t\r\n\t\treturn \x22ClickedAllOptionsCollapseButton\x22;\r\n\t}\r\n})();\r\nvar brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Delivery^\x22+bt_prodDelToggle);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('remove from basket').execute('if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.quantity select\x22).val();\r\n\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.quantity select\x22).val();\r\n\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n}\r\nelse if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.quantity select\x22).val()\r\n\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n}\r\ns.products\x3d\x27;\x27+prodSKURem+\x27;\x27+prodQtyRem+\x27;\x27+revRem;\r\ns.prop47\x3d(\x22R^\x22+s.products.split(\x22;\x22)[1]+\x22^\x22+prodNameRem);\r\ns.eVar72\x3d\x22+1\x22;\r\ns.events\x3d\x27scRemove\x27;\r\ns.t();',{tagId:53582});
BrightTag.EventBinding.when('store collection - map/list toggle').execute('setTimeout(function(){\r\n\tif(bt_data(\x27map/list trigger\x27) \x3d\x3d \x22Click\x22){\r\n\t\ts.linkTrackVars\x3d\x22products,channel,prop39,prop52,prop66,eVar72\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.prop39\x3d(jQuery(\x22.tabNavigation li.active\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) \x3d\x3d \x22Map\x22 ? \x22OnClick^Map\x22 : \x22OnClick^List\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Store Collection - Map/List Toggle\x27);\r\n\t}else if(jQuery(\x22.collect_in_store\x22).length \x3e 0){\r\n\t\ts.linkTrackVars\x3d\x22products,channel,prop39,prop52,prop66,eVar72\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.prop39\x3d(jQuery(\x22.tabNavigation li.active\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) \x3d\x3d \x22Map\x22 ? \x22OnLoad^Map\x22 : \x22OnLoad^List\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Store Collection - Map/List Toggle\x27);\r\n\t}\r\n},500);',{tagId:53582});
BrightTag.EventBinding.when('product - header/footer links').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\nvar bt_headType \x3d [];\r\nif(jQuery(eventObject.currentTarget).parents(\x22#QuicklinksReskin\x22).length \x3e 0 || jQuery(eventObject.currentTarget).parents(\x22#quickLinks\x22).length \x3e 0){\r\n\tbt_headType.push(brandType+\x22^PP^\x22+prodType+\x22^I^Others^ClickedLink^LinkinFooter\x22);\r\n}else{\r\n\tvar bt_headType \x3d [];\r\n\tbt_headType.push(brandType+\x22^PP^\x22+prodType+\x22^I^Others^ClickedLink^LinkinHeader\x22);\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22) !\x3d undefined){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22expandMinicart\x22)\x3e-1){\r\n\t\t\tbt_headType.push(brandType+\x22^PP^\x22+prodType+\x22^I^Others^ClickedLink^MiniBasket\x22);\r\n\t\t}\r\n\t}\r\n}\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3dbt_headType.join(\x22|\x22);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('product - part of set interactions').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^PartofProductSet^\x22+(bt_data(\x27input or a\x27) \x3d\x3d \x22Input\x22 ? \x22AddToBasketSetModule\x22 : \x22ClickedSetModule\x22));\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('quick buy pop-up').execute('var bt_currDate \x3d (function(){\r\n\tvar fullDate \x3d new Date();\r\n\tvar twoDigitMonth \x3d fullDate.getMonth()+1+\x22\x22;if(twoDigitMonth.length\x3d\x3d1)  twoDigitMonth\x3d\x220\x22 +twoDigitMonth;\r\n\tvar twoDigitDate \x3d fullDate.getDate()+\x22\x22;if(twoDigitDate.length\x3d\x3d1) twoDigitDate\x3d\x220\x22 +twoDigitDate;\r\n\treturn twoDigitDate + twoDigitMonth + fullDate.getFullYear();\r\n})()\r\nif(jQuery(eventObject.currentTarget).parents(\x22.addToBasket\x22).length \x3e 0){\r\n\ts.events\x3d\x22\x22;\r\n\ts.eVar22\x3d\x22PMV\x22;\r\n\ts.eVar49\x3ds.eVar50\x3d\x22zero\x22;\r\n\ts.eVar68\x3d\x22z\x22;\r\n\ts.eVar71\x3dbt_currDate;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.prop1\x3d(s.products.split(\x22;\x22)[1]);\r\n\ts.eVar74\x3d((Number(s.products.split(\x22;\x22)[3])/Number(s.products.split(\x22;\x22)[2])).toFixed(2));\r\n\ts.eVar15\x3d\x22Quick Buy\x22;\r\n\ts.eVar28\x3d\x22Quick Buy\x22;\r\n\ts.products\x3d\x22;\x22+jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form\x22).attr(\x22name\x22).match(/_([A-Z]|[0-9])+/)[0].replace(\x22_\x22,\x22\x22)+\x22;\x22+jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22select.quantityinput\x22).val()+\x22;\x22+jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22#productPrice\x22).text().match(/[0-9]+.[0-9]+/)[0]+\x22;event3\x3d0;eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\ts.eVar9\x3d\x22\x22;\r\n\ts.eVar10\x3d\x22\x22;\r\n\ts.eVar41\x3d\x22\x22;\r\n\ts.eVar54\x3d\x22\x22;\r\n\ts.prop28\x3d\x22\x22;\r\n\ts.prop29\x3d\x22\x22;\r\n\ts.prop46\x3d\x22\x22;\r\n\ts.prop49\x3d\x22\x22;\r\n\ts.t();\r\n\ts.eVar15\x3d\x22\x22;\r\n\ts.eVar28\x3d\x22\x22;\r\n\ts.eVar68\x3d\x22\x22;\r\n\ts.eVar71\x3d\x22\x22;\r\n\ts.eVar74\x3d\x22\x22;\r\n\ts.events\x3d\x22\x22;\r\n\ts.products\x3d\x22\x22;\r\n\ts.list2\x3d\x22\x22;\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22.saveForLaterCont\x22).length \x3e 0){\r\n\ts.linkTrackVars\x3d\x22events,channel,eVar29,prop52,prop66,prop67,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x22event25\x22;\r\n\ts.prop67\x3d\x22D\x3dch\x22;\r\n\ts.events\x3d\x22event25\x22;\r\n\ts.eVar29\x3dbt_currDate;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.tl(true,\x27o\x27,\x27Save for Later\x27);\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22.viewDetailsVariant\x22).length \x3e 0){\r\n\ts.linkTrackVars\x3d\x22channel,eVar28,prop52,prop66,prop67,eVar72\x22;\r\n\ts.eVar28\x3d\x22Quick Buy\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.prop67\x3d\x22D\x3dch\x22;\r\n\ts.tl(true,\x27o\x27,\x27Quick Buy Interaction\x27);\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22.featured\x22).length \x3e 0){\r\n\ts.linkTrackVars\x3d\x22events,channel,prop52,prop66,prop67,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x22event99\x22;\r\n\ts.events\x3d\x22event99\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.prop67\x3d\x22D\x3dch\x22;\r\n\ts.tl(true,\x27o\x27,\x27Quick Buy Interaction\x27);\r\n}',{tagId:53582});
BrightTag.EventBinding.when('store collection - nominate day').execute('var bt_currDateChosen \x3d jQuery(eventObject.currentTarget).find(\x22.weekDay\x22).text();\r\nif(bt_cookie(\x22bt_nomDelivery\x22) !\x3d \x22\x22){\r\n\tvar bt_freq \x3d bt_cookie(\x22bt_nomFreq\x22).split(\x22^\x22);\r\n\tif(bt_currDateChosen \x3d\x3d \x22Mon\x22){\r\n\t\tbt_freq[0] \x3d Number(bt_freq[0])+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Tue\x22){\r\n\t\tbt_freq[1] \x3d Number(bt_freq[1])+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Wed\x22){\r\n\t\tbt_freq[2] \x3d Number(bt_freq[2])+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Thu\x22){\r\n\t\tbt_freq[3] \x3d Number(bt_freq[3])+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Fri\x22){\r\n\t\tbt_freq[4] \x3d Number(bt_freq[4])+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Sat\x22){\r\n\t\tbt_freq[5] \x3d Number(bt_freq[5])+1;\r\n\t}else{\r\n\t\tbt_freq[6] \x3d Number(bt_freq[6])+1;\r\n\t}\r\n\tdocument.cookie \x3d \x22bt_nomFreq\x3d\x22+bt_freq.join(\x22^\x22)+\x22; path\x3d/;\x22;\r\n}else{\r\n\tvar bt_freq \x3d [0,0,0,0,0,0,0];\r\n\tif(bt_currDateChosen \x3d\x3d \x22Mon\x22){\r\n\t\tbt_freq[0] \x3d bt_freq[0]+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Tue\x22){\r\n\t\tbt_freq[1] \x3d bt_freq[1]+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Wed\x22){\r\n\t\tbt_freq[2] \x3d bt_freq[2]+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Thu\x22){\r\n\t\tbt_freq[3] \x3d bt_freq[3]+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Fri\x22){\r\n\t\tbt_freq[4] \x3d bt_freq[4]+1;\r\n\t}else if(bt_currDateChosen \x3d\x3d \x22Sat\x22){\r\n\t\tbt_freq[5] \x3d bt_freq[5]+1;\r\n\t}else{\r\n\t\tbt_freq[6] \x3d bt_freq[6]+1;\r\n\t}\r\n\tdocument.cookie \x3d \x22bt_nomDelivery\x3dMon^Tues^Wed^Thurs^Fri^Sat^Sun; path\x3d/;\x22;\r\n\tdocument.cookie \x3d \x22bt_nomFreq\x3d\x22+bt_freq.join(\x22^\x22)+\x22; path\x3d/;\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('filter tracking').execute('var bt_tickChecker \x3d (function(){\r\n\tif(jQuery(eventObject.target).parents(\x22li\x22).attr(\x22class\x22)){\r\n\t\tif(jQuery(eventObject.target).parents(\x22li\x22).attr(\x22class\x22).indexOf(\x22selected\x22)\x3e-1 || jQuery(eventObject.target).parents(\x22li\x22).attr(\x22class\x22).indexOf(\x22valueSelected\x22)\x3e-1){\r\n\t\t\treturn \x22^Unchecked\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22\x22;\r\n\t\t}\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();\r\nsetTimeout(function(){\r\n\tvar websiteType \x3d (function(){\r\n\t\tvar domain \x3d location.hostname;\r\n\t\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\t\treturn \x22D\x22;\r\n\t\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\t\treturn \x22T\x22;\r\n\t\t}\r\n\t})();\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22D\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22D\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tif(brandType \x3d\x3d \x22G\x22){\r\n\t\tif(jQuery(eventObject.target).parents(\x22#stickyBackToTop\x22).length \x3e 0){\r\n\t\t\tvar bt_filterChoice \x3d websiteType+\x22^G^F^BackToTop\x22;\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22.showFiltersbuttonWrapper\x22).length \x3e 0){\r\n\t\t\tvar bt_filterChoice \x3d  websiteType+\x22^G^LHF^ISButton\x22;\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22#priceSlider\x22).length \x3e 0 || jQuery(eventObject.target).parents(\x22form#price\x22).length \x3e 0){\r\n\t\t\tif(bt_data(\x27event trigger\x27) !\x3d \x22Invalid\x22){\r\n\t\t\t\tvar bt_filterChoice \x3d (function(){\r\n\t\t\t\t\tvar bt_filterName \x3d \x22\xa3\x22+jQuery(\x22input[name\x3d\x27pmin\x27]\x22).val()+\x22-\xa3\x22+jQuery(\x22input[name\x3d\x27pmax\x27]\x22).val();\r\n\t\t\t\t\tif(bt_filterName !\x3d \x22\x22){\r\n\t\t\t\t\t\treturn websiteType+\x22^\x22+brandType+\x22^LHF^Price^\x22+bt_filterName;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t\t}\r\n\t\t\t\t})();\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22#primaryShadow\x22).length \x3e 0){\r\n\t\t\tvar bt_filterChoice \x3d (function(){\r\n\t\t\t\tvar bt_filterHead \x3d jQuery(eventObject.target).parents(\x22li\x22).prevAll(\x22.leftNavCat\x22)[0].innerHTML.replace(/^\\s+|\\s+$/g,\x27\x27).replace(/\\(.*\\)/g,\x22\x22);\r\n\t\t\t\tvar bt_filterName \x3d \x22^\x22+jQuery(eventObject.target).attr(\x22title\x22).replace(\x22Go to \x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t\t\tif(bt_filterHead !\x3d \x22\x22){\r\n\t\t\t\t\treturn websiteType+\x22^\x22+brandType+\x22^LHF^\x22+bt_filterHead+bt_filterName+bt_tickChecker;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t}else{\r\n\t\t\tvar bt_filterChoice \x3d (function(){\r\n\t\t\t\tvar bt_filterHead \x3d jQuery(eventObject.target).parents(\x22.navgroup,.searchcategories\x22).find(\x22.navHeading,.refHeading\x22).text().replace(/^\\s+|\\s+$/g,\x22\x22).match(/^[A-Za-z0-9 ]+/)[0].replace(/\\(.*\\)/g,\x22\x22).replace(/([^\\s]*\\s[^\\s]*)(\\s[\\w\\s]*)/g,\x22$1\x22).replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t\t\tvar bt_filterName \x3d (jQuery(eventObject.target).parents(\x22li\x22).length \x3e 0 ? (jQuery(eventObject.target).parents(\x22li\x22).find(\x22a\x22)[0].title !\x3d \x22\x22 ? \x22^\x22+jQuery(eventObject.target).parents(\x22li\x22).find(\x22a\x22)[0].title : (jQuery(eventObject.target).find(\x22a\x22).length \x3e 0 ? jQuery(eventObject.target).find(\x22a\x22)[0].title : \x22\x22)) : (jQuery(eventObject.target).parents(\x22.refinement-open\x22).length \x3e 0 ? \x22^Open\x22 : (jQuery(eventObject.target).parents(\x22.refinement-closed\x22).length \x3e 0 ? \x22^Close\x22 : \x22\x22)));\r\n\t\t\t\tif(bt_filterHead !\x3d \x22\x22){\r\n\t\t\t\t\treturn websiteType+\x22^\x22+brandType+\x22^LHF^\x22+bt_filterHead+bt_filterName+bt_tickChecker;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(eventObject.target).parents(\x22.customPriceRefinement\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22.customPriceRefinement .fromPrice\x22).val() !\x3d \x22\x22 || jQuery(\x22.customPriceRefinement .toPrice\x22).val() !\x3d \x22\x22){\r\n\t\t\t\tvar bt_filterChoice \x3d (function(){\r\n\t\t\t\t\tvar bt_filterHead \x3d (jQuery(eventObject.target).parents(\x22.categoryTitle\x22).length \x3e 0 ? jQuery(eventObject.target).parents(\x22.categoryTitle\x22).find(\x22.refTitleBulletsControl\x22).text().replace(\x22[-]\x22,\x22\x22).replace(\x22[+]\x22,\x22\x22).replace(/\\(.*\\)/g,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : (jQuery(eventObject.target).parents(\x22.facetSectionInner\x22).length \x3e 0 ? jQuery(eventObject.target).parents(\x22.facetSectionInner\x22).find(\x22.refTitleBulletsControl\x22).text().replace(\x22[-]\x22,\x22\x22).replace(\x22[+]\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : \x22\x22));\r\n\t\t\t\t\tvar bt_filterName \x3d (jQuery(\x22.customPriceRefinement .fromPrice\x22).val() \x3d\x3d \x22\x22 ? \x22^Up to \xa3\x22+jQuery(\x22.customPriceRefinement .toPrice\x22).val() : (jQuery(\x22.customPriceRefinement .toPrice\x22).val() \x3d\x3d \x22\x22 ? \x22^From \xa3\x22+jQuery(\x22.customPriceRefinement .fromPrice\x22).val() : (\x22^\xa3\x22+jQuery(\x22.customPriceRefinement .fromPrice\x22).val()+\x22 - \x22+\x22\xa3\x22+jQuery(\x22.customPriceRefinement .toPrice\x22).val())));\r\n\t\t\t\t\tif(bt_filterHead !\x3d \x22\x22){\r\n\t\t\t\t\t\treturn websiteType+\x22^\x22+brandType+\x22^LHF^\x22+bt_filterHead+bt_filterName;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t\t}\r\n\t\t\t\t})();\r\n\t\t\t}else{\r\n\t\t\t\tvar bt_filterChoice \x3d \x22\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar bt_filterChoice \x3d (function(){\r\n\t\t\t\tvar bt_filterHead \x3d (jQuery(eventObject.target).parents(\x22.categoryTitle\x22).length \x3e 0 ? jQuery(eventObject.target).parents(\x22.categoryTitle\x22).find(\x22.refTitleBulletsControl\x22).text().replace(\x22[-]\x22,\x22\x22).replace(\x22[+]\x22,\x22\x22).replace(/\\(.*\\)/g,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : (jQuery(eventObject.target).parents(\x22.facetSectionInner\x22).length \x3e 0 ? jQuery(eventObject.target).parents(\x22.facetSectionInner\x22).find(\x22.refTitleBulletsControl\x22).text().replace(\x22[-]\x22,\x22\x22).replace(\x22[+]\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : \x22\x22));\r\n\t\t\t\tvar bt_filterName \x3d (jQuery(eventObject.target).find(\x22span.refTitleBullets\x22).prevObject[0].className \x3d\x3d \x22refTitleBullets\x22 || jQuery(eventObject.target).find(\x22span.refTitleBullets\x22).prevObject[0].className \x3d\x3d \x22littleTick\x22 ? (\x22^\x22+(jQuery(eventObject.target).next(\x22span.refTitleBullets\x22)[0] ? jQuery(eventObject.target).next(\x22span.refTitleBullets\x22)[0].innerHTML.replace(\x22\x26amp;\x22,\x22\x26\x22).replace(/\\([^)]*\\)/g,\x27\x27).replace(/^\\s+|\\s+$/g,\x27\x27) : jQuery(eventObject.target).next(\x22span.refTitleBullets\x22).prevObject[0].innerHTML.replace(\x22\x26amp;\x22,\x22\x26\x22).replace(/\\([^)]*\\)/g,\x27\x27).replace(/^\\s+|\\s+$/g,\x27\x27))) : \x22\x22);\r\n\t\t\t\tif(bt_filterHead !\x3d \x22\x22){\r\n\t\t\t\t\treturn websiteType+\x22^\x22+brandType+\x22^LHF^\x22+bt_filterHead+bt_filterName+bt_tickChecker;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t}\r\n\t}\r\n\tvar bt_extraEv \x3d [];\r\n\tif(bt_filterChoice !\x3d \x22\x22 \x26\x26 s.channel \x3d\x3d \x22Search\x22){\r\n\t\tif(bt_cookie(\x22bt_ev86\x22) \x3d\x3d \x22\x22){\r\n\t\t\tdocument.cookie \x3d \x22bt_ev86\x3dyes; path\x3d/;\x22;\r\n\t\t\tbt_extraEv.push(\x22event85,event86\x22);\r\n\t\t}else{\r\n\t\t\tbt_extraEv.push(\x22event85\x22);\r\n\t\t}\r\n\t}else if(bt_filterChoice !\x3d \x22\x22 \x26\x26 (s.channel \x3d\x3d \x22Category\x22 || s.channel \x3d\x3d \x22Product Listing\x22)){\r\n\t\tif(bt_cookie(\x22bt_ev88\x22) \x3d\x3d \x22\x22){\r\n\t\t\tdocument.cookie \x3d \x22bt_ev88\x3dyes; path\x3d/;\x22;\r\n\t\t\tbt_extraEv.push(\x22event87,event88\x22);\r\n\t\t}else{\r\n\t\t\tbt_extraEv.push(\x22event87\x22);\r\n\t\t}\r\n\t}else if(bt_filterChoice !\x3d \x22\x22 \x26\x26 s.channel \x3d\x3d \x22PMID\x22){\r\n\t\tif(bt_cookie(\x22bt_ev80\x22) \x3d\x3d \x22\x22){\r\n\t\t\tdocument.cookie \x3d \x22bt_ev80\x3dyes; path\x3d/;\x22;\r\n\t\t\tbt_extraEv.push(\x22event79,event80\x22);\r\n\t\t}else{\r\n\t\t\tbt_extraEv.push(\x22event79\x22);\r\n\t\t}\r\n\t}\r\n\tif(bt_extraEv.length !\x3d 0){\r\n\t\tbt_extraEv \x3d (\x22,\x22+bt_extraEv.join(\x22,\x22));\r\n\t}else{\r\n\t\tbt_extraEv \x3d \x22\x22;\r\n\t}\r\n\tif(bt_filterChoice !\x3d \x22\x22){\r\n\t\ts.linkTrackVars\x3d\x22channel,events,prop35,prop45,prop52,prop66,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event61\x22+bt_extraEv;\r\n\t\ts.events\x3d\x22event61\x22+bt_extraEv;\r\n\t\ts.prop35\x3dbt_filterChoice;\r\n\t\ts.prop45\x3d\x22D\x3dc35\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.tl(true,\x27o\x27,\x27Filter Tracking\x27);\r\n\t\ts.prop35\x3d\x22\x22;\r\n\t\ts.prop45\x3d\x22\x22;\r\n\t}\r\n},400);',{tagId:53582});
BrightTag.EventBinding.when('empty basket').execute('if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\tvar itemNames \x3d jQuery(\x22#productListing td.itemDetails a[id*\x3d\x27pid\x27]\x22);\r\n\tvar itemSkus \x3d [];\r\n\tjQuery.each(itemNames, function(){\r\n\t\titemSkus.push(jQuery(this).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22));\r\n\t});\r\n\tvar itemQtyElem \x3d jQuery(\x22#productListing td.quantity select\x22);\r\n\tvar itemQtys \x3d [];\r\n\tjQuery.each(itemQtyElem, function(){\r\n\t\titemQtys.push(jQuery(this).val());\r\n\t});\r\n\tvar itemRevs \x3d jQuery(\x22#productListing td.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22).split(\x22\xa3\x22);\r\n\t\r\n}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\tvar itemNames \x3d jQuery(\x22#productListing div.mw_product_name a[id*\x3d\x27pid\x27]\x22);\r\n\tvar itemSkus \x3d [];\r\n\tjQuery.each(itemNames, function(){\r\n\t\titemSkus.push(jQuery(this).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22));\r\n\t});\r\n\tvar itemQtyElem \x3d jQuery(\x22#productListing div.quantity select\x22);\r\n\tvar itemQtys \x3d [];\r\n\tjQuery.each(itemQtyElem, function(){\r\n\t\titemQtys.push(jQuery(this).val());\r\n\t});\r\n\tvar itemRevs \x3d jQuery(\x22#productListing div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22).split(\x22\xa3\x22);\r\n\t\r\n}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\tvar itemNames \x3d jQuery(\x22#productListing div.itemDetails a[id*\x3d\x27pid\x27]\x22);\r\n\tvar itemSkus \x3d [];\r\n\tjQuery.each(itemNames, function(){\r\n\t\titemSkus.push(jQuery(this).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22));\r\n\t});\r\n\tvar itemQtyElem \x3d jQuery(\x22#productListing div.quantity select\x22);\r\n\tvar itemQtys \x3d [];\r\n\tjQuery.each(itemQtyElem, function(){\r\n\t\titemQtys.push(jQuery(this).val());\r\n\t});\r\n\tvar itemRevs \x3d jQuery(\x22#productListing div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22).split(\x22\xa3\x22);\r\n}\r\nvar sProducts \x3d [];\r\nfor(var i\x3d0; i \x3c itemSkus.length; i++){\r\n   sProducts.push(\x27;\x27+itemSkus[i]+\x27;\x27+itemQtys[i]+\x27;\x27+itemRevs[i]);\r\n}\r\ns.prop47\x3d\x22Emptied Basket\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3dsProducts;\r\ns.events\x3d\x27scRemove,event31\x27;\r\ns.t();',{tagId:53582});
BrightTag.EventBinding.when('product - wine links').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\nvar bt_wineLinkKey \x3d \x22\x22;\r\nif(jQuery(eventObject.target).parents(\x22#BVButtonSubmitID\x22).length \x3e 0){\r\n\tbt_wineLinkKey \x3d \x22FollowThisProductSubmit\x22;\r\n}else if(jQuery(eventObject.target).parents(\x22#wineservice\x22).length \x3e 0){\r\n\tbt_wineLinkKey \x3d \x22WineService\x22;\r\n}else if(jQuery(eventObject.target).parents(\x22.foodpairing\x22).length \x3e 0){\r\n\tbt_wineLinkKey \x3d \x22FoodPairing\x22;\r\n}else if(jQuery(eventObject.target).parents(\x22.BVContentSubscription\x22).length \x3e 0){\r\n\tbt_wineLinkKey \x3d \x22FollowThisProduct\x22;\r\n}else if(jQuery(eventObject.target).attr(\x22title\x22)){\r\n\tif(jQuery(eventObject.target).attr(\x22title\x22) \x3d\x3d \x22Ask a question\x22){\r\n\t\tbt_wineLinkKey \x3d \x22AskAQuestion\x22;\r\n\t}\r\n}\r\nif(jQuery(eventObject.target).parents(\x22#bundletabs\x22).length \x3e 0){\r\n\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\ts.events\x3d\x22event16\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Products^ClickedProduct^WhatsInTheCase\x22);\r\n\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\ts.list2\x3d\x22\x22;\r\n}else if(bt_wineLinkKey !\x3d \x22\x22){\r\n\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\ts.events\x3d\x22event16\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Links^\x22+bt_wineLinkKey);\r\n\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\ts.list2\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('category sorting').execute('s.prop23 \x3dbt_data(\x27s.prop23\x27);\r\ns.eVar72\x3d\x22+1\x22;\r\ns.t();',{tagId:53582});
BrightTag.EventBinding.when('product - view saved items').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.channel\x3d\x22Product\x22;\r\ns.products\x3dbt_data(\x27s.products\x27).split(\x27;\x27).slice(0,4).join(\x27;\x27);\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^WishList^ClickedLink^ViewSavedItems\x22);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('track delivery').execute('s.linkTrackVars\x3d\x22channel,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event53\x27;\r\ns.events\x3d\x22event53\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.tl(true,\x27o\x27,\x27Track Delivery\x27);',{tagId:53582});
BrightTag.EventBinding.when('product - tab switch').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_ProdType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\nvar bt_prodInt \x3d [];\r\nbt_prodInt.push(brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Content^ViewedTabContent^\x22+jQuery(eventObject.currentTarget).text().replace(/ +/g, \x22\x22));\r\nif(jQuery(eventObject.currentTarget).text().replace(/ +/g, \x22\x22) \x3d\x3d \x22Reviews\x22){\r\n\tbt_prodInt \x3d bt_prodInt+\x22|\x22+brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Ratings\x26Reviews^ClickedReviewsTab\x22;\r\n}\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3dbt_prodInt;\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;\r\nif(jQuery(eventObject.currentTarget).text().replace(/ +/g, \x22\x22).toLowerCase() \x3d\x3d \x22expertreviews\x22){\r\n\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,eVar41,prop66,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x27event6,event16\x27;\r\n\ts.events\x3d\x22event6,event16\x22;\r\n\ts.eVar41\x3d\x22C\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.list2\x3d(brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Ratings\x26Reviews^ClickedExpertReviews\x22);\r\n\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\ts.list2\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - size guide').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.channel\x3d\x22Product\x22;\r\ns.products\x3dbt_data(\x27s.products\x27).split(\x27;\x27).slice(0,4).join(\x27;\x27);\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Others^ClickedLink^SizeGuide\x22);\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('save for later').execute('if(s.channel \x3d\x3d \x22Cart\x22){\r\n\tif(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.quantity select\x22).val();\r\n\t\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22td.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.quantity select\x22).val();\r\n\t\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t}\r\n\telse if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\t\tvar prodSKURem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).attr(\x22id\x22).replace(\x22_pid_\x22,\x22\x22).replace(/_.*/,\x22\x22);\r\n\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\tvar prodQtyRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.quantity select\x22).val()\r\n\t\tvar revRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22div.subtotal li.price\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t}\r\n\ts.products\x3d\x27;\x27+prodSKURem+\x27;\x27+prodQtyRem+\x27;\x27+revRem;\r\n\ts.prop47\x3d(\x22R^\x22+s.products.split(\x22;\x22)[1]+\x22^\x22+prodNameRem);\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.events\x3d\x27scRemove\x27;\r\n\ts.t();\r\n}\r\n\r\nsetTimeout(function(){\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\tvar bt_currDate \x3d (function(){\r\n\t\tvar fullDate \x3d new Date();\r\n\t\tvar twoDigitMonth \x3d fullDate.getMonth()+1+\x22\x22;if(twoDigitMonth.length\x3d\x3d1)  twoDigitMonth\x3d\x220\x22 +twoDigitMonth;\r\n\t\tvar twoDigitDate \x3d fullDate.getDate()+\x22\x22;if(twoDigitDate.length\x3d\x3d1) twoDigitDate\x3d\x220\x22 +twoDigitDate;\r\n\t\treturn twoDigitDate + twoDigitMonth + fullDate.getFullYear();\r\n\t})()\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\ts.linkTrackVars\x3d\x22products,events,channel,list2,eVar29,prop52,prop66,prop67,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event25,event16\x22;\r\n\t\ts.channel\x3d\x22Product\x22;\r\n\t\ts.prop67\x3d\x22D\x3dch\x22;\r\n\t\tvar miniSKUPre \x3d brandType \x3d\x3d \x22GRG\x22 ? thisProduct.selectedVar.id : \x22\x22;\r\n\t\tif(miniSKUPre \x3d\x3d \x22\x22){\r\n\t\t\tvar miniSKU \x3d jQuery(\x22#productDetail form\x22).attr(\x22id\x22).match(/\\d+/)[0];\r\n\t\t}else{\r\n\t\t\tvar miniSKU \x3d window.thisProduct.selectedVar.id;\r\n\t\t}\r\n\t\tif(brandType \x3d\x3d \x22GRG\x22){\r\n\t\t\tvar miniPrice \x3d Number(thisProduct.selectedVar.pricing.sale).toFixed(2);\r\n\t\t}else if(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}else{\r\n\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}\r\n\t\ts.products\x3d\x22;\x22+ miniSKU +\x22;1;\x22+ miniPrice;\r\n\t\ts.events\x3d\x22event25,event16\x22;\r\n\t\ts.eVar29\x3dbt_currDate;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^WishList^ClickedLink^SaveForLater\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Save for Later\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}else if(s.channel \x3d\x3d \x22Product\x22 \x26\x26 (jQuery(\x22#saveForLaterBtn.itemSaved\x22).length \x3e 0 || jQuery(\x22a.itemSaved\x22).length \x3e 0)){\r\n\t\ts.linkTrackVars\x3d\x22products,events,channel,list2,eVar29,prop52,prop66,prop67,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event25,event16\x22;\r\n\t\ts.channel\x3d\x22Product\x22;\r\n\t\ts.prop67\x3d\x22D\x3dch\x22;\r\n\t\ts.products\x3dbt_data(\x27s.products\x27).split(\x27;\x27).slice(0,4).join(\x27;\x27);\r\n\t\ts.events\x3d\x22event25,event16\x22;\r\n\t\ts.eVar29\x3dbt_currDate;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^WishList^ClickedLink^SaveForLater\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Save for Later\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}else if(jQuery(eventObject.target).parents(\x22a.itemSaved\x22).length \x3e 0 \x26\x26 (s.channel \x3d\x3d \x22Category\x22 || s.channel \x3d\x3d \x22Product Listing\x22 || s.channel \x3d\x3d \x22Search\x22)){\r\n\t\tvar bt_selectionCode \x3d (function(){\r\n\t\t\tvar bt_items \x3d jQuery(\x22a.viewProductLink\x22), bt_currItem \x3d jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22a.viewProductLink\x22).attr(\x22href\x22), bt_currItemCode \x3d 1;\r\n\t\t\tfor(var k\x3d0; k\x3cbt_items.length; k++){\r\n\t\t\t\tif(bt_items[k].getAttribute(\x22href\x22) \x3d\x3d bt_currItem){\r\n\t\t\t\t\tbt_currItemCode \x3d bt_currItemCode+k;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn \x22SFL^\x22+bt_currItemCode;\r\n\t\t})();\r\n\t\ts.linkTrackVars\x3d\x22products,events,channel,eVar29,prop40,prop52,prop66,prop67,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event25\x22;\r\n\t\ts.products\x3d\x22;\x22+ jQuery(eventObject.target).parents(\x22form\x22).find(\x22input[name\x3d\x27pid\x27]\x22).val() +\x22;1;\x22+ jQuery(eventObject.target).parents(\x22form\x22).find(\x22.productPrice .newPrice,.pounds\x22).text().match(/[0-9]+.[0-9]{2}/)[0];\r\n\t\ts.events\x3d\x22event25\x22;\r\n\t\ts.eVar29\x3dbt_currDate;\r\n\t\ts.prop40\x3dbt_selectionCode;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.tl(true,\x27o\x27,\x27Save for Later\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22saveForLaterLink\x22)\x3e-1){\r\n\t\tif(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Desktop\x22){\r\n\t\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22tr\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t}else if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Mobile\x22){\r\n\t\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.mw_old_table\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t}\r\n\t\telse if(bt_data(\x27s.evar42\x27) \x3d\x3d \x22Tablet\x22){\r\n\t\t\tvar prodNameRem \x3d jQuery(eventObject.currentTarget).parents(\x22div.itemDetails\x22).find(\x22a[id*\x3d\x27pid\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t}\r\n\t\ts.linkTrackVars\x3d\x22products,events,channel,eVar29,prop52,prop66,prop67,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event25\x22;\r\n\t\ts.channel\x3d\x22Cart\x22;\r\n\t\ts.prop67\x3d\x22D\x3dch\x22;\r\n\t\ts.products\x3dbt_data(\x27s.products\x27).split(\x27;\x27).slice(0,4).join(\x27;\x27);\r\n\t\ts.events\x3d\x22event25\x22;\r\n\t\ts.eVar29\x3dbt_currDate;\r\n\t\ts.prop47\x3d(\x22R^\x22+s.products.split(\x22;\x22)[1]+\x22^\x22+prodNameRem);\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.tl(true,\x27o\x27,\x27Save for Later\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}\r\n},1000);',{tagId:53582});
BrightTag.EventBinding.when('user login').execute('var cookVal \x3d bt_data(\x27s.evar19\x27);\r\ndocument.cookie \x3d \x22bt_loginE\x3d\x22+cookVal+\x22|;path\x3d/;\x22;',{tagId:53582});
BrightTag.EventBinding.when('product - tell me when available').execute('setTimeout(function(){\r\n\tif(jQuery(\x22#notificationLink\x22).text() \x3d\x3d \x22We\x27ll tell you when it\x27s back in stock\x22 || jQuery(\x22#notificationLink\x22).text() \x3d\x3d \x22View notifications\x22){\r\n\t\tvar brandType \x3d (function(){\r\n\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn bt_logoClass;\r\n\t\t})();\r\n\t\tvar bt_ProdType \x3d (function(){\r\n\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\treturn \x22B\x22;\r\n\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\t\treturn \x22S\x22;\r\n\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\t\treturn \x22M\x22;\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22R\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t\ts.linkTrackVars\x3d\x22eVar51,products,events,channel,prop52,prop66,eVar72,list2\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event34,event16\x22;\r\n\t\ts.channel\x3d\x22Product\x22;\r\n\t\ts.events\x3d\x22event34,event16\x22;\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Buy Block^ClickedTMWA\x22);\r\n\t\ts.eVar51\x3djQuery(\x22#stockNotificationContainer input[type\x3d\x27radio\x27]:checked\x22).length \x3e 0 ? jQuery(\x22#stockNotificationContainer input[type\x3d\x27radio\x27]:checked\x22).val().replace(\x22EMAIL\x22,\x22Email\x22) : jQuery(\x22#stockNotification input[type\x3d\x27radio\x27]:checked\x22).val().replace(\x22EMAIL\x22,\x22Email\x22);\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.products\x3dbt_data(\x27s.products\x27).split(\x27;\x27).slice(0,4).join(\x27;\x27);\r\n\t\ts.tl(true,\x27o\x27,\x27Tell Me When Available\x27);\r\n\t\ts.channel\x3d\x22\x22;\r\n\t\ts.events\x3d\x22\x22;\r\n\t}\r\n},1000);',{tagId:53582});
BrightTag.EventBinding.when('product - variation change').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_varChangeTimout \x3d (brandType \x3d\x3d \x22GRG\x22 ? 100 : 2100);\r\nsetTimeout(function(){\r\n\tvar bt_eVar22 \x3d \x22\x22;\r\n\tif(universal_variable.Product){\r\n\t\tvar bt_val \x3d jQuery(\x22#product_page_type\x22).length \x3e 0 ? jQuery(\x22#product_page_type\x22).val() : \x22\x22;\r\n\t\tif(bt_val.indexOf(\x22|\x22)\x3e-1 || bt_val \x3d\x3d \x22Product Variation\x22){\r\n\t\t\tif(brandType \x3d\x3d \x22GM\x22 || (universal_variable.Product[0] ? universal_variable.Product[0].Catalog : universal_variable.Product.Catalog) \x3d\x3d \x22GMCatalog\x22){\r\n\t\t\t\tbt_eVar22 \x3d \x22GM Product Variation\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar bt_naPrice \x3d (jQuery(\x22#productDetail,#productPrice .productPrice\x22).length \x3e 0 ? jQuery(\x22#productDetail .productPrice\x22)[0] : []);\r\n\tvar bt_noImage \x3d (jQuery(\x22#productImageSmall\x22).length \x3e 0 ? (jQuery(\x22#productImageSmall\x22).attr(\x22src\x22).indexOf(\x22no_image_available\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : (jQuery(\x22.productImageLink\x22).length \x3e 0 ? (jQuery(\x22.productImageLink\x22).attr(\x22href\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).length \x3e 0 ? (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 || jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22no_image_available\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : \x22\x22) : \x22\x22)) : (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).length \x3e 0 ? (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 || jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22no_image_available\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : \x22\x22) : \x22\x22))) : (jQuery(\x22.productImageLink\x22).length \x3e 0 ? (jQuery(\x22.productImageLink\x22).attr(\x22href\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).length \x3e 0 ? (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 || jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22no_image_available\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : \x22\x22) : \x22\x22)) : (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).length \x3e 0 ? (jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22image_comingsoon\x22)\x3e-1 || jQuery(\x22meta[property*\x3d\x27og:image\x27]\x22).attr(\x22content\x22).indexOf(\x22no_image_available\x22)\x3e-1 ? \x22|eVar7\x3d2\x22 : \x22\x22) : \x22\x22)));\r\n\tvar bt_noImageEve \x3d (bt_noImage !\x3d \x22\x22 ? \x22event7\x22 : \x22\x22);\r\n\tvar bt_products \x3d (function(){\r\n\t\tif(universal_variable.Product){\r\n\t\t\tif(brandType \x3d\x3d \x22GM\x22 || brandType \x3d\x3d \x22Wine\x22){\r\n\t\t\t\t// Direct\r\n\t\t\t\tif(jQuery(\x22table.chooseItemQty\x22).length \x3e 0){\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\tvar uniVar \x3d universal_variable.Product;\r\n\t\t\t\t\tvar newSKUItem \x3d eventObject.currentTarget.id;\r\n\t\t\t\t\tvar itemElement \x3d jQuery(\x22table.chooseItemQty tr .buy_option_item\x22);\r\n\t\t\t\t\tfor(i\x3d0; i \x3c uniVar.length; i++){\r\n\t\t\t\t\t\tif(jQuery(itemElement[i]).find(\x22select\x22).attr(\x22id\x22) \x3d\x3d newSKUItem){\r\n\t\t\t\t\t\t\tvar bt_pageCat \x3d (jQuery(\x22#navBreadcrumbs li p span a\x22).length \x3e 0 ? jQuery(\x22#navBreadcrumbs li p span a\x22).attr(\x22title\x22).replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22) : jQuery(\x22#navBreadcrumbs li h2 span a\x22)[1].title.replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22))\r\n\t\t\t\t\t\t\toutput.push(\x22;\x22 + (jQuery(itemElement[i]).find(\x22.productVariants\x22).length \x3e 0 ? jQuery(itemElement[i]).find(\x22input[name\x3d\x27pid\x27]\x22).val() : uniVar[i].id) + \x22;1;\x22 + uniVar[i].unit_sale_price\r\n\t\t\t\t\t\t\t\t+ (jQuery(itemElement[i]).find(\x22.productVariants\x22).length \x3e 0 ? (jQuery(itemElement[i]).find(\x22.unavailable\x22).length \x3e 0 ? \x22;event3\x3d1\x22 : \x22;event3\x3d0\x22) : ((uniVar[i].inStock) ? \x22;event3\x3d0\x22 : \x22;event3\x3d1\x22))\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (uniVar[i].id.length !\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))))) : ((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo ? \x22|event7\x3d1\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))))\r\n\t\t\t\t\t\t\t\t+ \x22;eVar47\x3d\x22 + ((uniVar[i].departmentNumber !\x3d null) ? uniVar[i].departmentNumber : \x22Z\x22)\r\n\t\t\t\t\t\t\t\t+ \x22|eVar6\x3d\x22 + ((((1-(Number(uniVar[i].unit_sale_price)/Number(uniVar[i].unit_price)))*100).toFixed(0)) \x3d\x3d 0 ? \x22z\x22 : (((1-(Number(uniVar[i].unit_sale_price)/Number(uniVar[i].unit_price)))*100).toFixed(0)))\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (uniVar[i].id.length !\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : bt_noImage)) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : bt_noImage)))) : (((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo ? \x22|eVar7\x3d5\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : bt_noImage)))) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22table.chooseItemQty .buy_option_item\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : bt_noImage)))))\r\n\t\t\t\t\t\t\t\t+ (jQuery(itemElement[i]).find(\x22.productVariants\x22).length \x3e 0 ? (jQuery(itemElement[i]).find(\x22.unavailable\x22).length \x3e 0 ? \x22|eVar13\x3d0\x22 : \x22|eVar13\x3d1\x22) :  \x22|eVar13\x3d\x22 + ((uniVar[i].inStock) ? \x221\x22 : \x220\x22))\r\n\t\t\t\t\t\t\t\t+ (Number(uniVar[i].AverageOverallRating).toFixed(1) ? \x22|eVar55\x3d\x22+Number(uniVar[i].AverageOverallRating).toFixed(1) : \x22|eVar55\x3dz\x22)\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].NumberOfReviews ? \x22|eVar56\x3d\x22+uniVar[i].NumberOfReviews : \x22|eVar56\x3dz\x22)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn output.join(\x22,\x22);\r\n\t\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\t\t\tvar stockStatus \x3d (jQuery(\x22.outOfStockLine\x22).length \x3d\x3d 0 || jQuery(\x22.stockOut\x22).length \x3d\x3d 0 ? \x221\x22 : \x220\x22);\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\tif(jQuery(\x22#squaretrade_resale_pp\x22).length \x3e 1){\r\n\t\t\t\t\t\toutput.push(jQuery(\x22#squaretrade_product_id\x22).attr(\x22name\x22).indexOf(\x22quantity\x22)\x3e-1 ? \x22,;\x22+jQuery(\x22#squaretrade_product_id\x22).attr(\x22name\x22).replace(/quantity-+|-quantity+/g,\x27\x27)+\x22;\x22 : \x22,;Warranty;\x22);\r\n\t\t\t\t\t\toutput.push(\x221;\x22);\r\n\t\t\t\t\t\toutput.push(jQuery(\x22#squaretrade_resale_pp span.price\x22).text().match(/\\d+.\\d+/).toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar bt_pageCat \x3d (jQuery(\x22#navBreadcrumbs li p span a\x22).length \x3e 0 ? jQuery(\x22#navBreadcrumbs li p span a\x22).attr(\x22title\x22).replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22) : jQuery(\x22#navBreadcrumbs li a\x22)[0].title.replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22));\r\n\t\t\t\t\toutput.push(\x22;\x22+jQuery(\x22#productDetail form\x22).attr(\x22id\x22).match(/\\d+/)[0]+\x22;\x22);\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).length \x3e 0 ? jQuery(\x22#Quantity\x22).val()+\x22;\x22 : \x221;\x22);\r\n\t\t\t\t\toutput.push((jQuery(\x22#productDetail span.newPrice\x22).length \x3e 0 ? (jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/) \x3d\x3d null ? \x22N/A\x22 : jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/)[0]) : (jQuery(\x22#productDetail span.productPrice\x22).text().match(/\\d+.\\d+/) \x3d\x3d null ? \x22N/A\x22 : jQuery(\x22#productDetail span.productPrice\x22).text().match(/\\d+.\\d+/)[0]))+\x22;\x22);\r\n\t\t\t\t\tif(jQuery(\x22div.price span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#buyOptionsContainer h4.promotionName\x22).length \x3e 0){\r\n\t\t\t\t\t\t\toutput.push(\x22event11\x3d\x22+jQuery(\x22#buyOptionsContainer h4.promotionName\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27).split(\x22%\x22)[0] + ((stockStatus \x3d\x3d \x221\x22) ? \x22|event3\x3d0\x22 : \x22|event3\x3d1\x22));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\toutput.push(((stockStatus \x3d\x3d \x221\x22) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\toutput.push(((stockStatus \x3d\x3d \x221\x22) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar ev55 \x3d \x22\x22, ev56 \x3d \x22\x22;\r\n\t\t\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\t\t\tev55 \x3d \x22|eVar55\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).length \x3e 0 ? Number(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).attr(\x22content\x22)).toFixed(1) : \x22z\x22);\r\n\t\t\t\t\t\tev56 \x3d \x22|eVar56\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).length \x3e 0 ? jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).attr(\x22content\x22) : \x22z\x22);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(universal_variable.Product.departmentNumber || universal_variable.Product.departmentNumber \x3d\x3d null){\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product.departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product.departmentNumber);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product[0].departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product[0].departmentNumber);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif((jQuery(\x22#productDetail span.productPrice\x22).length \x3e 0 \x26\x26 jQuery(\x22#productDetail span.productPrice\x22).text().match(/\\d+.\\d+/) \x3d\x3d null)\x26\x26(jQuery(\x22#productDetail span.newPrice\x22).length \x3e 0 \x26\x26 jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/) \x3d\x3d null)){\r\n\t\t\t\t\t\toutput.push(\x22|event7\x3d1\x22\r\n\t\t\t\t\t\t\t+ \x22;eVar6\x3dz\x22\r\n\t\t\t\t\t\t\t+ \x22|eVar7\x3d1\x22\r\n\t\t\t\t\t\t\t+ \x22|eVar47\x3d\x22 + opDept\r\n\t\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + stockStatus\r\n\t\t\t\t\t\t\t+ (Number(universal_variable.Product.AverageOverallRating).toFixed(1) \x26\x26 ev55 \x3d\x3d \x22\x22 ? \x22|eVar55\x3d\x22+Number(universal_variable.Product.AverageOverallRating).toFixed(1) : ev55)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.NumberOfReviews \x26\x26 ev56 \x3d\x3d \x22\x22 ? \x22|eVar56\x3d\x22+universal_variable.Product.NumberOfReviews : ev56)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\toutput.push((universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? ((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : ((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))))\r\n\t\t\t\t\t\t\t+ \x22;eVar6\x3d\x22+(jQuery(\x22#productDetail span.newPrice\x22).length \x3e 0 ? ((((1-(Number(jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(\x22#productDetail span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) \x3d\x3d 0 ? \x22z\x22 : (((1-(Number(jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(\x22#productDetail span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0))) : \x22z\x22)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? ((jQuery(\x22#productDetail span.newPrice\x22).length \x3e 0 ? jQuery(\x22#productDetail span.newPrice\x22).text() : jQuery(\x22#productDetail span.productPrice\x22).text()).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d8\x22 : bt_noImage)) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d8\x22 : bt_noImage))) : ((jQuery(\x22#productDetail span.newPrice\x22).length \x3e 0 ? jQuery(\x22#productDetail span.newPrice\x22).text().match(/\\d+.\\d+/)[0]+\x22;\x22 : jQuery(\x22#productDetail span.productPrice\x22).text().match(/\\d+.\\d+/)[0]).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d8\x22 : bt_noImage)))) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : (jQuery(\x22.variationSelectLine .jNiceSelectText\x22).text() \x3d\x3d \x22\x22 \x26\x26 jQuery(\x22.variationSelectLine .jNiceSelectText\x22).length \x3e 0 \x26\x26 jQuery(\x22#colourswatches option\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d8\x22 : bt_noImage))))\r\n\t\t\t\t\t\t\t+ \x22|eVar47\x3d\x22 + opDept\r\n\t\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + stockStatus\r\n\t\t\t\t\t\t\t+ (Number(universal_variable.Product.AverageOverallRating).toFixed(1) \x26\x26 ev55 \x3d\x3d \x22\x22 ? \x22|eVar55\x3d\x22+Number(universal_variable.Product.AverageOverallRating).toFixed(1) : ev55)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.NumberOfReviews \x26\x26 ev56 \x3d\x3d \x22\x22 ? \x22|eVar56\x3d\x22+universal_variable.Product.NumberOfReviews : ev56)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn output.join(\x22\x22);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar stockStatus \x3d (universal_variable.Product.inStock \x3d\x3d true ? \x221\x22 : \x220\x22);\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\tif(jQuery(\x22#squaretrade_resale_pp\x22).length \x3e 1){\r\n\t\t\t\t\t\toutput.push(jQuery(\x22#squaretrade_product_id\x22).attr(\x22name\x22).indexOf(\x22quantity\x22)\x3e-1 ? \x22,;\x22+jQuery(\x22#squaretrade_product_id\x22).attr(\x22name\x22).replace(/quantity-+|-quantity+/g,\x27\x27)+\x22;\x22 : \x22,;Warranty;\x22);\r\n\t\t\t\t\t\toutput.push(\x221;\x22);\r\n\t\t\t\t\t\toutput.push(jQuery(\x22#squaretrade_resale_pp span.price\x22).text().match(/\\d+.\\d+/).toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar bt_pageCat \x3d (jQuery(\x22#navBreadcrumbs li p span a\x22).length \x3e 0 ? jQuery(\x22#navBreadcrumbs li p span a\x22).attr(\x22title\x22).replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22) : jQuery(\x22#navBreadcrumbs li h2 span a\x22)[1].title.replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22));\r\n\t\t\t\t\toutput.push(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? \x22;\x22+jQuery(\x22#current_product_code_string\x22).val()+\x22;\x22 : \x22;\x22+universal_variable.Product.id+\x22;\x22);\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val()+\x22;\x22 : \x221;\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price+\x22;\x22);\r\n\t\t\t\t\tif(jQuery(\x22div.price span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#buyOptionsContainer h4.promotionName\x22).length \x3e 0){\r\n\t\t\t\t\t\t\toutput.push(\x22event11\x3d\x22+jQuery(\x22#buyOptionsContainer h4.promotionName\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27).split(\x22%\x22)[0] + ((stockStatus \x3d\x3d \x221\x22) ? \x22|event3\x3d0\x22 : \x22|event3\x3d1\x22));\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\toutput.push(((stockStatus \x3d\x3d \x221\x22) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\toutput.push(((stockStatus \x3d\x3d \x221\x22) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar ev55 \x3d \x22\x22, ev56 \x3d \x22\x22;\r\n\t\t\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\t\t\tev55 \x3d \x22|eVar55\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).length \x3e 0 ? Number(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).attr(\x22content\x22)).toFixed(1) : \x22z\x22);\r\n\t\t\t\t\t\tev56 \x3d \x22|eVar56\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).length \x3e 0 ? jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).attr(\x22content\x22) : \x22z\x22);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(universal_variable.Product.departmentNumber || universal_variable.Product.departmentNumber \x3d\x3d null){\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product.departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product.departmentNumber);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product[0].departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product[0].departmentNumber);\r\n\t\t\t\t\t}\r\n\t\t\t\t\toutput.push((universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : ((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (bt_noImageEve \x3d\x3d \x22event7\x22 ? \x22|event7\x3d1\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))))\r\n\t\t\t\t\t\t+ \x22;eVar47\x3d\x22 + opDept\r\n\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + stockStatus\r\n\t\t\t\t\t\t+ \x22|eVar6\x3d\x22 + ((((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)) \x3d\x3d 0 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22 ? \x22z\x22 : (((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)))\r\n\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? ((jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#current_product_code_string\x22).val() : universal_variable.Product.id).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : bt_noImage) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : bt_noImage)) : ((jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#current_product_code_string\x22).val() : universal_variable.Product.id).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : bt_noImage))) : (bt_pageCat \x3d\x3d \x22Checks\x22 ? \x22|eVar7\x3d7\x22 : bt_noImage)))\r\n\t\t\t\t\t\t+ (Number(universal_variable.Product.AverageOverallRating).toFixed(1) \x26\x26 ev55 \x3d\x3d \x22\x22 ? \x22|eVar55\x3d\x22+Number(universal_variable.Product.AverageOverallRating).toFixed(1) : ev55)\r\n\t\t\t\t\t\t+ (universal_variable.Product.NumberOfReviews \x26\x26 ev56 \x3d\x3d \x22\x22 ? \x22|eVar56\x3d\x22+universal_variable.Product.NumberOfReviews : ev56)\r\n\t\t\t\t\t);\r\n\t\t\t\t\treturn output.join(\x22\x22);\r\n\t\t\t\t}\r\n\t\t\t}else if(brandType \x3d\x3d \x22GRG\x22){\r\n\t\t\t\t// George\r\n\t\t\t\tif(jQuery(\x22#buyOptions\x22).length \x3e 0){\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\tvar uniVar \x3d universal_variable.Product;\r\n\t\t\t\t\tfor(i\x3d0; i \x3c uniVar.length; i++){\r\n\t\t\t\t\t\tif(uniVar[i].online){\r\n\t\t\t\t\t\t\toutput.push(\x22;\x22 + uniVar[i].id + \x22;1;\x22\r\n\t\t\t\t\t\t\t\t+ uniVar[i].unit_sale_price\r\n\t\t\t\t\t\t\t\t+ ((uniVar[i].inStock) ? \x22;event3\x3d0\x22 : \x22;event3\x3d1\x22)\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (uniVar[i].id.length !\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 uniVar[i].id.length \x3d\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 uniVar[i].id.length \x3d\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo ? \x22|event7\x3d1\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))) : \x22|event7\x3d0\x22)))\r\n\t\t\t\t\t\t\t\t+ \x22;eVar6\x3d\x22 + ((((1-(Number(uniVar[i].unit_sale_price)/Number(uniVar[i].unit_price)))*100).toFixed(0)) \x3d\x3d 0 ? \x22z\x22 : (((1-(Number(uniVar[i].unit_sale_price)/Number(uniVar[i].unit_price)))*100).toFixed(0)))\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (uniVar[i].id.length !\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 uniVar[i].id.length \x3d\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d5\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 uniVar[i].id.length \x3d\x3d 9 \x26\x26 uniVar[i].id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)))) : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage))) : ((uniVar[i].unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!uniVar[i].ShippingInfo ? \x22|eVar7\x3d5\x22 : (!uniVar[i].departmentNumber \x26\x26 uniVar[i].id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27]\x22).length \x3c 2 ? \x22|eVar7\x3d9\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)))) : bt_noImage))\r\n\t\t\t\t\t\t\t\t+ \x22|eVar47\x3d\x22 + ((uniVar[i].departmentNumber !\x3d null) ? uniVar[i].departmentNumber : \x22Z\x22)\r\n\t\t\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + ((uniVar[i].inStock) ? \x221\x22 : \x220\x22)\r\n\t\t\t\t\t\t\t\t+ (Number(uniVar[i].AverageOverallRating).toFixed(1) ? \x22|eVar55\x3d\x22+Number(uniVar[i].AverageOverallRating).toFixed(1) : \x22|eVar55\x3dz\x22)\r\n\t\t\t\t\t\t\t\t+ (uniVar[i].NumberOfReviews ? \x22|eVar56\x3d\x22+uniVar[i].NumberOfReviews : \x22|eVar56\x3dz\x22)\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn output.join(\x22,\x22);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\toutput.push(\x22;\x22+(this.variant.id));\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val() : \x221\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price);\r\n\t\t\t\t\tvar ev55 \x3d \x22\x22, ev56 \x3d \x22\x22;\r\n\t\t\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product\x22 || jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\t\t\tev55 \x3d \x22|eVar55\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).length \x3e 0 ? Number(jQuery(\x22meta[itemprop\x3d\x27ratingValue\x27]\x22).attr(\x22content\x22)).toFixed(1) : \x22z\x22);\r\n\t\t\t\t\t\tev56 \x3d \x22|eVar56\x3d\x22+(jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).length \x3e 0 ? jQuery(\x22meta[itemprop\x3d\x27reviewCount\x27]\x22).attr(\x22content\x22) : \x22z\x22);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(universal_variable.Product.departmentNumber || universal_variable.Product.departmentNumber \x3d\x3d null){\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product.departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product.departmentNumber);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tvar opDept \x3d (universal_variable.Product[0].departmentNumber \x3d\x3d null ? \x22Z\x22 : universal_variable.Product[0].departmentNumber);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(jQuery(\x22#productPrice span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\t\t\toutput.push(((this.variant.inStock) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)) : ((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))\r\n\t\t\t\t\t\t\t+ \x22;eVar47\x3d\x22 + opDept\r\n\t\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + ((this.variant ? this.variant.inStock : universal_variable.Product.inStock) ? \x221\x22 : \x220\x22)\r\n\t\t\t\t\t\t\t+ \x22|eVar6\x3d\x22 + ((((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)) \x3d\x3d 0 ? \x22z\x22 : (((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)))\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)) : ((jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#current_product_code_string\x22).val() : universal_variable.Product.id).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)))\r\n\t\t\t\t\t\t\t+ (Number(universal_variable.Product.AverageOverallRating).toFixed(1) \x26\x26 ev55 \x3d\x3d \x22\x22 ? \x22|eVar55\x3d\x22+Number(universal_variable.Product.AverageOverallRating).toFixed(1) : ev55)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.NumberOfReviews \x26\x26 ev56 \x3d\x3d \x22\x22 ? \x22|eVar56\x3d\x22+universal_variable.Product.NumberOfReviews : ev56)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\toutput.push(((this.variant ? this.variant.inStock : universal_variable.Product.inStock) ? \x22event3\x3d0\x22 : \x22event3\x3d1\x22)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)) : ((universal_variable.Product.unit_sale_price).indexOf(\x22N/A\x22)\x3e-1) ? \x22|event7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|event7\x3d1\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|event7\x3d1\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|event7\x3d1\x22 : \x22|event7\x3d0\x22)))\r\n\t\t\t\t\t\t\t+ \x22;eVar47\x3d\x22 + opDept\r\n\t\t\t\t\t\t\t+ \x22|eVar13\x3d\x22 + ((this.variant ? this.variant.inStock : universal_variable.Product.inStock) ? \x221\x22 : \x220\x22)\r\n\t\t\t\t\t\t\t+ \x22|eVar6\x3d\x22 + ((((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)) \x3d\x3d 0 ? \x22z\x22 : (((1-(Number(universal_variable.Product.unit_sale_price)/Number(universal_variable.Product.unit_price)))*100).toFixed(0)))\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 || (universal_variable.Product.id.length !\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1) ? (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 \x26\x26 universal_variable.Product.id.length \x3d\x3d 9 \x26\x26 universal_variable.Product.id.indexOf(\x22G\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)) : ((jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#current_product_code_string\x22).val() : universal_variable.Product.id).indexOf(\x22N/A\x22)\x3e-1) || (jQuery(bt_naPrice).length \x3e 0 ? jQuery(bt_naPrice).text().indexOf(\x22N/A\x22)\x3e-1 : false) ? \x22|eVar7\x3d1\x22 : (bt_noImage \x3d\x3d \x22\x22 ? (!universal_variable.Product.ShippingInfo ? \x22|eVar7\x3d5\x22 : (!universal_variable.Product.departmentNumber \x26\x26 universal_variable.Product.id.indexOf(\x22BUN\x22)\x3d\x3d-1 ? \x22|eVar7\x3d6\x22 : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage))) : (jQuery(\x22.georgePromo\x22).length \x3e 0 \x26\x26 jQuery(\x22.georgePromo .callOut\x22).length \x3d\x3d 0 ? \x22|eVar7\x3d10\x22 : bt_noImage)))\r\n\t\t\t\t\t\t\t+ (Number(universal_variable.Product.AverageOverallRating).toFixed(1) \x26\x26 ev55 \x3d\x3d \x22\x22 ? \x22|eVar55\x3d\x22+Number(universal_variable.Product.AverageOverallRating).toFixed(1) : ev55)\r\n\t\t\t\t\t\t\t+ (universal_variable.Product.NumberOfReviews \x26\x26 ev56 \x3d\x3d \x22\x22 ? \x22|eVar56\x3d\x22+universal_variable.Product.NumberOfReviews : ev56)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn output.join(\x22;\x22);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar bt_eVar7Val \x3d (jQuery(\x22#productView,#productDetail .productPrice\x22).text().indexOf(\x22N/A\x22)\x3e-1 ? \x221\x22 : (jQuery(\x22#navBreadcrumbs\x22).length \x3e 0 ? \x224\x22 : \x223\x22));\r\n\t\t\treturn \x22;\x22+(location.pathname.match(/\\/([A-Z]|[a-z]|\\d)+,/)[0].replace(\x22/\x22,\x22\x22).replace(\x22,\x22,\x22\x22))+\x22;1;N/A;event7\x3d1;eVar7\x3d\x22+bt_eVar7Val;\r\n\t\t}\r\n\t})();\r\n\tif(bt_eVar22 \x3d\x3d \x22GM Product Variation\x22){\r\n\t\ts.eVar12\x3d\x22\x22;\r\n\t\ts.eVar15\x3d\x22\x22;\r\n\t\ts.eVar28\x3d\x22\x22;\r\n\t\ts.eVar68\x3d\x22\x22;\r\n\t\ts.eVar22\x3d\x22PV\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.list2\x3d(brandType+\x22^PP^M^I^Others^ClickedVariant^Option\x22);\r\n\t\ts.products\x3dbt_products;\r\n\t\ts.events\x3d\x22prodView,event3,event6,event7,event47\x22;\r\n\t\ts.t();\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}else{\r\n\t\tvar prodType \x3d (function(){\r\n\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\treturn \x22B\x22;\r\n\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\t\treturn \x22S\x22;\r\n\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\t\treturn \x22M\x22;\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22R\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t\tvar bt_variantOptionChosen \x3d (function(){\r\n\t\t\tvar bt_val \x3d jQuery(eventObject.currentTarget).attr(\x22id\x22);\r\n\t\t\tif(bt_val.indexOf(\x22quantity\x22)\x3e-1){\r\n\t\t\t\treturn \x22Quantity\x22;\r\n\t\t\t}else{\r\n\t\t\t\treturn (bt_val.charAt(0).toUpperCase()+bt_val.slice(1));\r\n\t\t\t}\r\n\t\t})();\r\n\t\ts.eVar12\x3d\x22\x22;\r\n\t\ts.eVar15\x3d\x22\x22;\r\n\t\ts.eVar28\x3d\x22\x22;\r\n\t\ts.eVar68\x3d\x22\x22;\r\n\t\ts.eVar22\x3d\x22PV\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Others^ClickedVariant^\x22+bt_variantOptionChosen);\r\n\t\ts.products\x3dbt_products;\r\n\t\ts.events\x3d\x22prodView,event3,event6,event7,event47\x22;\r\n\t\ts.t();\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}\r\n},bt_varChangeTimout);',{tagId:53582});
BrightTag.EventBinding.when('product - rich content').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_richMediaType \x3d (function(){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22largerImageButtonSmall\x22 || jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22fullscreen\x22){\r\n\t\treturn \x22RichMediaFullScreen\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22video\x22){\r\n\t\treturn \x22Video\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22)){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22thumbnail\x22)\x3e-1){\r\n\t\t\tif(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x22pr\x22)\x3e-1){\r\n\t\t\t\treturn \x22MainImage\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x221\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageOne\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x222\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageTwo\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x223\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageThree\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x224\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageFour\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x225\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageFive\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x226\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageSix\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x227\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageSeven\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#imageSlideInner\x22)){\r\n\t\treturn \x22RichMediaAlternateImages\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22src\x22)){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22src\x22).indexOf(\x22googlebooks\x22)\x3e-1){\r\n\t\t\treturn \x22RichMediaBookPreview\x22;\r\n\t\t}\r\n\t}\r\n})();\r\nvar bt_prodContent;\r\nif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^B^I^RichMedia^\x22+bt_richMediaType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^S^I^RichMedia^\x22+bt_richMediaType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^M^I^RichMedia^\x22+bt_richMediaType;\r\n}else{\r\n\tbt_prodContent \x3d brandType+\x22^PP^R^I^RichMedia^\x22+bt_richMediaType;\r\n}\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3dbt_prodContent;\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('footer navigation').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22D\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22D\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar websiteType \x3d (function(){\r\n\tvar domain \x3d location.hostname;\r\n\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\treturn \x22D\x22;\r\n\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\treturn \x22M\x22;\r\n\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\treturn \x22T\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d(\x22channel,prop3,prop45,prop52,prop66,eVar72\x22);\r\nif(websiteType \x3d\x3d \x22M\x22){\r\n\tif(jQuery(eventObject.currentTarget).find(\x22img\x22).length \x3e 0){\r\n\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^\x22 + (jQuery(eventObject.currentTarget).parents(\x22.followUs\x22).length \x3e 0 ? \x22Follow Us On^\x22 : \x22\x22) + jQuery(eventObject.currentTarget).find(\x22img\x22).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27));\t\r\n\t}else{\r\n\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^\x22 + jQuery(eventObject.currentTarget).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t}\r\n}else{\r\n\tif(jQuery(eventObject.currentTarget).parents(\x22#quickLinks\x22).length \x3e 0){\r\n\t\tif(jQuery(eventObject.currentTarget).find(\x22img\x22).length \x3e 0){\r\n\t\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^Follow Us On^\x22 + jQuery(eventObject.currentTarget).find(\x22img\x22).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t}else{\r\n\t\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^\x22 + jQuery(eventObject.currentTarget).parents(\x22div.quickLinksSubSection\x22).find(\x22h4\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) + \x22^\x22 + (jQuery(eventObject.currentTarget).text() !\x3d \x22\x22 ? jQuery(eventObject.currentTarget).text().replace(/^\\s+|\\s+$/g,\x27\x27) : \x22Sign Up\x22));\r\n\t\t}\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#qllinkswrapper\x22).length \x3e 0){\r\n\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^\x22 + (jQuery(eventObject.currentTarget).parents(\x22div.qllinksbox\x22).find(\x22h3\x22).text() !\x3d \x22\x22 ? jQuery(eventObject.currentTarget).parents(\x22div.qllinksbox\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) : jQuery(eventObject.currentTarget).parents(\x22div.qllinksbox\x22).prev().find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27)) + \x22^\x22 + (jQuery(eventObject.currentTarget).text() !\x3d \x22\x22 ? jQuery(eventObject.currentTarget).text().replace(/^\\s+|\\s+$/g,\x27\x27) : \x22Sign Up\x22));\r\n\t}else{\r\n\t\tif(jQuery(eventObject.currentTarget).parents(\x22#footerContainer\x22).length \x3e 0){\r\n\t\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^\x22 + (jQuery(eventObject.currentTarget).text() !\x3d \x22\x22 ? jQuery(eventObject.currentTarget).text().replace(/^\\s+|\\s+$/g,\x27\x27) : \x22Go to mobile version logo\x22));\r\n\t\t}else{\r\n\t\t\ts.prop3\x3d(websiteType + \x22^\x22 + brandType + \x22^F^Mini Direct Menu^\x22 + (jQuery(eventObject.currentTarget).text() !\x3d \x22\x22 ? jQuery(eventObject.currentTarget).text().replace(/^\\s+|\\s+$/g,\x27\x27) : \x22Direct Home\x22));\r\n\t\t}\r\n\t}\r\n}\r\ns.prop45\x3d\x22D\x3dc3\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.tl(true,\x27o\x27,\x27Footer Navigation\x27);',{tagId:53582});
BrightTag.EventBinding.when('product - rich media').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_richMediaType \x3d (function(){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22largerImageButtonSmall\x22 || jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22fullscreen\x22){\r\n\t\treturn \x22RichMediaFullScreen\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22video\x22){\r\n\t\treturn \x22Video\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22)){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22thumbnail\x22)\x3e-1){\r\n\t\t\tif(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x22pr\x22)\x3e-1){\r\n\t\t\t\treturn \x22MainImage\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x221\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageOne\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x222\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageTwo\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x223\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageThree\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x224\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageFour\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x225\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageFive\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x226\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageSix\x22;\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22).indexOf(\x227\x22)\x3e-1){\r\n\t\t\t\treturn \x22AltImageSeven\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#imageSlideInner\x22)){\r\n\t\treturn \x22RichMediaAlternateImages\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22src\x22)){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22src\x22).indexOf(\x22googlebooks\x22)\x3e-1){\r\n\t\t\treturn \x22RichMediaBookPreview\x22;\r\n\t\t}\r\n\t}\r\n})();\r\nvar bt_prodContent;\r\nif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^B^I^RichMedia^\x22+bt_richMediaType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^S^I^RichMedia^\x22+bt_richMediaType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^M^I^RichMedia^\x22+bt_richMediaType;\r\n}else{\r\n\tbt_prodContent \x3d brandType+\x22^PP^R^I^RichMedia^\x22+bt_richMediaType;\r\n}\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3dbt_prodContent;\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('level 6 navigation').execute('var bt_websiteType \x3d (function(){\r\n\tvar domain \x3d location.hostname;\r\n\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\treturn \x22D\x22;\r\n\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\treturn \x22M\x22;\r\n\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\treturn \x22T\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22channel,events,prop45,prop52,prop64,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x22event60\x22;\r\ns.events\x3d\x22event60\x22;\r\ns.prop45\x3d(bt_websiteType+\x22^G^L6GN^\x22+jQuery(\x22h1\x22).text().replace(\x22 \x26 \x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+jQuery(eventObject.target).attr(\x22title\x22).replace(\x22\x26\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27));\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.prop64\x3d(jQuery(\x22h1\x22).text().replace(\x22\x26\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+jQuery(eventObject.target).attr(\x22title\x22).replace(\x22 \x26 \x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27));\r\ns.tl(true,\x27o\x27,\x27Level 6 Navigation\x27);',{tagId:53582});
BrightTag.EventBinding.when('product - bundle offers').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^BundleOffers^\x22+(bt_data(\x27input or a\x27) \x3d\x3d \x22Input\x22 ? \x22AddToBasketBundleOffersProduct\x22 : (jQuery(eventObject.currentTarget).parents(\x22.bundleline\x22).length \x3e 0 ? \x22ClickedBundleOffersProductPart\x22 : \x22ClickedBundleOffersProduct\x22)));\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('product - reviews').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_ProdType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\nvar bt_exRevPresent \x3d (function(){\r\n\tvar bt_arr \x3d [];\r\n\tif(jQuery(\x22#testfreaks-badge\x22).length \x3e 0){\r\n\t\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22)){\r\n\t\t\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22tfb-\x22)\x3e-1){\r\n\t\t\t\tbt_arr.push(\x22,eVar41\x22);\r\n\t\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22title\x22) !\x3d \x22Write a review\x22){\r\n\t\t\t\tbt_arr.push(\x22,eVar54\x22);\r\n\t\t\t}\r\n\t\t}else if(jQuery(eventObject.currentTarget).attr(\x22title\x22) !\x3d \x22Write a review\x22){\r\n\t\t\tbt_arr.push(\x22,eVar54\x22);\r\n\t\t}\r\n\t}\r\n\telse if(jQuery(eventObject.currentTarget).attr(\x22title\x22) !\x3d \x22Write a review\x22){\r\n\t\tbt_arr.push(\x22,eVar54\x22);\r\n\t}\r\n\tif(bt_arr.length \x3e 0){\r\n\t\treturn bt_arr.join(\x22\x22);\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d(\x22products,channel,list2,events,prop52,eVar72\x22+bt_exRevPresent);\r\nif(jQuery(eventObject.currentTarget).attr(\x22class\x22)){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22tfb-\x22)\x3e-1){\r\n\t\ts.linkTrackEvents\x3d\x27event6,event16,prop66\x27;\r\n\t\ts.events\x3d\x22event6,event16\x22;\r\n\t}\r\n}else if(jQuery(eventObject.currentTarget).attr(\x22title\x22) !\x3d \x22Write a review\x22){\r\n\ts.linkTrackEvents\x3d\x27event16,event47,prop66\x27;\r\n\ts.events\x3d\x22event16,event47\x22;\r\n\ts.eVar54\x3d\x22C\x22;\r\n}else{\r\n\ts.linkTrackEvents\x3d\x27event16,prop66\x27;\r\n\ts.events\x3d\x22event16\x22;\r\n}\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\nif(jQuery(eventObject.currentTarget).attr(\x22class\x22)){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22).indexOf(\x22tfb-\x22)\x3e-1){\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Ratings\x26Reviews^ClickedExpertReviews\x22);\r\n\t\ts.eVar41\x3d\x22C\x22;\r\n\t}\r\n}else{\r\n\ts.list2\x3d(jQuery(eventObject.currentTarget).attr(\x22title\x22) \x3d\x3d \x22Write a review\x22 ? (brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Ratings\x26Reviews^ClickedWriteAReview\x22) : (brandType+\x22^PP^\x22+bt_ProdType+\x22^I^Ratings\x26Reviews^ClickedViewReviews\x22));\r\n}\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;\r\ns.eVar41\x3d\x22\x22;\r\ns.eVar54\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('submit promotional code').execute('if(bt_data(\x27event trigger\x27) !\x3d \x22Invalid\x22){\r\n\tdocument.cookie \x3d \x22bt_couponCode\x3d\x22+jQuery(\x22#dwfrm_cart_couponCode\x22).val()+\x22; path\x3d/;\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - category expand/collapse').execute('setTimeout(function(){\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\tif(jQuery(eventObject.target).find(\x22.closed\x22).length \x3e 0){\r\n\t\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\t\ts.events\x3d\x22event16\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^LeftNav^\x22+(jQuery(eventObject.target).text().replace(\x22[+]\x22,\x22\x22).replace(\x22[-]\x22,\x22\x22))+\x22^Collapse\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}else{\r\n\t\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\n\t\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\t\ts.events\x3d\x22event16\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^LeftNav^\x22+(jQuery(eventObject.target).text().replace(\x22[-]\x22,\x22\x22).replace(\x22[+]\x22,\x22\x22))+\x22^Expand\x22);\r\n\t\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\t\ts.list2\x3d\x22\x22;\r\n\t}\r\n},300);',{tagId:53582});
BrightTag.EventBinding.when('product listing position').execute('var bt_selectionCode \x3d (function(){\r\n\tvar bt_items \x3d jQuery(\x22a.viewProductLink\x22), bt_currItem \x3d jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22a.viewProductLink\x22).attr(\x22href\x22), bt_currItemCode \x3d 1;\r\n\tfor(var k\x3d0; k\x3cbt_items.length; k++){\r\n\t\tif(bt_items[k].getAttribute(\x22href\x22) \x3d\x3d bt_currItem){\r\n\t\t\tbt_currItemCode \x3d bt_currItemCode+k;\r\n\t\t}\r\n\t}\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22href\x22) \x3d\x3d undefined){\r\n\t\treturn \x22ATB^\x22+bt_currItemCode;\r\n\t}else{\r\n\t\treturn \x22PV^\x22+bt_currItemCode;\r\n\t}\r\n})();\r\nvar bt_productSelected \x3d (function(){\r\n\treturn \x22;\x22+jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22a.viewProductLink\x22).attr(\x22href\x22).match(/\\/[A-Z]{1}[0-9]+|[0-9]+,/)[0].replace(\x22/\x22,\x22\x22).replace(\x22,\x22,\x22\x22)+\x22;1;\x22+Number(jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22.productPrice .newPrice,.pounds\x22).text().replace(\x22\xa3\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)).toFixed(2);\r\n})();\r\nvar bt_eventVal \x3d (function(){\r\n\tif(s.channel \x3d\x3d \x22Search\x22 || s.channel \x3d\x3d \x22Category\x22 || s.channel \x3d\x3d \x22Product Listing\x22 || s.channel \x3d\x3d \x22PMID\x22){\r\n\t\treturn \x22event,\x22;\r\n\t}\r\n})();\r\ns.linkTrackVars\x3d\x22pageName,\x22+bt_eventVal+\x22products,channel,prop1,prop29,prop40,prop41,prop52,prop66,prop68,eVar10,eVar72\x22;\r\nif(s.channel \x3d\x3d \x22Search\x22){\r\n\ts.linkTrackEvents\x3d\x22event68\x22;\r\n\ts.events\x3d\x22event68\x22;\r\n}else if(s.channel \x3d\x3d \x22Category\x22 || s.channel \x3d\x3d \x22PMID\x22 || s.channel \x3d\x3d \x22Product Listing\x22){\r\n\ts.linkTrackEvents\x3d\x22event69\x22;\r\n\ts.events\x3d\x22event69\x22;\r\n}\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3dbt_productSelected;\r\ns.prop1\x3dbt_productSelected.split(\x22;\x22)[1];\r\ns.prop40\x3dbt_selectionCode;\r\ns.prop41\x3ds.prop28;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.tl(true,\x27o\x27,\x27Product Listing Position\x27);',{tagId:53582});
BrightTag.EventBinding.when('product - recommendation viewed').execute('setTimeout(function(){\r\n\tvar prop26Val \x3d \x22\x22;\r\n\tvar list2Val \x3d \x22\x22;\r\n\tif(bt_data(\x27s.prop26\x27) \x3d\x3d \x22HomePage\x22){\r\n\t\tprop26Val \x3d (function(){\r\n\t\t\tif(jQuery(\x22#homepagePaSlotTop\x22).length \x3e 0 || jQuery(\x22#homepagePaSlotBottom\x22).length \x3e 0){\r\n\t\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\t\tvar bt_Recommendations \x3d [];\r\n\t\t\t\tif(brandType \x3d\x3d \x22GM\x22 || brandType \x3d\x3d \x22Wine\x22){\r\n\t\t\t\t\tbt_Recommendations.push(brandType+\x22^H^\x22+(jQuery(\x22#homepagePaSlotTop .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotTop .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Top_Slot\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotTop .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotTop .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotTop li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#homepagePaSlotTop li form\x22).length));\r\n\t\t\t\t}\r\n\t\t\t\tbt_Recommendations.push(brandType+\x22^H^\x22+(jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotBottom li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#homepagePaSlotBottom li form\x22).length));\r\n\t\t\t\treturn bt_Recommendations.join(\x22|\x22);\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t}else if(bt_data(\x27s.prop26\x27) \x3d\x3d \x22Search\x22){\r\n\t\tprop26Val \x3d (function(){\r\n\t\t\tif(jQuery(\x22#notfoundpageIoBottomPageSet\x22).length \x3e 0){\r\n\t\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\t\tvar bt_Recommendations \x3d [];\r\n\t\t\t\tbt_Recommendations.push(brandType+\x22^S^\x22+(jQuery(\x22#notfoundpageIoBottomPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#notfoundpageIoBottomPageSet .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Botton_Slot\x22)+\x22^\x22+(jQuery(\x22#notfoundpageIoBottomPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#notfoundpageIoBottomPageSet .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#notfoundpageIoSlotBottom li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#notfoundpageIoSlotBottom li form\x22).length));\r\n\t\t\t\treturn bt_Recommendations.join(\x22|\x22);\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t}else if(bt_data(\x27s.prop26\x27) \x3d\x3d \x22Category\x22){\r\n\t\tprop26Val \x3d (function(){\r\n\t\t\tif(jQuery(\x22#categoryIoSlotBottom\x22).length \x3e 0 || jQuery(\x22#homepagePaSlotBottom\x22).length \x3e 0){\r\n\t\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\t\tvar bt_Recommendations \x3d [];\r\n\t\t\t\tif(brandType \x3d\x3d \x22GM\x22 || brandType \x3d\x3d \x22Wine\x22){\r\n\t\t\t\t\tbt_Recommendations.push(brandType+\x22^C^\x22+(jQuery(\x22#categoryIoSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#categoryIoSlotBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#categoryIoSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#categoryIoSlotBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#categoryIoSlotBottom li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#categoryIoSlotBottom li form\x22).length));\r\n\t\t\t\t}else{\r\n\t\t\t\t\tbt_Recommendations.push(brandType+\x22^C^\x22+(jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#homepagePaSlotBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#homepagePaSlotBottom li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#homepagePaSlotBottom li form\x22).length));\r\n\t\t\t\t}\r\n\t\t\t\treturn bt_Recommendations.join(\x22|\x22);\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t}else if(bt_data(\x27s.prop26\x27) \x3d\x3d \x22Basket\x22){\r\n\t\tprop26Val \x3d (function(){\r\n\t\t\tif(jQuery(\x22#verticalIoButtonWrapper\x22).length \x3e 0){\r\n\t\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\t\tvar bt_Recommendations \x3d [];\r\n\t\t\t\tbt_Recommendations.push(brandType+\x22^B^\x22+(jQuery(\x22#verticalIoButtonWrapper .viewProductLink\x22).text().length \x3e 0 ? jQuery(\x22#verticalIoButtonWrapper .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Right_Slot\x22)+\x22^\x22+(jQuery(\x22#verticalIoButtonWrapper .viewProductLink\x22).text().length \x3e 0 ? jQuery(\x22#verticalIoButtonWrapper .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#verticalIoButtonWrapper li form\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#verticalIoButtonWrapper li form\x22).length));\r\n\t\t\t\treturn bt_Recommendations.join(\x22|\x22);\r\n\t\t\t}else{\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t})();\r\n\t}else if(bt_data(\x27s.prop26\x27) \x3d\x3d \x22Product\x22){\r\n\t\tprop26Val \x3d (function(){\r\n\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\tvar bt_Recommendations \x3d [];\r\n\t\t\tif(jQuery(\x22#underBuyNowRecommendBottom\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22BuyNow_Slot\x22)+\x22^\x22+(jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#underBuyNowRecommendBottom .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#georgePARightTop\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#georgePARightTop .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#georgePARightTop .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Top_Slot\x22)+\x22^\x22+(jQuery(\x22#georgePARightTop .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#georgePARightTop .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#georgePARightTop .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#georgePARightTop .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#georgePARightBottom\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#georgePARightBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#georgePARightBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#georgePARightBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#georgePARightBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#georgePARightBottom .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#georgePARightBottom .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#productDetailsBottomPaSlide\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#productDetailsBottomPaSlide .viewProductLink\x22).length)); }\t\t\t\r\n\t\t\tif(jQuery(\x22#verticalPASlotHeader\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#verticalPAPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#verticalPAPageSet .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Right_Slot\x22)+\x22^\x22+(jQuery(\x22#verticalPAPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#verticalPAPageSet .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#verticalPAPageSet .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#verticalPAPageSet .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#recommendSlotBottomHeader\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#recommendBottomSlide .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#recommendBottomSlide .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22RVI_Slot\x22)+\x22^\x22+(jQuery(\x22#recommendBottomSlide .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#recommendBottomSlide .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#recommendBottomSlide .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#recommendBottomSlide .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#productDetailsPaSlotBottomHeader\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#productDetailsPaSlotBottom .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#verticalIoSlotHeader\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#verticalIoPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#verticalIoPageSet .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Right_Slot\x22)+\x22^\x22+(jQuery(\x22#verticalIoPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#verticalIoPageSet .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#verticalIoPageSet .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#verticalIoPageSet .viewProductLink\x22).length)); }\r\n\t\t\tif(jQuery(\x22#productBottomIoSlotBottomHeader\x22).length \x3e 0){ bt_Recommendations.push(brandType+\x22^P^\x22+(jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22)[0].href.split(\x22placement_id\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22Bottom_Slot\x22)+\x22^\x22+(jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22).length \x3e 0 ? jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22)[0].href.split(\x22strategy\x3d\x22)[1].split(\x22\x26\x22)[0] : \x22NA\x22)+\x22^\x22+(jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22).length \x3d\x3d 0 ? \x22zero\x22 : jQuery(\x22#productBottomIoBottomPageSet .viewProductLink\x22).length)); }\r\n\t\t\treturn bt_Recommendations.join(\x22|\x22);\r\n\t\t})();\r\n\t\tlist2Val \x3d (function(){\r\n\t\t\tfunction toTitleCase(str){\r\n\t\t\t\tif(str.indexOf(\x22 \x22)\x3e-1){\r\n\t\t\t\t\treturn str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn str;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar brandType \x3d (function(){\r\n\t\t\t\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\t\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn bt_logoClass;\r\n\t\t\t\t})();\r\n\t\t\tvar prodType \x3d (function(){\r\n\t\t\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\t\t\treturn \x22B\x22;\r\n\t\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\t\t\treturn \x22S\x22;\r\n\t\t\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\t\t\treturn \x22M\x22;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \x22R\x22;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t\tvar bt_RecInteractions \x3d [];\r\n\t\t\tif(jQuery(\x22#verticalDontForget .verticalPAPageSet ul li\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^StaticRecommendations^ViewedStaticRecs^Don\x27tForget\x22); }\r\n\t\t\tif(jQuery(\x22#productSetTab\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#productSetTab\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#bundles\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#bundles\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#recstab\x22).length \x3e 0 \x26\x26 (jQuery(\x22#productSetTab\x22).length \x3d\x3d 0 \x26\x26 jQuery(\x22#bundles\x22).length \x3d\x3d 0)){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#recstab\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#verticalPASlotHeader\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#verticalPASlotHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#recommendSlotBottomHeader\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#recommendSlotBottomHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#productDetailsPaSlotBottomHeader\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#productDetailsPaSlotBottomHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#underBuyNowRecommendBottomPageSetList li\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#underBuyNowRecommendBottomHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#verticalIoSlotHeader\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#verticalIoSlotHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#productBottomIoSlotBottomHeader\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#productBottomIoSlotBottomHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#georgePARightTop .viewProductLink\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#georgePARightTopHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\tif(jQuery(\x22#georgePARightBottom .viewProductLink\x22).length \x3e 0){ bt_RecInteractions.push(brandType+\x22^PP^\x22+prodType+\x22^I^DynamicRecommendations^ViewedDynamicRecs^\x22+toTitleCase(jQuery(\x22#georgePARightBottomHeader\x22).text()).replace(/ /g,\x22\x22)); }\r\n\t\t\treturn bt_RecInteractions.join(\x22|\x22);\r\n\t\t})();\r\n\t}\r\n\tif(prop26Val !\x3d \x22\x22){\r\n\t\tif(list2Val !\x3d \x22\x22){\r\n\t\t\ts.linkTrackVars\x3d\x22products,channel,list2,prop26,prop52,prop66,eVar72,events\x22;\r\n\t\t\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\t\t\ts.events\x3d\x22event16\x22;\r\n\t\t\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\t\t\ts.list2\x3dlist2Val;\r\n\t\t}else{\r\n\t\t\ts.linkTrackVars\x3d\x22channel,prop26,prop52,prop66,eVar72\x22;\r\n\t\t}\r\n\t\ts.prop26\x3dprop26Val;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.prop52\x3d\x22D\x3dg\x22;\r\n\t\ts.tl(this,\x27o\x27,\x27Recommendation Data\x27);\r\n\t\ts.prop26\x3d\x22\x22;\r\n\t}\r\n},2100);',{tagId:53582});
BrightTag.EventBinding.when('submit search').execute('if(jQuery(\x22#q\x22).val() !\x3d \x22Search...\x22 \x26\x26 jQuery(\x22#q\x22).val() !\x3d \x22\x22 \x26\x26 (eventObject.which \x3d\x3d 13 || eventObject.which \x3d\x3d 1 || eventObject.keyCode \x3d\x3d 13 || eventObject.keyCode \x3d\x3d 1)){\r\n\tdocument.cookie \x3d \x22bt_searchSubmitted\x3d\x22+jQuery(\x22#q\x22).val()+\x22;path\x3d/;\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('header engagement - george').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22D\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22D\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar websiteType \x3d (function(){\r\n\tvar domain \x3d location.hostname;\r\n\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\treturn \x22D\x22;\r\n\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\treturn \x22M\x22;\r\n\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\treturn \x22T\x22;\r\n\t}\r\n})();\r\nif(brandType \x3d\x3d \x22G\x22){\r\n\ts.linkTrackVars\x3d(\x22channel,prop33,prop52,prop66,eVar72\x22);\r\n\tif(jQuery(eventObject.target).attr(\x22id\x22)){\r\n\t\tif(jQuery(eventObject.target).attr(\x22id\x22) \x3d\x3d \x22q\x22){\r\n\t\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^ST\x22);\r\n\t\t}else if(jQuery(eventObject.target).attr(\x22id\x22) \x3d\x3d \x22go\x22){\r\n\t\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^SB\x22);\r\n\t\t}else if(jQuery(eventObject.target).attr(\x22id\x22) \x3d\x3d \x22showSiteLauncher\x22){\r\n\t\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^AM\x22);\r\n\t\t}\r\n\t}else if(jQuery(eventObject.target).parents(\x22.mw_menu_button\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22class\x22) ? jQuery(eventObject.target).attr(\x22class\x22) \x3d\x3d \x22mw_menu_button\x22 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^Menu\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.mw_search_button\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22class\x22) ? jQuery(eventObject.target).attr(\x22class\x22).indexOf(\x22mw_search_button\x22)\x3e-1 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^SO\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.mw_basket_buttonG\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22class\x22) ? jQuery(eventObject.target).attr(\x22class\x22) \x3d\x3d \x22mw_basket_buttonG\x22 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^BC\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22a.basket_checkout\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22class\x22) ? jQuery(eventObject.target).attr(\x22class\x22) \x3d\x3d \x22basket_checkout\x22 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^BC\x22);\r\n\t}else if(jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22) \x3d\x3d \x22Sign Out\x22 : false){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^SIO\x22);\r\n\t}else if(jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22) \x3d\x3d \x22View/edit your account\x22 : false){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^YA\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.help\x22).length \x3e 0){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^HELP\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.expandMinicart\x22).length \x3e 0){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^E\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.closeMinicart\x22).length \x3e 0){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^C\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22.login\x22).length \x3e 0){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^SIR\x22);\r\n\t}else if(jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22) \x3d\x3d \x22Track your order\x22 : false){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^TYO\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22a[title\x3d\x27Save for later\x27]\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22) \x3d\x3d \x22Save for later\x22 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^SFL\x22);\r\n\t}else if(jQuery(eventObject.target).parents(\x22#logo\x22).length \x3e 0 || jQuery(eventObject.target).parents(\x22a[name\x3d\x27George_logo\x27]\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22name\x22) ? jQuery(eventObject.target).attr(\x22name\x22) \x3d\x3d \x22George_logo\x22 : false)){\r\n\t\ts.prop33 \x3d (brandType+\x22^\x22+websiteType+\x22^H^Logo\x22);\r\n\t}\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.tl(true,\x27o\x27,\x27Header Engagement\x27);\r\n}',{tagId:53582});
BrightTag.EventBinding.when('social buttons').execute('s.list1\x3d\x22\x22;\r\nif(bt_data(\x27social button validator\x27) !\x3d \x22No\x22){\r\n\tfunction toTitleCase(str){\r\n\t\tif(str.indexOf(\x22 \x22)\x3e-1){\r\n\t\t\treturn str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n\t\t}else{\r\n\t\t\treturn str;\r\n\t\t}\r\n\t}\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\tvar socialPicked \x3d (function(){\r\n\t\tvar bt_socPicked \x3d jQuery(eventObject.currentTarget).attr(\x22class\x22);\r\n\t\tif(bt_socPicked \x3d\x3d \x22twitterbutton\x22){\r\n\t\t\treturn \x22Twitter\x22;\r\n\t\t}else if(bt_socPicked \x3d\x3d \x22gplusbutton\x22){\r\n\t\t\treturn \x22Google+\x22;\r\n\t\t}else if(bt_socPicked \x3d\x3d \x22pinterestbutton\x22){\r\n\t\t\treturn \x22Pinterest\x22;\r\n\t\t}else if(bt_socPicked.indexOf(\x22hukd-share-button\x22)\x3e-1){\r\n\t\t\treturn \x22HotUKDeals\x22;\r\n\t\t}else if(bt_socPicked.indexOf(\x22email-share-button\x22)\x3e-1 || bt_socPicked.indexOf(\x22sendToFriendsThankyou\x22)\x3e-1){\r\n\t\t\treturn \x22Send to a friend\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22Facebook\x22;\r\n\t\t}\r\n\t})();\r\n\tif(socialPicked.match(/[a-z]|[A-Z]+/)){\r\n\t\ts.linkTrackVars\x3d\x22pageName,channel,products,eVar5,eVar72,prop5,prop66,list2\x22;\r\n\t\ts.linkTrackEvents\x3d\x22event20\x22;\r\n\t\ts.events\x3d\x22event20\x22;\r\n\t\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.prop5\x3ds.eVar5\x3dsocialPicked;\r\n\t\ts.products\x3d\x22\x22;\r\n\t\tvar productsValue;\r\n\t\tif(universal_variable.Product){\r\n\t\t\tif(location.href.indexOf(\x22//m.\x22)\x3d\x3d-1){\r\n\t\t\t\tif(brandType \x3d\x3d \x22GM\x22){\r\n\t\t\t\t\t// Direct\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\toutput.push(jQuery(\x22#navBreadcrumbs li p span a\x22).attr(\x22title\x22).replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22)+\x22;\x22);\r\n\t\t\t\t\toutput.push(jQuery(\x22#current_product_code_string\x22).val()+\x22;\x22);\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val()+\x22;\x22 : \x221;\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price ? universal_variable.Product.unit_sale_price : \x220.00\x22);\r\n\t\t\t\t\tproductsValue \x3d output.join(\x22\x22);\r\n\t\t\t\t}else if(brandType \x3d\x3d \x22GRG\x22){\r\n\t\t\t\t\t// George\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\toutput.push(jQuery(\x22#navBreadcrumbs li h2 span a\x22)[1].title.replace(/,+|;+/g,\x22\x22).replace(/\x26+|\x26+/g,\x22and\x22));\r\n\t\t\t\t\toutput.push(jQuery(\x22#current_product_code_string\x22).val());\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val() : \x221\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price ? universal_variable.Product.unit_sale_price : \x220.00\x22);\r\n\t\t\t\t\tproductsValue \x3d output.join(\x22;\x22);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif(brandType \x3d\x3d \x22GM\x22){\r\n\t\t\t\t\t// Direct\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\toutput.push(jQuery(\x22#navBreadcrumbs li a\x22).length \x3e 0 ? jQuery(\x22#navBreadcrumbs li a\x22).attr(\x22title\x22).replace(/\x26+/,\x22and\x22).replace(/,+/,\x22\x22).replace(/,+|;+/g,\x22\x22)+\x22;\x22 : cmCurrentCat.split(\x22-\x22)[1].split(\x22-\x22)[0].replace(/\x26+/,\x22and\x22).replace(/,+/,\x22\x22).replace(/,+|;+/g,\x22\x22)+\x22;\x22);\r\n\t\t\t\t\toutput.push(jQuery(\x22#current_product_code_string\x22).val());\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val()+\x22;\x22 : \x221\x22+\x22;\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price ? universal_variable.Product.unit_sale_price : \x220.00\x22);\r\n\t\t\t\t\tproductsValue \x3d output.join(\x22\x22);\r\n\t\t\t\t}else if(brandType \x3d\x3d \x22GRG\x22){\r\n\t\t\t\t\t// George\r\n\t\t\t\t\tvar output \x3d [];\r\n\t\t\t\t\toutput.push(jQuery(\x22#navBreadcrumbs li a\x22).length \x3e 0 ? jQuery(\x22#navBreadcrumbs li a\x22).attr(\x22title\x22).replace(/\x26+/,\x22and\x22).replace(/,+/,\x22\x22).replace(/,+|;+/g,\x22\x22) : cmCurrentCat.split(\x22-\x22)[1].split(\x22-\x22)[0].replace(/\x26+/,\x22and\x22).replace(/,+/,\x22\x22).replace(/,+|;+/g,\x22\x22));\r\n\t\t\t\t\toutput.push(jQuery(\x22form[name*\x3d\x27addProductForm_\x27]\x22).attr(\x22name\x22).match(/[A-Z]\\d+/)[0]);\r\n\t\t\t\t\toutput.push(jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val() : \x221\x22);\r\n\t\t\t\t\toutput.push(universal_variable.Product.unit_sale_price ? universal_variable.Product.unit_sale_price : \x220.00\x22);\r\n\t\t\t\t\tproductsValue \x3d output.join(\x22;\x22);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts.products\x3dproductsValue;\r\n\t\t\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^SocialIcons^\x22+toTitleCase(socialPicked).replace(/ /g,\x22\x22));\r\n\t\t}else if(universal_variable.Order){\r\n\t\t\tvar selectedItem \x3d jQuery(eventObject.currentTarget).parents(\x22div.productDetails\x22).find(\x22a.productName\x22).attr(\x22title\x22);\r\n\t\t\tvar prodPrices \x3d \x22\x22, prodQuans \x3d \x22\x22, prodDept \x3d \x22\x22, prodSKUs \x3d \x22\x22;\r\n\t\t\tvar shipmentsObject \x3d universal_variable.Order.shipments;\r\n\t\t\tfor(var i\x3d0;i\x3cshipmentsObject.length;i++){\r\n\t\t\t\tvar shipmentItems \x3d shipmentsObject[i].ProductLineItems;\r\n\t\t\t\tfor(var j\x3d0;j\x3cshipmentItems.length;j++){\r\n\t\t\t\t\tif(shipmentItems[j].product.name \x3d\x3d selectedItem){\r\n\t\t\t\t\t\tprodPrices \x3d shipmentItems[j].subTotal;\r\n\t\t\t\t\t\tprodSKUs \x3d shipmentItems[j].product.id;\r\n\t\t\t\t\t\tprodQuans \x3d shipmentItems[j].quantity;\r\n\t\t\t\t\t\tprodDept \x3d shipmentItems[j].product.departmentNumber;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ts.products\x3d\x22;\x22+prodSKUs+\x22;\x22+prodQuans+\x22;\x22+prodPrices+\x22;;eVar47\x3d\x22+prodDept+\x22;\x22;\r\n\t\t}\r\n\t\ts.tl(true, \x27o\x27, \x27Social Buttons\x27);\r\n\t\ts.events\x3d\x22\x22;\r\n\t\ts.prop5\x3ds.eVar5\x3d\x22\x22;\r\n\t\ts.list2\x3d\x22\x22;\r\n\t\ts.products\x3d\x22\x22;\r\n\t}\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - promotional').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_offersType \x3d (function(){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22title\x22) \x3d\x3d \x22Terms \x26 Conditions\x22){\r\n\t\treturn \x22ClickedPromoTandCs\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22closed\x22){\r\n\t\treturn \x22ClickedPromoExpandBtn\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22opened\x22){\t\r\n\t\treturn \x22ClickedPromoCollapseBtn\x22;\r\n\t}else{\r\n\t\treturn \x22ClickedPromoLandingPage\x22;\r\n\t}\r\n})();\r\nvar bt_prodContent;\r\nif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^B^I^Offers^\x22+bt_offersType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^S^I^Offers^\x22+bt_offersType;\r\n}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\tbt_prodContent \x3d brandType+\x22^PP^M^I^Offers^\x22+bt_offersType;\r\n}else{\r\n\tbt_prodContent \x3d brandType+\x22^PP^R^I^Offers^\x22+bt_offersType;\r\n}\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3dbt_prodContent;\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('add to basket').execute('var eventsValue \x3d [];\r\nif(jQuery(\x22#minicart span.amount\x22).text() \x3d\x3d \x2200\x22 || jQuery(\x22div.mw_header_basketG\x22).text().indexOf(\x22\xa30.00\x22)\x3e-1){\r\n\teventsValue.push(\x22scOpen\x22);\r\n}\r\nvar brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar bt_itemQtys \x3d 0;\r\nif(jQuery(eventObject.currentTarget).parents(\x22div #productDetail,#productView\x22).length \x3e 0){\r\n\tif(jQuery(\x22table.chooseItemQty\x22).length \x3e 0){\r\n\t\tvar bt_quanVals \x3d jQuery(\x22table.chooseItemQty td.itemQty select\x22);\r\n\t\tjQuery.each(bt_quanVals, function(){\r\n\t\t\tif(jQuery(this).val() !\x3d \x220\x22){\r\n\t\t\t\tbt_itemQtys \x3d bt_itemQtys+1;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(bt_itemQtys \x3e 1){\r\n\t\t\teventsValue.push(\x22scAdd\x3d\x22+bt_itemQtys);\r\n\t\t}else{\r\n\t\t\teventsValue.push(\x22scAdd\x22);\r\n\t\t}\r\n\t}else if(jQuery(\x22#buyOptions\x22).length \x3e 0){\r\n\t\tvar bt_quanVals \x3d jQuery(\x22#buyOptions div[id*\x3d\x27subProduct\x27] select[id*\x3d\x27quantity\x27]\x22);\r\n\t\tjQuery.each(bt_quanVals, function(){\r\n\t\t\tif(jQuery(this).val() !\x3d \x220\x22 \x26\x26 jQuery(this).val() !\x3d \x22-\x22){\r\n\t\t\t\tbt_itemQtys \x3d bt_itemQtys+1;\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(bt_itemQtys \x3e 1){\r\n\t\t\teventsValue.push(\x22scAdd\x3d\x22+bt_itemQtys);\r\n\t\t}else{\r\n\t\t\teventsValue.push(\x22scAdd\x22);\r\n\t\t}\r\n\t}else{\r\n\t\teventsValue.push(\x22scAdd\x22);\r\n\t}\r\n}else{\r\n\teventsValue.push(\x22prodView,scAdd\x22);\r\n}\r\nif(bt_data(\x27s.evar28\x27) \x3d\x3d \x22CrossSell\x22){\r\n\teventsValue.push(\x22event26\x22);\r\n}\r\nif(s.prop49){\r\n\tif(s.prop49 !\x3d \x22\x22){\r\n\t\teventsValue.push(\x22event77\x22);\r\n\t}\r\n}\r\nif(bt_data(\x27recommendation addition\x27) \x3d\x3d \x22Yes\x22 \x26\x26 eventsValue.join(\x22|\x22).indexOf(\x22prodView\x22)\x3d\x3d-1){\r\n\teventsValue.push(\x22prodView\x22);\r\n}\r\neventsValue.push(\x22event3\x22);\r\nif(eventsValue.join(\x22,\x22).indexOf(\x22scAdd\x22)\x3e-1 \x26\x26 bt_cookie(\x22bt_firstAdd\x22) \x3d\x3d \x22\x22){\r\n\tdocument.cookie \x3d \x22bt_firstAdd\x3dyes; path\x3d/;\x22;\r\n\teventsValue.push(\x22event49\x22);\r\n}\r\ns.eVar15\x3dbt_data(\x27s.evar15\x27);\r\ns.eVar28\x3dbt_data(\x27s.evar28\x27);\r\ntry{\r\n\tif(jQuery(\x22table.chooseItemQty\x22).length \x3e 0){\r\n\t\tvar miniData \x3d jQuery(\x22table.chooseItemQty td.itemQty select[value!\x3d\x270\x27]\x22);\r\n\t\tvar miniPriceData \x3d jQuery(\x22table.chooseItemQty td.itemQty select[value!\x3d\x270\x27]\x22).parents(\x22tr\x22).find(\x22td.itemPrice span.productPrice span.pounds,span.newPrice\x22).text().replace(\x22\xa3\x22,\x22\x22).split(\x22\xa3\x22);\r\n\t\tminiPriceData.reverse();\r\n\t\tvar miniProducts \x3d [];\r\n\t\tfor(j\x3d0;j\x3cminiData.length;j++){\r\n\t\t\tminiProducts.push(\x22;\x22+miniData[j].name.replace(/quantity-+|-quantity+/g,\x27\x27)+\x22;\x22\r\n\t\t\t\t+ miniData[j].value+\x22;\x22\r\n\t\t\t\t+ (Number(miniPriceData[j].match(/\\d+.\\d+/)[0])*Number(miniData[j].value)).toFixed(2)\r\n\t\t\t\t+ \x22;event3\x3d0;eVar6\x3d\x22+(jQuery(\x22table.chooseItemQty td.itemQty select[value!\x3d\x270\x27]\x22).parents(\x22tr\x22).find(\x22td.itemPrice span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(\x22table.chooseItemQty td.itemQty select[value!\x3d\x270\x27]\x22).parents(\x22tr\x22).find(\x22td.itemPrice span.productPrice span.newPrice\x22))/Number(jQuery(\x22table.chooseItemQty td.itemQty select[value!\x3d\x270\x27]\x22).parents(\x22tr\x22).find(\x22td.itemPrice span.productPrice span.wasPrice\x22))))*100).toFixed(0)) : \x22zero\x22)\r\n\t\t\t\t+ \x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22\r\n\t\t\t);\r\n\t\t}\r\n\t\tif(miniData.length \x3e 0){\r\n\t\t\ts.products\x3dminiProducts.join(\x22,\x22);\r\n\t\t}else{\r\n\t\t\ts.products\x3d\x22\x22;\r\n\t\t}\r\n\t}else if(jQuery(\x22#buyOptions\x22).length \x3e 0){\r\n\t\tvar miniData \x3d jQuery(eventObject.target).parents(\x22div[id*\x3d\x27subProduct\x27]\x22).find(\x22div.options select.quantityinput\x22);\r\n\t\tvar miniPriceData \x3d jQuery(eventObject.currentTarget).parents(\x22div[id*\x3d\x27subProduct\x27]\x22).find(\x22div.detailsRight span.productPrice span.pounds,span.newPrice\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\t\ts.products\x3d(\x22;\x22+miniData[0].name.replace(/quantity-+|-quantity+/g,\x27\x27)+\x22;\x22\r\n\t\t\t+ miniData[0].value+\x22;\x22\r\n\t\t\t+ (Number(miniPriceData.match(/\\d+.\\d+/)[0])*Number(miniData[0].value)).toFixed(2)\r\n\t\t\t+ \x22;event3\x3d0;eVar6\x3d\x22+(jQuery(eventObject.target).parents(\x22div[id*\x3d\x27subProduct\x27]\x22).find(\x22div.detailsRight span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(eventObject.target).parents(\x22div[id*\x3d\x27subProduct\x27]\x22).find(\x22div.detailsRight span.productPrice span.newPrice\x22))/Number(jQuery(eventObject.target).parents(\x22div[id*\x3d\x27subProduct\x27]\x22).find(\x22div.detailsRight span.productPrice span.wasPrice\x22))))*100).toFixed(0)) : \x22zero\x22)\r\n\t\t\t+ \x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22\r\n\t\t);\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).length \x3e 0){\r\n\t\tvar miniSKU \x3d brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null ? thisProduct.selectedVar.id : jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27]\x22).attr(\x22name\x22).replace(/addProductForm_+|_addProductForm+/g,\x27\x27);\r\n\t\tvar miniQuan \x3d jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] select.quantityinput option:selected\x22).val();\r\n\t\tif(brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null){\r\n\t\t\tvar miniPrice \x3d Number(thisProduct.selectedVar.pricing.sale).toFixed(2);\r\n\t\t}else if(jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}else{\r\n\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}\r\n\t\tvar miniPriceTotal \x3d Number(miniPrice)*Number(miniQuan);\r\n\t\ts.products\x3d\x22;\x22+miniSKU+\x22;\x22+miniQuan+\x22;\x22+miniPriceTotal.toFixed(2)+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(eventObject.currentTarget).parents(\x22#quickBuyDialog\x22).find(\x22form[id\x3d\x27cartaddproduct\x27] span.productPrice span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\t}\r\n\telse if(jQuery(eventObject.currentTarget).parents(\x22div #productDetail\x22).length \x3d\x3d 0){\r\n\t\tvar miniSKU \x3d brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null ? thisProduct.selectedVar.id : jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22input[name\x3d\x27pid\x27]\x22).val();\r\n\t\tif(brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null){\r\n\t\t\tvar miniPrice \x3d Number(thisProduct.selectedVar.pricing.sale).toFixed(2);\r\n\t\t}else if(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}else{\r\n\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t}\r\n\t\ts.products\x3d\x22;\x22+miniSKU+\x22;1;\x22+miniPrice+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\t}else{\r\n\t\tif(jQuery(\x22#squaretrade_resale_pp input[type\x3d\x27checkbox\x27]:checked\x22).length \x3e 0){\r\n\t\t\tvar miniSKUPre \x3d brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null ? thisProduct.selectedVar.id : \x22\x22;\r\n\t\t\tif(miniSKUPre \x3d\x3d \x22\x22){\r\n\t\t\t\tvar miniSKU \x3d jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#current_product_code_string\x22).val() : jQuery(\x22#product_sku_string\x22).val();\r\n\t\t\t}else{\r\n\t\t\t\tvar miniSKU \x3d miniSKUPre;\r\n\t\t\t}\r\n\t\t\tvar miniQuan \x3d jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val() : \x221\x22;\r\n\t\t\tif(brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null){\r\n\t\t\t\tvar miniPrice \x3d Number(thisProduct.selectedVar.pricing.sale).toFixed(2);\r\n\t\t\t}else if(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t}else{\r\n\t\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t}\r\n\t\t\tvar coverSKU \x3d jQuery(\x22#squaretrade_product_id\x22).attr(\x22name\x22).replace(/quantity-+|-quantity+/g,\x27\x27);\r\n\t\t\tvar coverPrice \x3d jQuery(\x22#squaretrade_resale_pp span.price\x22).text().match(/\\d+.\\d+/).toString();\r\n\t\t\tvar miniPriceTotal \x3d Number(miniPrice)*Number(miniQuan);\r\n\t\t\ts.products\x3d\x22;\x22+miniSKU+\x22;\x22+miniQuan+\x22;\x22+miniPriceTotal.toFixed(2)+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(\x22#productDetail span.productPrice span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1,;\x22+coverSKU+\x22;1;\x22+coverPrice+\x22;;eVar6\x3dzero|eVar13\x3d1\x22;\r\n\t\t}else if(jQuery(eventObject.currentTarget).parents(\x22#underBuyNowRecommendBottom\x22).length \x3e 0){\r\n\t\t\tvar miniSKU \x3d jQuery(eventObject.currentTarget).parents(\x22form\x22).find(\x22input[name\x3d\x27pid\x27]\x22).val();\r\n\t\t\tif(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t}else{\r\n\t\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t}\r\n\t\t\ts.products\x3d\x22;\x22+miniSKU+\x22;1;\x22+miniPrice+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(eventObject.currentTarget).parents(\x22div.prodMiniBottom,div.productContainer\x22).find(\x22span.productPrice span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\t\t}else{\r\n\t\t\tif(bt_data(\x27s.evar22\x27) \x3d\x3d \x22PMV\x22){\r\n\t\t\t\tvar miniSKU \x3d jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22input[name\x3d\x27pid\x27]\x22);\r\n\t\t\t\tif(jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.newPrice\x22).length \x3e 0){\r\n\t\t\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar miniPrice \x3d jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t\t}\r\n\t\t\t\ts.products\x3d\x22;\x22+miniSKU+\x22;1;\x22+miniPrice+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0])/Number(jQuery(eventObject.currentTarget).parents(\x22form[id*\x3d\x27cartaddproduct\x27]\x22).find(\x22.wasPrice\x22).text().match(/\\d+(.\\d{2})?/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\t\t\t}else if(jQuery(\x22#age18\x22).length \x3d\x3d 0 || jQuery(\x22#age18:checked\x22).length \x3e 0){\r\n\t\t\t\tvar miniSKUPre \x3d brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null ? thisProduct.selectedVar.id : \x22\x22;\r\n\t\t\t\tif(miniSKUPre \x3d\x3d \x22\x22){\r\n\t\t\t\t\tvar miniSKU \x3d jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22 ? jQuery(\x22#productDetail form\x22).attr(\x22id\x22).match(/\\d+/)[0] : universal_variable.Product.id;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar miniSKU \x3d miniSKUPre;\r\n\t\t\t\t}\r\n\t\t\t\tvar miniQuan1 \x3d jQuery(\x22#Quantity\x22).val() ? jQuery(\x22#Quantity\x22).val() : \x22No\x22;\r\n\t\t\t\tvar miniQuan \x3d miniQuan1 \x3d\x3d \x22No\x22 ? jQuery(\x22#productDetail select.quantityinput\x22).val() : miniQuan1;\r\n\t\t\t\tif(brandType \x3d\x3d \x22GRG\x22 \x26\x26 thisProduct.selectedVar !\x3d null){\r\n\t\t\t\t\tvar miniPrice \x3d Number(thisProduct.selectedVar.pricing.sale).toFixed(2);\r\n\t\t\t\t}else if(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).length \x3e 0){\r\n\t\t\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.newPrice\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t\t}else{\r\n\t\t\t\t\tvar miniPrice \x3d jQuery(\x22#productDetail span.productPrice span.pounds\x22).text().match(/\\d+(.\\d{2})?/)[0];\r\n\t\t\t\t}\r\n\t\t\t\tvar miniPriceTotal \x3d Number(miniPrice)*Number(miniQuan);\r\n\t\t\t\ts.products\x3d\x22;\x22+miniSKU+\x22;\x22+miniQuan+\x22;\x22+miniPriceTotal.toFixed(2)+\x22;event3\x3d0;eVar6\x3d\x22+(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).length \x3e 0 ? (((1-(Number(jQuery(\x22#productDetail span.productPrice span.newPrice\x22).text().match(/\\d+.\\d+/)[0])/Number(jQuery(\x22#productDetail span.productPrice span.wasPrice\x22).text().match(/\\d+.\\d+/)[0])))*100).toFixed(0)) : \x22zero\x22)+\x22|eVar13\x3d1|eVar55\x3dPMV|eVar56\x3dPMV\x22;\r\n\t\t\t}else{\r\n\t\t\t\ts.products\x3d\x22\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}catch(err){}\r\nvar bt_listVal \x3d [];\r\nif(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22addToBasketButton\x22 || jQuery(eventObject.currentTarget).parents(\x22#buyOptionsContainer\x22).length \x3e 0 || (jQuery(eventObject.currentTarget).parents(\x22#productDetail\x22).length \x3e 0 \x26\x26 brandType \x3d\x3d \x22GRG\x22)){\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\tif(prodType \x3d\x3d \x22S\x22){\r\n\t\tif(bt_itemQtys \x3e 1){\r\n\t\t\tbt_listVal.push(brandType+\x22^PP^S^I^BuyBlock^AddtoBasketMultipleProducts\x22);\r\n\t\t}else{\r\n\t\t\tbt_listVal.push(brandType+\x22^PP^S^I^BuyBlock^AddtoBasketSingleProduct\x22);\r\n\t\t}\r\n\t}else{\r\n\t\tbt_listVal.push(brandType+\x22^PP^\x22+prodType+\x22^I^BuyBlock^AddtoBasketMainProduct\x22);\r\n\t}\r\n}\r\nif(jQuery(\x22#squaretrade_resale_pp input[type\x3d\x27checkbox\x27]:checked\x22).length \x3e 0){\r\n\tbt_listVal.push(brandType+\x22^PP^\x22+prodType+\x22^I^BuyBlock^AddtoBasketWarranty\x22);\r\n}\r\nif(bt_listVal.length \x3e 0){\r\n\ts.list2\x3dbt_listVal.join(\x22|\x22);\r\n\teventsValue.push(\x22event16\x22);\r\n}else{\r\n\ts.list2\x3d\x22\x22;\r\n}\r\ns.events\x3deventsValue;\r\ns.eVar12\x3d\x22\x22;\r\ns.eVar22\x3dbt_data(\x27s.evar22\x27);\r\ns.eVar46\x3d(function(){\r\n\tif(bt_parameter(\x22strategy\x22) !\x3d \x22\x22 \x26\x26 location.pathname.match(/G?[A-Z]+[0-9]+/)){\r\n\t\treturn \x22G^\x22+bt_parameter(\x22strategy\x22)+\x22^\x22+location.pathname.match(/G?[A-Z]+[0-9]+/)[0];\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();\r\ns.eVar49\x3ds.eVar50\x3d(bt_data(\x27s.evar22\x27) \x3d\x3d \x22PMV\x22 ? \x22zero\x22 : \x22\x22);\r\ns.eVar68\x3d\x22z\x22;\r\ns.eVar71\x3d(function(){\r\n\tvar fullDate \x3d new Date();\r\n\tvar twoDigitMonth \x3d fullDate.getMonth()+1+\x22\x22;if(twoDigitMonth.length\x3d\x3d1)  twoDigitMonth\x3d\x220\x22 +twoDigitMonth;\r\n\tvar twoDigitDate \x3d fullDate.getDate()+\x22\x22;if(twoDigitDate.length\x3d\x3d1) twoDigitDate\x3d\x220\x22 +twoDigitDate;\r\n\treturn twoDigitDate + twoDigitMonth + fullDate.getFullYear();\r\n})();\r\ns.eVar72\x3d\x22+1\x22;\r\ns.prop1\x3d(s.products.split(\x22;\x22)[1]);\r\ns.prop47\x3d(function(){\r\n\tvar bt_prodString \x3d s.products.split(\x22;\x22);\r\n\tvar bt_prodName \x3d jQuery(eventObject.target).parents(\x22form,.subSetProduct\x22).length \x3e 1 ? jQuery(eventObject.target).parents(\x22.subSetProduct\x22).find(\x22h2\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) : jQuery(eventObject.target).parents(\x22form\x22).find(\x22.prodMiniTop,.namecode,h1:not(h1[class])\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) \x3d\x3d \x22Buy everything for\x22 ? jQuery(eventObject.target).parents(\x22form\x22).find(\x22.viewProductLink img\x22).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : jQuery(eventObject.target).parents(\x22form\x22).find(\x22.prodMiniTop h4,.namecode h4,h1:not(h1[class])\x22).text().replace(/Product ID: .*/g,\x27\x27).replace(/Product No: .*/g,\x27\x27).replace(/Artist: .*/g,\x27\x27).replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\treturn (\x22A^\x22+bt_prodString[1]+\x22^\x22+bt_prodName);\r\n})();\r\ns.eVar74\x3d((Number(s.products.split(\x22;\x22)[3])/Number(s.products.split(\x22;\x22)[2])).toFixed(2));\r\nif(s.products !\x3d \x22\x22){\r\n\ts.eVar9\x3d\x22\x22;\r\n\ts.eVar10\x3d\x22\x22;\r\n\ts.eVar41\x3d\x22\x22;\r\n\ts.eVar54\x3d\x22\x22;\r\n\ts.prop28\x3d\x22\x22;\r\n\ts.prop29\x3d\x22\x22;\r\n\ts.prop46\x3d\x22\x22;\r\n\ts.prop49\x3d\x22\x22;\r\n\ts.t();\r\n\ts.eVar15\x3d\x22\x22;\r\n\ts.eVar28\x3d\x22\x22;\r\n\ts.eVar68\x3d\x22\x22;\r\n\ts.eVar71\x3d\x22\x22;\r\n\ts.eVar74\x3d\x22\x22;\r\n\ts.events\x3d\x22\x22;\r\n\ts.products\x3d\x22\x22;\r\n\ts.list2\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - recommendation carousel').execute('var brandType \x3d (function(){\r\n\tvar bt_logoClass \x3d \x22GM\x22;\r\n\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}else{\r\n\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t}else{\r\n\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t}\r\n\t}\r\n\treturn bt_logoClass;\r\n})();\r\nvar prodType \x3d (function(){\r\n\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\treturn \x22B\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\treturn \x22S\x22;\r\n\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\treturn \x22M\x22;\r\n\t}else{\r\n\t\treturn \x22R\x22;\r\n\t}\r\n})();\r\nfunction toTitleCase(str){\r\n\treturn str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n}\r\nvar bt_checkRecSlot \x3d (jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForgetButtonWrapper,.georgePARight\x22).find(\x22h3\x22).text() \x3d\x3d \x22\x22 ? toTitleCase(jQuery(\x22#recstab\x22).text()).replace(/ /g,\x22\x22) : toTitleCase(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForgetButtonWrapper,.georgePARight\x22).find(\x22h3\x22).text()).replace(/ /g,\x22\x22));\r\ns.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\ns.linkTrackEvents\x3d\x27event16\x27;\r\ns.events\x3d\x22event16\x22;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\ns.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^\x22+(bt_checkRecSlot \x3d\x3d \x22Don\x27tForget\x22 ? \x22StaticRecommendations^ClickedStaticRecsCarousel\x22 : \x22DynamicRecommendations^ClickedDynamicRecsCarousel\x22)+\x22^\x22+(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForgetButtonWrapper,.georgePARight\x22).find(\x22h3\x22).text() \x3d\x3d \x22\x22 ? toTitleCase(jQuery(\x22#recstab\x22).text()).replace(/ /g,\x22\x22) : toTitleCase(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForgetButtonWrapper,.georgePARight\x22).find(\x22h3\x22).text()).replace(/ /g,\x22\x22)));\r\ns.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\ns.list2\x3d\x22\x22;',{tagId:53582});
BrightTag.EventBinding.when('basket promo code').execute('s.events\x3d\x27event24\x27;\r\ns.prop66\x3d\x22D\x3dpageName\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.tl();',{tagId:53582});
BrightTag.EventBinding.when('product - recommendation clicked').execute('var bt_findingMethod;\r\nif(bt_data(\x27s.evar28\x27) \x3d\x3d \x22\x22){\r\n\tif(jQuery(eventObject.currentTarget).parents(\x22#georgeHomeCarouselTabContent\x22).length \x3e 0){\r\n\t\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgeHomeCarouselTabTitles h2.selected\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#georgePARightTop\x22).length \x3e 0){\r\n\t\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgePARightTop\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t}else if(jQuery(eventObject.currentTarget).parents(\x22#georgePARightBottom\x22).length \x3e 0){\r\n\t\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgePARightBottom\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t}else if(s.channel \x3d\x3d \x22PMID\x22){\r\n\t\tbt_findingMethod \x3d \x22PMID\x22;\r\n\t}else if(s.channel \x3d\x3d \x22Category\x22){\r\n\t\tbt_findingMethod \x3d \x22Category\x22;\r\n\t}else if(s.channel \x3d\x3d \x22Product Listing\x22){\r\n\t\tbt_findingMethod \x3d \x22Product Listing\x22;\r\n\t}else if(s.channel \x3d\x3d \x22Search\x22){\r\n\t\tbt_findingMethod \x3d \x22Search\x22;\r\n\t}\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22#georgeHomeCarouselTabContent\x22).length \x3e 0){\r\n\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgeHomeCarouselTabTitles h2.selected\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22#georgePARightTop\x22).length \x3e 0){\r\n\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgePARightTop\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n}else if(jQuery(eventObject.currentTarget).parents(\x22#georgePARightBottom\x22).length \x3e 0){\r\n\tbt_findingMethod \x3d \x22Recommendations^\x22+jQuery(\x22#georgePARightBottom\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27);\r\n}else{\r\n\tbt_findingMethod \x3d bt_data(\x27s.evar28\x27);\r\n}\r\ndocument.cookie \x3d \x22bt_findingMethod\x3d\x22+bt_findingMethod+\x22;path\x3d/;\x22;\r\nif(s.channel \x3d\x3d \x22Product\x22 \x26\x26 jQuery(eventObject.currentTarget).parents(\x22div.productSetBlock\x22).length \x3d\x3d 0 \x26\x26 jQuery(eventObject.currentTarget).parents(\x22div.callOut\x22).length \x3d\x3d 0 \x26\x26 jQuery(eventObject.currentTarget).parents(\x22.recentlyViewed\x22).length \x3d\x3d 0){\r\n\tfunction toTitleCase(str){\r\n\t\treturn str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n\t}\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GM\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\tvar bt_checkRecSlot \x3d (jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForget,.georgePARight\x22).find(\x22h3\x22).text() \x3d\x3d \x22\x22 ? toTitleCase(jQuery(\x22#recstab\x22).text()).replace(/ /g,\x22\x22) : toTitleCase(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForget,.georgePARight\x22).find(\x22h3\x22).text()).replace(/ /g,\x22\x22));\r\n\ts.linkTrackVars\x3d\x22products,channel,list2,events,prop52,prop66,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\ts.events\x3d\x22event16\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^\x22+(bt_checkRecSlot \x3d\x3d \x22Don\x27tForget\x22 ? \x22StaticRecommendations^ClickedStaticRecs\x22 : \x22DynamicRecommendations^ClickedDynamicRecs\x22)+\x22^\x22+(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForget,.georgePARight\x22).find(\x22h3\x22).text() \x3d\x3d \x22\x22 ? (jQuery(eventObject.currentTarget).parents(\x22#georgeHomeCarouselTabContent\x22).length \x3e 0 ? jQuery(\x22#georgeHomeCarouselTabTitles h2.selected\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27) : toTitleCase(jQuery(\x22#recstab\x22).text()).replace(/ /g,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)) : toTitleCase(jQuery(eventObject.currentTarget).parents(\x22div.pabuttonwrapper,#verticalDontForget,.georgePARight\x22).find(\x22h3\x22).text()).replace(/ /g,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)));\r\n\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\ts.list2\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('product - breadcrumb links').execute('var bt_websiteType \x3d (function(){\r\n\tvar domain \x3d location.hostname;\r\n\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\treturn \x22D\x22;\r\n\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\treturn \x22M\x22;\r\n\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\treturn \x22T\x22;\r\n\t}\r\n})();\r\nvar bt_logoClass \x3d \x22Direct\x22, bt_logoClassMin \x3d \x22D\x22;\r\nif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\tbt_logoClassMin \x3d \x22W\x22;\r\n\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\tbt_logoClassMin \x3d \x22G\x22;\r\n\t}\r\n}else{\r\n\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\tbt_logoClass \x3d \x22Direct\x22;\r\n\t\tbt_logoClassMin \x3d \x22D\x22;\r\n\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\tbt_logoClassMin \x3d \x22W\x22;\r\n\t}else{\r\n\t\tbt_logoClass \x3d \x22George\x22;\r\n\t\tbt_logoClassMin \x3d \x22G\x22;\r\n\t}\r\n}\r\nvar bt_breadTrail \x3d (function(){\r\n\tvar bt_currentCrumb \x3d (jQuery(eventObject.currentTarget).attr(\x22title\x22) ? jQuery(eventObject.currentTarget).attr(\x22title\x22) : (jQuery(eventObject.currentTarget).attr(\x22id\x22) ? (jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22backToPreviousLink\x22 ? \x22Prev Page\x22 : bt_logoClass+\x22 Home\x22) : bt_logoClass+\x22 Home\x22));\r\n\tvar fullCrumb \x3d [];\r\n\tif(bt_currentCrumb \x3d\x3d \x22Prev Page\x22){\r\n\t\tfullCrumb.push(\x22Prev Page\x22);\r\n\t}else{\r\n\t\tjQuery(\x22#navBreadcrumbs a[id!\x3d\x27backToPreviousLink\x27]\x22).each(function(){\r\n\t\t\tif((jQuery(this).attr(\x22title\x22) ? jQuery(this).attr(\x22title\x22) : bt_logoClass+\x22 Home\x22) !\x3d bt_currentCrumb \x26\x26 bt_currentCrumb !\x3d \x22backToPreviousLink\x22){\r\n\t\t\t\tif(!jQuery(this).attr(\x22title\x22)){\r\n\t\t\t\t\tfullCrumb.push(bt_logoClass+\x22 Home\x22);\r\n\t\t\t\t}else if(jQuery(this).attr(\x22title\x22) \x26\x26 jQuery(this).attr(\x22title\x22) !\x3d \x22Home\x22){\r\n\t\t\t\t\tfullCrumb.push(jQuery(this).attr(\x22title\x22));\r\n\t\t\t\t}else if(jQuery(this).attr(\x22title\x22) \x3d\x3d \x22Home\x22){\r\n\t\t\t\t\tfullCrumb.push(bt_logoClass+\x22 Home\x22);\r\n\t\t\t\t}\r\n\t\t\t}else{\r\n\t\t\t\tif((jQuery(this).attr(\x22id\x22) ? jQuery(this).attr(\x22id\x22) : bt_logoClass+\x22 Home\x22) \x3d\x3d \x22backToPreviousLink\x22 \x26\x26 bt_currentCrumb \x3d\x3d \x22backToPreviousLink\x22){\r\n\t\t\t\t\tfullCrumb.push(\x22Prev Page\x22);\r\n\t\t\t\t}else{\r\n\t\t\t\t\tfullCrumb.push((jQuery(this).attr(\x22title\x22) !\x3d \x22Home\x22 ? (jQuery(this).attr(\x22title\x22) ? jQuery(this).attr(\x22title\x22) : bt_logoClass+\x22 Home\x22) : bt_logoClass+\x22 Home\x22) );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\treturn fullCrumb.join(\x22^\x22);\r\n})();\r\nif(bt_data(\x27category page\x27) \x3d\x3d \x22Yes\x22){\r\n\ts.linkTrackVars\x3d\x22products,channel,prop34,prop45,prop52,prop66,eVar72\x22;\r\n\ts.prop34\x3dbt_breadTrail;\r\n\ts.prop45\x3d(bt_websiteType+\x22^\x22+bt_logoClassMin+\x22^BL^\x22+bt_breadTrail);\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.tl(true,\x27o\x27,\x27Breadcrumb Links\x27);\r\n\ts.prop34\x3d\x22\x22;\r\n}else{\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22GM\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22Wine\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22GRG\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar prodType \x3d (function(){\r\n\t\tif(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Bundle\x22){\r\n\t\t\treturn \x22B\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Set\x22){\r\n\t\t\treturn \x22S\x22;\r\n\t\t}else if(jQuery(\x22#product_page_type\x22).val() \x3d\x3d \x22Product Variation\x22){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else{\r\n\t\t\treturn \x22R\x22;\r\n\t\t}\r\n\t})();\r\n\ts.linkTrackVars\x3d\x22products,channel,list2,prop34,prop45,prop52,events,prop66,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x27event16\x27;\r\n\ts.events\x3d\x22event16\x22;\r\n\ts.prop34\x3dbt_breadTrail;\r\n\ts.prop45\x3d(bt_websiteType+\x22^\x22+bt_logoClassMin+\x22^BL^\x22+bt_breadTrail);\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(s.products.split(\x22;\x22).slice(0,4).join(\x22;\x22));\r\n\ts.list2\x3d(brandType+\x22^PP^\x22+prodType+\x22^I^Others^\x22+(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22backToPreviousLink\x22 ? \x22BacktoPreviousPage\x22 : \x22ClickedBreadcrumb\x22));\r\n\ts.tl(true,\x27o\x27,\x27Product Page Interactions\x27);\r\n\ts.list2\x3d\x22\x22;\r\n\ts.prop34\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('quick order').execute('if(jQuery(\x22#primary h3:contains(\x27Quick Order\x27)\x22).length \x3e 0 \x26\x26 jQuery(eventObject.currentTarget).parents(\x22#ptQuickOrder\x22).length \x3e 0){\r\n\tvar bt_prodIDs \x3d jQuery(\x22table.quickOrder tbody input[id*\x3d\x27productid\x27]\x22);\r\n\tvar bt_quantites \x3d jQuery(\x22table.quickOrder tbody input[id*\x3d\x27quantity\x27]\x22);\r\n\tvar validProdIDs \x3d [], validQuantities \x3d [];\r\n\tfor(i\x3d0; i\x3cbt_prodIDs.length; i++){\r\n\t\tif(jQuery(bt_prodIDs[i]).val() !\x3d \x22\x22){\r\n\t\t\tvalidProdIDs.push(jQuery(bt_prodIDs[i]).val());\r\n\t\t\tvalidQuantities.push((jQuery(bt_quantites[i]).val() \x3d\x3d \x22\x22 || jQuery(bt_quantites[i]).val().match(/[0-9]+/) \x3d\x3d null) ? \x221\x22 : jQuery(bt_quantites[i]).val());\r\n\t\t}\r\n\t}\r\n\tvalidProdIDs \x3d validProdIDs.join(\x22^\x22);\r\n\tvalidQuantities \x3d validQuantities.join(\x22^\x22);\r\n\tdocument.cookie \x3d \x22bt_quickBuy\x3d\x22+validProdIDs+\x22~\x22+validQuantities+\x22;path\x3d/;\x22;\r\n}else if(jQuery(\x22meta[name\x3d\x27title\x27]\x22).attr(\x22content\x22) \x3d\x3d \x22Your Basket\x22){\r\n\tvar bt_QOProductString \x3d (function(){\r\n\t\tvar sProducts \x3d [];\r\n\t\tvar bt_shipmentsQB \x3d universal_variable.Basket.Shipments;\r\n\t\tfor(i\x3d0; i\x3cbt_shipmentsQB.length; i++){\r\n\t\t\tvar bt_prodLineItems \x3d bt_shipmentsQB[i].ProductLineItems;\r\n\t\t\tfor(j\x3d0; j\x3cbt_prodLineItems.length; j++){\r\n\t\t\t\tsProducts.push(\x27;\x27+bt_prodLineItems[j].product.id\r\n\t\t\t\t\t+\x27;\x27+bt_prodLineItems[j].quantity\r\n\t\t\t\t\t+\x27;\x27+bt_prodLineItems[j].product.unit_sale_price\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sProducts.join(\x22,\x22);\r\n\t})();\r\n\ts.eVar15\x3d\x22\x22;\r\n\ts.eVar28\x3d\x22\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.channel\x3d\x22Cart\x22;\r\n\ts.events\x3d\x22scView,scCheckout\x22;\r\n\ts.products\x3dbt_QOProductString;\r\n\ts.t();\r\n\ts.events\x3d\x22\x22;\r\n\ts.products\x3d\x22\x22;\r\n\tdocument.cookie \x3d \x27bt_quickBuy\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n}else if(jQuery(\x22#ptQuickOrder .noResultTitle\x22).length \x3e 0){\r\n\tdocument.cookie \x3d \x27bt_quickBuy\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('forgotten password').execute('if(jQuery(eventObject.currentTarget).attr(\x22name\x22) \x3d\x3d \x22dwfrm_login_credentialsconfirm_resetpassword\x22){\r\n\tdocument.cookie \x3d \x27bt_forgotEmail\x3d\x27+jQuery(\x22#emailAddress\x22).val()+\x27;path\x3d/;\x27;\r\n}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22ReminderStep1Form\x22){\r\n\tdocument.cookie \x3d \x27bt_forgotEmail\x3d\x27+jQuery(\x22#dwfrm_requestpassword_email\x22).val()+\x27;path\x3d/;\x27;\r\n}else if(bt_cookie(\x22bt_forgotEmail\x22) !\x3d \x22\x22 \x26\x26 jQuery(\x22#ReminderStep1Form\x22).length \x3d\x3d 0){\r\n\tif(location.href.indexOf(\x22Customer-RequestPassword\x22)\x3e-1){\r\n\t\ts.channel \x3d \x22My Account\x22;\r\n\t}else{\r\n\t\ts.channel \x3d \x22Cart\x22;\r\n\t}\r\n\ts.events \x3d \x22event29\x22;\r\n\ts.eVar19 \x3d bt_cookie(\x22bt_forgotEmail\x22);\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.t();\r\n\tdocument.cookie \x3d \x27bt_forgotEmail\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT;\x27;\r\n\ts.channel \x3d \x22\x22;\r\n\ts.events \x3d \x22\x22;\r\n\ts.eVar19 \x3d \x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('suggested search').execute('if(eventObject.which \x3d\x3d 13 || eventObject.which \x3d\x3d 1 || eventObject.keyCode \x3d\x3d 13 || eventObject.keyCode \x3d\x3d 1){\r\n\tdocument.cookie \x3d \x22bt_suggestedSearchTerm\x3d\x22+jQuery(eventObject.currentTarget).find(\x22p.suggestionterm\x22).text()+\x22; path\x3d/\x22;\r\n\ts.linkTrackVars\x3d\x22events,channel,prop66,eVar72\x22;\r\n\ts.linkTrackEvents\x3d\x22event78\x22;\r\n\ts.events\x3d\x22event78\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.tl(true,\x27o\x27,\x27Suggested Search\x27);\r\n}',{tagId:53582});
BrightTag.EventBinding.when('remove saved item').execute('s.channel\x3d\x22Cart\x22;\r\ns.eVar72\x3d\x22+1\x22;\r\ns.products\x3d(function(){\r\n\tvar chosenItem \x3d jQuery(eventObject.currentTarget).parents(\x22.itemSFLDisplay\x22);\r\n\tvar itemRev \x3d jQuery(chosenItem).find(\x22.unitPrice span\x22).text().replace(\x22\xa3\x22,\x22\x22);\r\n\tvar itemSKU \x3d jQuery(chosenItem).attr(\x22id\x22).replace(\x22itemSFLDisplay_\x22,\x22\x22);\r\n\tvar sProducts \x3d \x27;\x27+itemSKU+\x27;1;\x27+itemRev;\r\n\treturn sProducts;\r\n})();\r\ns.events\x3d\x22scRemove\x22;\r\ns.t();',{tagId:53582});
BrightTag.EventBinding.when('self service return').execute('if(jQuery(eventObject.currentTarget).attr(\x22name\x22) \x3d\x3d \x22dwfrm_returnorder_choose\x22){\r\n\tvar bt_ReasonElements \x3d jQuery(\x22div.returnItemReason select option:selected\x22), bt_skuURLs \x3d jQuery(\x22#returnItemList p.product a\x22), bt_itemNameElems \x3d jQuery(\x22.titleDisplaySpan\x22), bt_itemQtyElems \x3d jQuery(\x22.returnedQuantity select\x22);\r\n\tvar bt_skuVals \x3d [], bt_reasonVals \x3d [], bt_itemNameKeys \x3d [], bt_itemQtys \x3d [];\r\n\tfor(i\x3d0; i\x3cbt_ReasonElements.length; i++){\r\n\t\tif(jQuery(bt_ReasonElements[i]).text() !\x3d \x22Please select:\x22){\r\n\t\t\tbt_itemNameKeys.push(jQuery(bt_itemNameElems[i]).text());\r\n\t\t\tbt_itemQtys.push(jQuery(bt_itemQtyElems[i]).val());\r\n\t\t\tbt_reasonVals.push(jQuery(bt_ReasonElements[i]).text());\r\n\t\t\tbt_skuVals.push(jQuery(bt_skuURLs[i]).attr(\x22href\x22).match(/\\/([A-Z]{3}|[A-Z]{1})?[0-9]+/)[0].replace(\x22/\x22,\x22\x22));\r\n\t\t}\r\n\t}\r\n\tbt_reasonVals \x3d bt_reasonVals.join(\x22^\x22);\r\n\tbt_skuVals \x3d bt_skuVals.join(\x22^\x22);\r\n\tbt_itemNameKeys \x3d bt_itemNameKeys.join(\x22^\x22);\r\n\tbt_itemQtys \x3d bt_itemQtys.join(\x22^\x22);\r\n\tdocument.cookie \x3d \x27bt_retReasonSKUQtysNames\x3d\x27+bt_reasonVals+\x27|\x27+bt_skuVals+\x27|\x27+bt_itemQtys+\x27|\x27+bt_itemNameKeys+\x27; path\x3d/;\x27;\r\n}else if(jQuery(eventObject.currentTarget).attr(\x22name\x22) \x3d\x3d \x22dwfrm_returnoptions_choose\x22 \x26\x26 bt_cookie(\x22bt_retReasonSKUQtysNames\x22) !\x3d \x22|||\x22){\r\n\tvar bt_optionChosen \x3d [];\r\n\tvar bt_itemNameFixedElems \x3d jQuery(\x22.returnOptionSection .productDescription .titleDisplaySpan\x22), bt_itemPriceFixedElems \x3d jQuery(\x22.returnOptionSection .productDescription .productPrice\x22);\r\n\tvar bt_itemNameOptionElems \x3d jQuery(\x22#returnItemList .titleDisplaySpan\x22), bt_itemPriceOptionElems \x3d jQuery(\x22#returnItemList .productPrice\x22);\r\n\tvar bt_prevItemNames \x3d bt_cookie(\x22bt_retReasonSKUQtysNames\x22).split(\x22|\x22)[3].split(\x22^\x22), bt_prevItemQtys \x3d bt_cookie(\x22bt_retReasonSKUQtysNames\x22).split(\x22|\x22)[2].split(\x22^\x22), bt_prevItemsSKU \x3d bt_cookie(\x22bt_retReasonSKUQtysNames\x22).split(\x22|\x22)[1].split(\x22^\x22);\r\n\tvar bt_reasonVals \x3d bt_cookie(\x22bt_retReasonSKUQtysNames\x22).split(\x22|\x22)[0].split(\x22^\x22);\r\n\tvar bt_newMasterItemArray \x3d [], bt_sProductsList \x3d [];\r\n\tfor(j\x3d0; j\x3cbt_itemNameFixedElems.length; j++){\r\n\t\tbt_newMasterItemArray.push(jQuery(bt_itemNameFixedElems[j]).text() + \x22#Fix*\x22 + jQuery(bt_itemPriceFixedElems[j]).text().match(/[0-9]+.[0-9]{2}/)[0]);\r\n\t}\r\n\tfor(k\x3d0; k\x3cbt_itemNameOptionElems.length; k++){\r\n\t\tbt_newMasterItemArray.push(jQuery(bt_itemNameOptionElems[k]).text() + \x22#Opt*\x22 + jQuery(bt_itemPriceOptionElems[k]).text().match(/[0-9]+.[0-9]{2}/)[0]);\r\n\t}\r\n\tfor(l\x3d0; l\x3cbt_newMasterItemArray.length; l++){\r\n\t\tfor(m\x3d0; m\x3cbt_prevItemNames.length; m++){\r\n\t\t\tif(bt_prevItemNames[m] \x3d\x3d bt_newMasterItemArray[l].replace(/#.*/,\x22\x22)){\r\n\t\t\t\tif(bt_newMasterItemArray[l].split(\x22#\x22)[1].split(\x22*\x22)[0] \x3d\x3d \x22Fix\x22){\r\n\t\t\t\t\tbt_sProductsList.push(\x22?\x22+bt_prevItemsSKU[m]+\x22?\x22+bt_prevItemQtys[m]+\x22?\x22+bt_newMasterItemArray[l].split(\x22*\x22)[1]+\x22??eVar26\x3d\x22+(jQuery(\x22.returnOptionSection .returnLabelCont a:contains(\x27More Details\x27)\x22).attr(\x22title\x22).indexOf(\x22Call Us\x22)\x3e-1 ? \x22Call Us\x22 : jQuery(\x22.returnOptionSection .returnLabelCont a:contains(\x27More Details\x27)\x22).attr(\x22title\x22))+\x22|eVar27\x3d\x22+bt_reasonVals[m]);\r\n\t\t\t\t}else if(bt_newMasterItemArray[l].split(\x22#\x22)[1].split(\x22*\x22)[0] \x3d\x3d \x22Opt\x22){\r\n\t\t\t\t\tbt_sProductsList.push(\x22?\x22+bt_prevItemsSKU[m]+\x22?\x22+bt_prevItemQtys[m]+\x22?\x22+bt_newMasterItemArray[l].split(\x22*\x22)[1]+\x22??eVar26\x3d\x22+jQuery(\x22input[name\x3d\x27dwfrm_returnoptions_returnOption\x27]:checked\x22).val()+\x22|eVar27\x3d\x22+bt_reasonVals[m]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tbt_sProductsList \x3d bt_sProductsList.join(\x22~\x22);\r\n\tdocument.cookie \x3d \x27bt_retReasonSKUQtysNames\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/\x27;\r\n\tdocument.cookie \x3d \x27bt_productsList\x3d\x27+bt_sProductsList+\x27$\x27+jQuery(\x22.orderNo span\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27)+\x27; path\x3d/;\x27;\r\n}else if(jQuery(\x22h1.returnOrderH1\x22).length \x3e 0){\r\n\tif(jQuery(\x22h1.returnOrderH1\x22).text() \x3d\x3d \x22Thanks for submitting your returns\x22){\r\n\t\tdocument.cookie \x3d \x27bt_productsList\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/\x27;\r\n\t}\r\n}',{tagId:53582});
BrightTag.EventBinding.when('registration submission').execute('if(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22personalDetails\x22){\r\n\tif(jQuery(\x22#newsletteryes:checked\x22).length \x3d\x3d 0){\r\n\t\tdocument.cookie \x3d \x27bt_regVal\x3devent28,event17;path\x3d/;\x27;\r\n\t\tdocument.cookie \x3d \x27bt_regEmail\x3d\x27+jQuery(\x22#dwfrm_profile_customer_email\x22).val()+\x27;path\x3d/;\x27;\r\n\t}else{\r\n\t\tdocument.cookie \x3d \x27bt_regVal\x3devent28;path\x3d/;\x27;\r\n\t\tdocument.cookie \x3d \x27bt_regEmail\x3d\x27+jQuery(\x22#dwfrm_profile_customer_email\x22).val()+\x27;path\x3d/;\x27;\r\n\t}\r\n}else if(jQuery(eventObject.currentTarget).attr(\x22id\x22) \x3d\x3d \x22dwfrm_checkout\x22){\r\n\tif(jQuery(\x22#dwfrm_checkout_profile_customer_newsletterTypes:checked\x22).length \x3d\x3d 0 \x26\x26 jQuery(\x22#dwfrm_checkout_registration_registration_registercustomer:checked\x22).length \x3e 0){\r\n\t\tdocument.cookie \x3d \x27bt_regVal\x3devent28,event17;path\x3d/;\x27;\r\n\t\tdocument.cookie \x3d \x27bt_regEmail\x3d\x27+jQuery(\x22#emailConfirm\x22).val()+\x27;path\x3d/;\x27;\r\n\t}else if(jQuery(\x22#dwfrm_checkout_registration_registration_registercustomer:checked\x22).length \x3e 0){\r\n\t\tdocument.cookie \x3d \x27bt_regVal\x3devent28;path\x3d/;\x27;\r\n\t\tdocument.cookie \x3d \x27bt_regEmail\x3d\x27+jQuery(\x22#emailConfirm\x22).val()+\x27;path\x3d/;\x27;\r\n\t}\r\n}else if(bt_cookie(\x22bt_regVal\x22) !\x3d \x22\x22 \x26\x26 jQuery(\x22#dwfrm_checkout,#personalDetails\x22).length \x3d\x3d 0 \x26\x26 jQuery(\x22meta[name\x3d\x27title\x27]\x22).attr(\x22content\x22).replace(\x22Checkout: \x22,\x22\x22).toLowerCase() \x3d\x3d \x22checkout complete\x22){\r\n\ts.events \x3d bt_cookie(\x22bt_regVal\x22);\r\n\ts.channel \x3d \x22Thank You\x22;\r\n\ts.eVar19 \x3d bt_cookie(\x22bt_regEmail\x22);\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.t();\r\n\tdocument.cookie \x3d \x27bt_regVal\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n\tdocument.cookie \x3d \x27bt_regEmail\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n    s.events \x3d \x22\x22;\r\n    s.eVar19 \x3d \x22\x22;\r\n}else if(bt_cookie(\x22bt_regVal\x22) !\x3d \x22\x22 \x26\x26 jQuery(\x22#dwfrm_checkout,#personalDetails\x22).length \x3d\x3d 0){\r\n\ts.events \x3d bt_cookie(\x22bt_regVal\x22);\r\n\ts.channel \x3d \x22My Account\x22;\r\n\ts.eVar19 \x3d bt_cookie(\x22bt_regEmail\x22);\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.t();\r\n\tdocument.cookie \x3d \x27bt_regVal\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n\tdocument.cookie \x3d \x27bt_regEmail\x3d; expires\x3dThu, 01 Jan 1970 00:00:01 GMT; path\x3d/;\x27;\r\n    s.events \x3d \x22\x22;\r\n    s.eVar19 \x3d \x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('grid/list view toggle').execute('var bt_viewToggle \x3d (function(){\r\n\tif(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22viewGrid\x22){\r\n\t\treturn \x22event51\x22;\r\n\t}else if(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22viewList\x22){\t\r\n\t\treturn \x22event52\x22;\r\n\t}else{\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();\r\nif(bt_viewToggle !\x3d \x22\x22){\r\n\ts.linkTrackVars\x3d\x22channel,events,prop52,prop66,eVar72\x22;\r\n\ts.linkTrackEvents\x3dbt_viewToggle;\r\n\ts.events\x3dbt_viewToggle;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.tl(true,\x27o\x27,\x27Grid/List View Toggle\x27);\r\n\ts.list2\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('menu navigation').execute('setTimeout(function(){\r\n\tvar brandType \x3d (function(){\r\n\t\tvar bt_logoClass \x3d \x22D\x22;\r\n\t\tif(jQuery(\x22#logo img\x22).length \x3e 0){\r\n\t\t\tif(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoAsdaWine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t\t}else if(jQuery(\x22#logo img\x22).attr(\x22class\x22) \x3d\x3d \x22logoGeorge\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tif(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Direct\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22D\x22;\r\n\t\t\t}else if(jQuery(\x22#logo a\x22).attr(\x22title\x22) \x3d\x3d \x22ASDA Wine\x22){\r\n\t\t\t\tbt_logoClass \x3d \x22W\x22;\r\n\t\t\t}else{\r\n\t\t\t\tbt_logoClass \x3d \x22G\x22;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn bt_logoClass;\r\n\t})();\r\n\tvar websiteType \x3d (function(){\r\n\t\tvar domain \x3d location.hostname;\r\n\t\tif(domain \x3d\x3d \x22direct.asda.com\x22 || domain \x3d\x3d \x22staging.direct.asda.com\x22 || domain.indexOf(\x22development.direct.asda.com\x22)\x3e-1){\r\n\t\t\treturn \x22D\x22;\r\n\t\t}else if(domain \x3d\x3d \x22m.direct.asda.com\x22 || domain.indexOf(\x22mstage\x22)\x3e-1){\r\n\t\t\treturn \x22M\x22;\r\n\t\t}else if(domain \x3d\x3d \x22t.direct.asda.com\x22 || domain.indexOf(\x22tstage\x22)\x3e-1){\r\n\t\t\treturn \x22T\x22;\r\n\t\t}\r\n\t})();\r\n\tfunction toTitleCase(str){\r\n\t\treturn str.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n\t}\r\n\ts.linkTrackVars\x3d(\x22events,channel,prop36,prop45,prop52,prop66,eVar72\x22);\r\n\ts.linkTrackEvents\x3d\x22event60\x22;\r\n\ts.events\x3d\x22event60\x22;\r\n\tif(websiteType \x3d\x3d \x22M\x22){\r\n\t\tif(jQuery(eventObject.target).parents(\x22.mw_client_content_box,#mw_abtiles\x22).length \x3e 0 \x26\x26 jQuery(\x22#mw_ga_config\x22).attr(\x22page_name\x22).indexOf(\x22_home\x22)\x3e-1){\r\n\t\t\tif(jQuery(\x22#mw_ga_config\x22).attr(\x22page_name\x22).indexOf(\x22george\x22)\x3e-1){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^Homepage^\x22+toTitleCase(jQuery(eventObject.target).parent().attr(\x22href\x22).match(/\\/george\\/[A-Za-z-]+\\//)[0].replace(/\\//g,\x22\x22).replace(\x22george\x22,\x22\x22).replace(/-.*/g,\x22\x22).toLowerCase()));\r\n\t\t\t}else{\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^Homepage^\x22+toTitleCase(jQuery(eventObject.target).parent().attr(\x22href\x22).match(/\\/[A-Za-z-]+\\//)[0].replace(/\\//g,\x22\x22).replace(/-/g,\x22 and \x22).toLowerCase()));\r\n\t\t\t}\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22#facetNavigation\x22).length \x3e 0){\r\n\t\t\tvar bt_crumbTitles \x3d [];\r\n\t\t\tjQuery(\x22#navBreadcrumbs a\x22).slice(1).each(function(){ bt_crumbTitles.push(jQuery(this).attr(\x22title\x22)); });\r\n\t\t\tif(bt_crumbTitles.length \x3d\x3d 0){ bt_crumbTitles.push(toTitleCase(jQuery(\x22.mw_h1 p\x22).text())); }\r\n\t\t\tif(jQuery(eventObject.target).text().indexOf(\x22[\x22)\x3e-1){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+bt_crumbTitles.toString()+\x22^\x22+jQuery(eventObject.target).text().replace(\x27[-]\x27,\x27\x27).replace(\x27[+]\x27,\x27\x27).replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+(jQuery(eventObject.target).text().indexOf(\x22[-]\x22)\x3e-1 ? \x22Open\x22 : \x22Close\x22));\r\n\t\t\t}else{\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+bt_crumbTitles.toString()+\x22^\x22+jQuery(eventObject.target).parents(\x22.categoryTitle\x22).find(\x22.refTitleBulletsControl\x22).text().replace(\x27[-]\x27,\x27\x27).replace(\x27[+]\x27,\x27\x27).replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22.leftNavCat\x22).length \x3e 0 || (jQuery(eventObject.target).attr(\x22class\x22) \x3d\x3d \x22undefined\x22 ? jQuery(eventObject.target).attr(\x22class\x22).indexOf(\x22leftNavCat\x22)\x3e-1 : false)){\r\n\t\t\tif(jQuery(eventObject.target).attr(\x22data-ur-state\x22)){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+toTitleCase(jQuery(\x22.mw_h1 p\x22).text())+\x22^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+(jQuery(eventObject.target).attr(\x22data-ur-state\x22) \x3d\x3d \x22enabled\x22 ? \x22Open\x22 : \x22Close\x22));\r\n\t\t\t}else{\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+toTitleCase(jQuery(\x22.mw_h1 p\x22).text())+\x22^\x22+jQuery(eventObject.target).parents(\x22.leftNavCat\x22).find(\x22div.mw_bar1\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}\r\n\t\t}else if(jQuery(eventObject.target).parents(\x22.mw_toggler_container\x22).length \x3e 0){\r\n\t\t\tif(jQuery(eventObject.target).attr(\x22data-ur-state\x22)){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+toTitleCase(jQuery(\x22.mw_h1 p\x22).text())+\x22^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+(jQuery(eventObject.target).attr(\x22data-ur-state\x22) \x3d\x3d \x22enabled\x22 ? \x22Open\x22 : \x22Close\x22));\r\n\t\t\t}else{\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+toTitleCase(jQuery(\x22.mw_h1 p\x22).text())+\x22^\x22+jQuery(eventObject.target).parents(\x22.mw_toggler_container\x22).find(\x22div[data-ur-toggler-component\x3d\x27button\x27]\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27)+\x22^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tvar bt_tabLevel \x3d jQuery(eventObject.target).parents(\x22.main_tab\x22).attr(\x22class\x22).replace(\x22main_tab\x22,\x22\x22).replace(\x22closed\x22,\x22\x22).replace(\x22opened\x22,\x22\x22).replace(\x22displayblock\x22,\x22\x22).replace(\x22mw_hide\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27);\r\n\t\t\tif(bt_tabLevel.match(/asda_groceries|asda_com|asda_direct|george|wine/) !\x3d null){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^More ASDA Sites^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}else if(bt_tabLevel \x3d\x3d \x22service\x22){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}else if(jQuery(eventObject.target).parents(\x22.tabLevel\x22).length \x3d\x3d 0 \x26\x26 jQuery(eventObject.target).parents(\x22.topNavDropdown\x22).length \x3d\x3d 0){\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t\t\t}else{\r\n\t\t\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+toTitleCase(jQuery(eventObject.target).parents(\x22.main_tab\x22).attr(\x22class\x22).replace(\x22main_tab\x22,\x22\x22).replace(\x22closed\x22,\x22\x22).replace(\x22opened\x22,\x22\x22).replace(\x22displayblock\x22,\x22\x22).replace(\x22mw_hide\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27).replace(\x22asda_direct\x22,\x22Direct Homepage\x22).replace(\x22george\x22,\x22George Homepage\x22).replace(\x22register\x22,\x22My Account\x22))+\x22^\x22+(jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27)));\r\n\t\t\t}\r\n\t\t}\r\n\t}else if(bt_data(\x27menu type\x27) \x3d\x3d \x22Top\x22){\r\n\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+(jQuery(eventObject.target).attr(\x22title\x22) ? jQuery(eventObject.target).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27) : (jQuery(eventObject.target).text() !\x3d \x22\x22 ? jQuery(eventObject.target).text().replace(/^\\s+|\\s+$/g,\x27\x27) : \x22Direct Home\x22)));\r\n\t}else if(brandType \x3d\x3d \x22G\x22){\r\n\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+jQuery(eventObject.target).parents(\x22.leftMenuShadow\x22).parent().find(\x22a\x22).attr(\x22title\x22) +\x22^\x22+ jQuery(eventObject.target).parents(\x22ul.level3category\x22).find(\x22li.level3entry\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27).replace(\x22View All \x22,\x22\x22) +\x22^\x22+ jQuery(eventObject.target).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27).replace(\x22Go to \x22,\x22\x22));\r\n\t}else{\r\n\t\tvar bt_subCatElem \x3d jQuery(eventObject.target).parents(\x22ul\x22)[0];\r\n\t\ts.prop36\x3d(websiteType+\x22^\x22+brandType+\x22^NM^\x22+jQuery(eventObject.target).parents(\x22ul.tab\x22).parents(\x22li\x22).find(\x22a\x22).attr(\x22title\x22) +\x22^\x22+ jQuery(bt_subCatElem).find(\x22li.mainMenuSubLevel1\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27).replace(\x22View All \x22,\x22\x22) +\x22^\x22+ jQuery(eventObject.target).attr(\x22title\x22).replace(/^\\s+|\\s+$/g,\x27\x27).replace(\x22Go to \x22,\x22\x22));\r\n\t}\r\n\ts.prop45\x3d\x22D\x3dc36\x22;\r\n\ts.prop66\x3d\x22D\x3dpageName\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.tl(true,\x27o\x27,\x27Menu Navigation\x27);\r\n},400);',{tagId:53582});
BrightTag.EventBinding.when('move to basket').execute('if(jQuery(eventObject.currentTarget).attr(\x22class\x22) \x3d\x3d \x22addAllToBasket\x22 || jQuery(eventObject.currentTarget).attr(\x22onclick\x22).indexOf(\x22MoveAllToBasket\x22)\x3e-1){\r\n\ts.channel\x3d(location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? \x22Save for Later\x22 : \x22Cart\x22);\r\n\ts.eVar15\x3d(location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? \x22SaveForLaterPage^SaveForLater\x22 : \x22CartPage^SaveForLater\x22);\r\n\ts.eVar28\x3d\x22SaveForLater\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\tvar chosenItem \x3d jQuery(\x22#saveForLaterList .itemSFLDisplay\x22);\r\n\tvar itemSKU \x3d [], itemRev \x3d [], itemName \x3d [];\r\n\tjQuery.each(chosenItem, function(){\r\n\t\titemSKU.push(jQuery(this).attr(\x22id\x22).replace(\x22itemSFLDisplay_\x22,\x22\x22));\r\n\t\titemRev.push(location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? (jQuery(this).find(\x22.productPrice .pounds,.newPrice\x22).text().replace(\x22\xa3\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)) : (jQuery(this).find(\x22.unitPrice span\x22).text().replace(\x22\xa3\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)));\r\n\t\titemName.push(jQuery(this).attr(\x22id\x22).find(\x22h4\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\t});\r\n\ts.products\x3d(function(){\r\n\t\tvar sProducts \x3d [], itemCount \x3d 0;\r\n\t\tfor(var i\x3d0; i \x3c itemSKU.length; i++){\r\n\t\t\titemCount \x3d itemCount + 1;\r\n\t\t\tsProducts.push(\x27;\x27+itemSKU[i]+\x27;1;\x27+itemRev[i]);\r\n\t\t}\r\n\t\treturn sProducts;\r\n\t})();\r\n\tvar bt_saveToAddCount \x3d jQuery(\x22#saveForLaterList .itemSFLDisplay\x22).length;\r\n\ts.events\x3djQuery(\x22.basketSectionCont h2:contains(\x27empty\x27)\x22).length \x3e 0 || jQuery(\x22.basketSummary .itemCount .amount\x22)[0].innerHTML \x3d\x3d \x220\x22 ? \x22scOpen,scAdd\x3d\x22+bt_saveToAddCount+\x22,event18\x3d\x22+bt_saveToAddCount+\x22\x22 : \x22scAdd\x3d\x22+bt_saveToAddCount+\x22,event18\x3d\x22+bt_saveToAddCount+\x22\x22;\r\n\ts.prop47\x3d\x22Add All Items From Save For Later List\x22;\r\n\ts.t();\r\n\ts.prop47\x3d\x22\x22;\r\n}else{\r\n\ts.channel\x3d(location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? \x22Save for Later\x22 : \x22Cart\x22);\r\n\ts.eVar15\x3d(location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? \x22SaveForLaterPage^SaveForLater\x22 : \x22CartPage^SaveForLater\x22);\r\n\ts.eVar28\x3d\x22SaveForLater\x22;\r\n\ts.eVar72\x3d\x22+1\x22;\r\n\ts.products\x3d(function(){\r\n\t\tvar chosenItem \x3d jQuery(eventObject.currentTarget).parents(\x22.itemSFLDisplay\x22);\r\n\t\tvar itemRev \x3d (location.pathname.indexOf(\x22SaveForLater-Show\x22)\x3e-1 ? (jQuery(chosenItem).find(\x22.productPrice .pounds,.newPrice\x22).text().replace(\x22\xa3\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)) : (jQuery(chosenItem).find(\x22.unitPrice span\x22).text().replace(\x22\xa3\x22,\x22\x22).replace(/^\\s+|\\s+$/g,\x27\x27)));\r\n\t\tvar itemSKU \x3d jQuery(chosenItem).attr(\x22id\x22).replace(\x22itemSFLDisplay_\x22,\x22\x22);\r\n\t\tvar sProducts \x3d \x27;\x27+itemSKU+\x27;1;\x27+itemRev;\r\n\t\treturn sProducts;\r\n\t})();\r\n\ts.events\x3djQuery(\x22.basketSectionCont h2:contains(\x27empty\x27)\x22).length \x3e 0 || jQuery(\x22.basketSummary .itemCount .amount\x22)[0].innerHTML \x3d\x3d \x220\x22 ? \x22scOpen,scAdd,event18\x22 : \x22scAdd,event18\x22;\r\n\ts.prop47\x3d(\x22A^\x22+s.products.split(\x22;\x22)[1]+\x22^\x22+jQuery(eventObject.currentTarget).parents(\x22.itemSFLDisplay\x22).find(\x22h3\x22).text().replace(/^\\s+|\\s+$/g,\x27\x27));\r\n\ts.t();\r\n\ts.prop47\x3d\x22\x22;\r\n}',{tagId:53582});
BrightTag.EventBinding.when('your account pages').execute('setTimeout(function(){\r\n\tvar siteType \x3d (function(){ if(location.hostname \x3d\x3d \x22m.direct.asda.com\x22){ return \x22mweb\x22; }else if(location.hostname \x3d\x3d \x22t.direct.asda.com\x22){ return \x22tweb\x22; }else{ return \x22dsk\x22; } })();\r\n\tif(jQuery(\x22#changeDetailsBlock\x22).css(\x22display\x22) \x3d\x3d \x22block\x22){\r\n\t\ts.pageName\x3d\x22direct:gm:\x22+siteType+\x22:your account:edit personal details\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.t();\r\n\t}else if(jQuery(\x22#changePasswordBlock\x22).css(\x22display\x22) \x3d\x3d \x22block\x22){\r\n\t\ts.pageName\x3d\x22direct:gm:\x22+siteType+\x22:your account:change password\x22;\r\n\t\ts.eVar72\x3d\x22+1\x22;\r\n\t\ts.t();\r\n\t}\r\n},500);',{tagId:53582});
